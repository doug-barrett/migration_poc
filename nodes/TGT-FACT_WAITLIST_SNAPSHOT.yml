fileVersion: 1
id: d468827b-c56a-467f-ba68-7a29f691ef9e
name: FACT_WAITLIST_SNAPSHOT
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 26af2fa8-199c-44f6-9d8b-0396c7419b0b
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date the snapshot of Open Waitlists was run
        name: SNAPSHOTDATE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5c80721f-c748-4326-9748-8ab0f5b9d623
                stepCounter: afdc7b93-0295-4b5a-9dc5-342789cac8bc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cf18f403-da2f-4f60-b307-afc2a7b74b5d
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: WAITLIST_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 789e947d-e84e-42c0-ac8b-6b85de4d682f
                stepCounter: afdc7b93-0295-4b5a-9dc5-342789cac8bc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 360e259d-a345-4200-a76b-3145b48b16ce
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: ""
        name: ESPI_COMPLIANT_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a2656bee-1300-4f62-b4cd-a36c6a705d4b
                stepCounter: afdc7b93-0295-4b5a-9dc5-342789cac8bc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 25f5f6f2-f83f-4be6-bc80-0ae80cd71577
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: WAITLIST_CLOCK_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e6fcd814-beb4-4bb3-b1da-f517bd27a501
                stepCounter: afdc7b93-0295-4b5a-9dc5-342789cac8bc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7d09ed26-d304-44e2-90f1-8fc19d71dfd8
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: WAITING_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b9e3f91f-da94-4160-b52c-16408af2ad8b
                stepCounter: afdc7b93-0295-4b5a-9dc5-342789cac8bc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 01728e0d-3ce3-4c99-b9cf-63064b040526
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: WAITLIST_DUE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8d4442c3-a377-49d6-bc09-47667c43d810
                stepCounter: afdc7b93-0295-4b5a-9dc5-342789cac8bc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4d83a413-7571-4b99-8b70-19f49db17a30
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: OUTPATIENT_APPOINTMENT_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 69e550e0-6ebe-43ff-85ff-10b50eb04a54
                stepCounter: afdc7b93-0295-4b5a-9dc5-342789cac8bc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bdce2b9b-53d5-48b7-ae09-d1643ec595ca
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Patient National Health Index (NMPI)
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2960f9ca-3f74-4d4f-a4c3-d4a2bd9df54b
                stepCounter: afdc7b93-0295-4b5a-9dc5-342789cac8bc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 64893a44-c990-4f3a-b3cc-74c879b346f2
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: VARCHAR(2000)
        defaultValue: ""
        description: ""
        name: WAITLIST_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 79e0b90a-82c6-4841-8929-6f57de2270d7
                stepCounter: afdc7b93-0295-4b5a-9dc5-342789cac8bc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5e115bf2-6d12-4597-9c2d-5f46e115fa9a
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: CERTAINTY_GIVEN_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 015240d6-11a5-4b0b-87ad-168c181bb00d
                stepCounter: afdc7b93-0295-4b5a-9dc5-342789cac8bc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ce706461-3975-403d-afc6-4625e17bc91d
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Days waited at the end of the current month, if waitlist still open
        name: WAITLIST_WAITING_MONTHEND_DAYS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 531dd935-4b6e-4dae-b929-0b0168771c86
                stepCounter: afdc7b93-0295-4b5a-9dc5-342789cac8bc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 36ba294b-d9e9-41c8-9e38-95d8ff93c034
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        name: DIM_PATIENT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9962a01b-5f3d-4c1a-b371-997edef38d0f
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7ce38bb7-52ee-49f0-8a54-e182aa5b9dc7
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        name: DIM_WAITLIST_CLINICIAN_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dcac1c0d-bdd1-4fc8-bc8e-5ddf9246393d
                stepCounter: 19000cde-0ad8-4d32-812e-f0fec7243d19
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3d854c76-ad41-45d3-8b7c-2835998f2651
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_waitlist_snapshot.waitlist_specialty_reference_no=dim_waitlist_specialty.waitlist_specialty_reference_no
        name: DIM_WAITLIST_SPECIALTY_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7079b2ef-9f2e-4032-99ec-75819d9db993
                stepCounter: 37897fcd-5ea0-47ee-96e7-b3f1f8b36d87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cc54700a-c2bc-44c5-a996-1211bb680d33
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_waitlist_snapshot.waitlist_booking_status=dim_waitlist_booked_status.waitlist_booking_status
        name: DIM_WAITLIST_BOOKED_STATUS_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b679af36-25ad-4416-8470-1dc2e15dfd20
                stepCounter: 9fba35bf-0cfe-4408-842d-7613e3ae7895
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cbf688b6-4a23-4989-9fb2-9197ba8a4e4c
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: DIM_WAITLIST_REMOVAL_REASON_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 65994591-0a22-424f-ab4b-0571e7000955
                stepCounter: c39228fd-cafe-41e2-93c8-28669128f12b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d27975af-73d4-4bb8-8e79-4b32c3eaa619
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        name: DIM_WAITLIST_PRIORITY_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d5d3320e-8dee-425b-b8a6-f51afefb4ad4
                stepCounter: 44358bb9-9c05-480c-80fc-1195de9552b3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f954563e-6409-484d-b248-97fbc8991b05
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: DIM_LIST_NAME_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fdb3912a-f8d8-4d6b-bece-bf3c6be3e112
                stepCounter: dadb2ec5-9218-4b98-83b9-011c7f4f1cb6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 25a56387-0fa0-4c7d-a43f-be605d2db485
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        name: DIM_ESPI_TYPE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8338b9c1-afad-4fb8-bacd-c0938f44ba56
                stepCounter: fa4aa4f0-f734-4a9b-bf53-ca1e2647b7b0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 17153537-f478-419c-92fe-a1c764f3e2a5
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        name: DIM_LOCAL_CATEGORY_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 105edc79-535c-4421-a4ad-bdc7bac7a44a
                stepCounter: 8b5331a4-4c77-49a3-bec1-72b8ba71cae8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 42d3e322-0ce5-4292-ba9d-bf95c4a79c44
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: SURGICAL_THEATRE_BOOKING_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3c0b144b-7105-4ef5-8ff9-723c4ef1a73a
                stepCounter: afdc7b93-0295-4b5a-9dc5-342789cac8bc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 97359c17-618d-413e-9052-ff088a41b766
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: TCI_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 33909218-e91c-4edc-a4d2-9fafebf51ddc
                stepCounter: afdc7b93-0295-4b5a-9dc5-342789cac8bc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e10cd392-a7bf-4b4e-bd24-f533710fe6f7
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        name: DIM_WAITLIST_TYPE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0262e650-13e9-4c2c-9e12-83091a68a73f
                stepCounter: be8cd5e0-3def-42d2-83c0-8edb9de13deb
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b90f47eb-71a3-4b82-8119-926bb1de97d8
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: Is the patient currently admitted for theis waitlist episode
        name: CURRENT_INPATIENT_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 43f684d1-c219-4ec9-9f30-50ae9d6111df
                stepCounter: 094c4583-7743-4ae0-9df4-7b84c010808b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ecc14ba5-5b7b-42ad-a701-b374707243df
          stepCounter: d468827b-c56a-467f-ba68-7a29f691ef9e
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          S_WAITLIST_SNAPSHOT: afdc7b93-0295-4b5a-9dc5-342789cac8bc
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_WAITLIST_SNAPSHOT
        join:
          joinCondition: FROM {{ ref('TGT','S_WAITLIST_SNAPSHOT') }}
        name: FACT_WAITLIST_SNAPSHOT
        noLinkRefs: []
  name: FACT_WAITLIST_SNAPSHOT
  overrideSQL: false
  schema: ""
  sqlType: Fact
  type: sql
  version: 1
type: Node
