fileVersion: 1
id: 45df1d87-872e-4dc7-bd50-519ae6a6c27b
name: S_PJ_PATHWAY
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: "Get a distinct list of journey_id, pathway_code combinations and look up the pathway dimension key. Source table for fact_patient_journey_pathway."
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 94669b8c-aee3-4813-ac00-f47bdb714da6
          stepCounter: 45df1d87-872e-4dc7-bd50-519ae6a6c27b
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Unique ID for a patient journey
        name: JOURNEY_ID
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7430fa21-0f88-4cbc-b94a-08e6fa51e299
                stepCounter: 52e22723-1714-4c7c-adb6-c7cb7ba39993
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 50c37fca-a2e7-4ca0-8934-f32e6da77ed0
          stepCounter: 45df1d87-872e-4dc7-bd50-519ae6a6c27b
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: ""
        name: PATHWAY_CODE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 93fe36ad-7bcf-4f9e-92a3-7e513dad5d33
                stepCounter: 52e22723-1714-4c7c-adb6-c7cb7ba39993
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8b068331-d067-45fd-9556-89325400d2a5
          stepCounter: 45df1d87-872e-4dc7-bd50-519ae6a6c27b
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Patient National Health Index (NMPI)
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e864cc8d-9a8a-46ee-8381-b2e83e6099cb
                stepCounter: 52e22723-1714-4c7c-adb6-c7cb7ba39993
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9bc71262-f55f-44d7-be01-b13fbec6ea66
          stepCounter: 45df1d87-872e-4dc7-bd50-519ae6a6c27b
        config: {}
        dataType: SMALLINT
        defaultValue: ""
        description: Journey number for the patient.
        name: JOURNEY_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 13f38701-d75b-4ed8-990d-1fa009ae4191
                stepCounter: 52e22723-1714-4c7c-adb6-c7cb7ba39993
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 408efeda-956e-4c8e-aa6a-f09b7eab1ec7
          stepCounter: 45df1d87-872e-4dc7-bd50-519ae6a6c27b
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: General counter always set to 1.
        name: PATHWAY_COUNT
        nullable: false
        sourceColumnReferences:
          - columnReferences: []
            transform: '1'
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5787ade0-01a4-49b7-94a2-266729856ac6
          stepCounter: 45df1d87-872e-4dc7-bd50-519ae6a6c27b
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_PJ_pathway.pathway_code=dim_patient_journey_pathway.pathway_code
        name: DIM_PATIENT_JOURNEY_PATHWAY_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b59fdd53-7f9f-4c50-967d-426de8ff850a
                stepCounter: 6a9c4d07-e35d-47ac-8fc4-db5c8b47df18
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e159e7bf-1f23-4167-b0b8-6967a8364fb0
          stepCounter: 45df1d87-872e-4dc7-bd50-519ae6a6c27b
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: DIM_SPECIALTY_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f9b7c171-0ccc-418a-8dde-0bffc9241732
                stepCounter: 52e22723-1714-4c7c-adb6-c7cb7ba39993
            transform: IFNULL(s_PJ_pathway_10.dim_specialty_key, 0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ace11712-7f2a-4938-a903-d3c936cc1cae
          stepCounter: 45df1d87-872e-4dc7-bd50-519ae6a6c27b
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_PJ_PATHWAY_10
        join:
          joinCondition: FROM s_PJ_pathway_10
        name: S_PJ_PATHWAY
        noLinkRefs: []
  name: S_PJ_PATHWAY
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
