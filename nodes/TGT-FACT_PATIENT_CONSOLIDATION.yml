fileVersion: 1
id: 668bf436-19db-4319-bde6-e45a6bfa2536
name: FACT_PATIENT_CONSOLIDATION
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c071d6dd-2e12-42aa-b46a-c76b14fcfe02
          stepCounter: 668bf436-19db-4319-bde6-e45a6bfa2536
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: EVENT_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d3675ce4-ab84-4833-9218-b775adbb0a44
                stepCounter: 20278c81-1956-42de-b78b-0cc943c5de59
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2726b8de-fe28-4ccb-bdb3-4b8722271d1a
          stepCounter: 668bf436-19db-4319-bde6-e45a6bfa2536
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        name: DIM_PATIENT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9962a01b-5f3d-4c1a-b371-997edef38d0f
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 88d305a1-a08c-443b-936c-64d29e5fbe39
          stepCounter: 668bf436-19db-4319-bde6-e45a6bfa2536
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bcbec988-3cbb-4c43-b519-6e1f1463ffc6
                stepCounter: 20278c81-1956-42de-b78b-0cc943c5de59
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f2f4b64f-a50d-4703-b9f2-8df37ef0b351
          stepCounter: 668bf436-19db-4319-bde6-e45a6bfa2536
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: FUNDED_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f6373091-5091-49c4-b15f-836720400b39
                stepCounter: 20278c81-1956-42de-b78b-0cc943c5de59
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 364d4a1a-4646-40d1-a600-d95dc2f177af
          stepCounter: 668bf436-19db-4319-bde6-e45a6bfa2536
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d8dbda32-eace-4b8b-94fe-acb9db227c5a
                stepCounter: 20278c81-1956-42de-b78b-0cc943c5de59
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5a3dba02-17e3-455c-89a5-827206c0d85f
          stepCounter: 668bf436-19db-4319-bde6-e45a6bfa2536
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c248d9cd-e30f-47f4-bf04-6269fb85f5a4
                stepCounter: 20278c81-1956-42de-b78b-0cc943c5de59
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c0e9356e-6528-461b-9c08-a059a21087b4
          stepCounter: 668bf436-19db-4319-bde6-e45a6bfa2536
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        name: START_DATE_ONLY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0b3a7cd7-12ce-4a82-80a2-eb5158c936b9
                stepCounter: 20278c81-1956-42de-b78b-0cc943c5de59
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1d8e9f56-b06c-4c00-8834-4a5b647e0782
          stepCounter: 668bf436-19db-4319-bde6-e45a6bfa2536
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        name: END_DATE_ONLY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 38782d7a-b1d0-4e47-9f86-ce1bb40a3dbf
                stepCounter: 20278c81-1956-42de-b78b-0cc943c5de59
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ea0766f9-fbe4-4d4e-8080-f4fd62574382
          stepCounter: 668bf436-19db-4319-bde6-e45a6bfa2536
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: REFERRAL_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bc5b522c-77e8-47ed-a305-4b3a92f94bf5
                stepCounter: 20278c81-1956-42de-b78b-0cc943c5de59
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 41412f60-f0c3-4015-b51b-fbcf3e8e7ff2
          stepCounter: 668bf436-19db-4319-bde6-e45a6bfa2536
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: WAITLIST_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2f9522b9-b43a-45ff-bc9b-83ddcc9257ab
                stepCounter: 20278c81-1956-42de-b78b-0cc943c5de59
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 94ceb161-2cd5-40aa-816c-e95b800d87be
          stepCounter: 668bf436-19db-4319-bde6-e45a6bfa2536
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_patient_consolidation_10.specialty_code=dim_MOH_health_specialty.health_specialty_code
        name: DIM_MOH_HEALTH_SPECIALTY_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a4d7df87-2df3-4b57-8f52-ed903baa503c
                stepCounter: ee36cf91-4a1a-41fe-bd9f-1a939711cdc0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ad3c8570-28a3-407d-a26e-b77b1c97768a
          stepCounter: 668bf436-19db-4319-bde6-e45a6bfa2536
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: DIM_MOH_FACILITY_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 761d48f1-aa04-4e5a-b03c-2039350337cd
                stepCounter: c4cdadfb-e6b3-4a34-a7fa-90dba7f7b082
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a36d999e-54c1-4334-a4dc-00918efde686
          stepCounter: 668bf436-19db-4319-bde6-e45a6bfa2536
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: DIM_PURCHASE_UNIT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 823906db-8ca0-4980-979e-c1df60e7b04a
                stepCounter: 20278c81-1956-42de-b78b-0cc943c5de59
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 030b8b78-28de-41bd-94c3-ba0c6ec3487b
          stepCounter: 668bf436-19db-4319-bde6-e45a6bfa2536
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_patient_consolidation_10.source=dim_patient_consolidation_source.consolidation_source
        name: DIM_PATIENT_CONSOLIDATION_SOURCE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 53c39351-4f72-4899-bcd5-6baa78cc14f0
                stepCounter: a3eea3d3-3a60-4cb0-836f-ffcaf83486da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5136101a-fdc7-4a0a-9341-627b1e421d14
          stepCounter: 668bf436-19db-4319-bde6-e45a6bfa2536
        config: {}
        dataType: BIT
        defaultValue: ""
        description: Was this a visit that has occured
        name: ATTENDED
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1b1b8e91-a034-4368-a0d3-93920121bd93
                stepCounter: 20278c81-1956-42de-b78b-0cc943c5de59
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b4ef844b-7c4a-446e-90d8-e9709fc8d733
          stepCounter: 668bf436-19db-4319-bde6-e45a6bfa2536
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          S_PATIENT_CONSOLIDATION_10: 20278c81-1956-42de-b78b-0cc943c5de59
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_PATIENT_CONSOLIDATION_10
        join:
          joinCondition: FROM {{ ref('TGT','S_PATIENT_CONSOLIDATION_10') }}
        name: FACT_PATIENT_CONSOLIDATION
        noLinkRefs: []
  name: FACT_PATIENT_CONSOLIDATION
  overrideSQL: false
  schema: ""
  sqlType: Fact
  type: sql
  version: 1
type: Node
