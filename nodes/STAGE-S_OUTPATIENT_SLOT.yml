fileVersion: 1
id: bb206529-4acd-4b33-902a-2141bdf340ef
name: S_OUTPATIENT_SLOT
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: "Dimension key look up. Source table for fact_outpatient_slot."
  isMultisource: false
  locationName: STAGE
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: aeb04c77-2bb8-4853-ae67-4c116a3e295a
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Unique identifier for the outpatient session.
        name: OUTPATIENT_SESSION_REFERENCE_NO
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 324ab3ab-4510-440a-b05f-07e6fb3a94d8
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8c66aec5-e7ba-4ae4-914d-4ad33b2250f5
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Unique identifier for the slot within an outpatient session.
        name: OUTPATIENT_SLOT_REFERENCE_NO
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c8a7b459-1fae-45ce-a23b-15b7cc620264
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b2ffc16a-829e-430a-a636-58b85910c9b0
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: SESSION_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bea2e0e9-8d6a-4d91-8f54-7ebe62218a70
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 12e55fbf-9f78-403d-9072-11ceb13d17a3
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: SESSION_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1a637c46-8968-40f2-9728-e6e7a7a5f785
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 95583a84-cf8e-4784-8b37-7cf96c5b7128
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time when the session started.
        name: SESSION_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 45e9b602-b32d-40e5-afc4-948238c617b0
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 486225d7-2939-4d94-9d18-142f607e6ce2
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Unique identifier of the outpatient clinic.
        name: OUTPATIENT_CLINIC_REFERENCE_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: eb3f5e91-937a-4e4e-b424-52c21ff8ca52
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 32c75442-8dcc-4465-a6c3-a17eefd35731
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Slot sequence number within the session in start time order.
        name: SLOT_SEQ_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 861c9604-6169-49d0-bea6-aec2afaba752
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dc1c5bea-a6f5-4882-889d-bae2e9aecd6c
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Slot sequence number within the session in descending start time order.
        name: SLOT_SEQ_NUM_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: eb38c9cb-d81e-48f6-8793-36d25597d39d
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7c1f2d91-3558-4ee1-a01c-2e34c1c37338
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Start date and time of the session slot.
        name: SLOT_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e08c5f8d-9a53-4548-9473-5c0b54c0de80
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c0ed14ec-1285-49aa-9acd-fac9b26e4c84
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: End date and time of the session slot.
        name: SLOT_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cae7b53b-2b4f-4e1d-a05e-db99a9b205d7
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6d3ba844-4e13-4c3d-ad9e-7579a10836f8
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: VARCHAR(25)
        defaultValue: ""
        description: Possible values include AVAIL (Available), NOLAV (No longer available), BUKED (Booked), RESRV (Reserved).
        name: SLOT_STATUS_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 82ec8271-a5b6-42dd-b7ad-9f1f85d27189
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 300acec0-059a-4347-9372-7dbb9409fcb6
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: SMALLINT
        defaultValue: ""
        description: Duration of a session slot in minutes.
        name: SLOT_DURATION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 685b3d52-9ebd-44df-8482-1d9e4a8d295d
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0fa70428-3d5c-464a-be54-7634a049d58c
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Set to 1 if the session slot has been cancelled
        name: SLOT_CANCELLED_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 80bdc9e2-7790-4ea8-8302-5a156a7ba427
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1be98ff7-ad60-4a5f-9e50-c648a7004cfb
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Number of FSA appointments available in the slot.
        name: SLOT_FSA_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e1713666-f517-4793-b7a7-0f824d88a345
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f7c0713b-2baf-4a79-8205-a733f6baf06a
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Number of FUP appointments available in the slot.
        name: SLOT_FUP_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5b433b50-4d49-497d-97d2-747f7cabd119
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5213b3f9-730a-4ee9-b1f5-5ea723c0bbc0
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Number of Inpatient appointments available in the slot.
        name: SLOT_INPATIENT_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f3d547b3-6484-4337-90f7-645f5c02b8ff
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2fc0e9df-8ae4-4925-9172-7fd52d9d7556
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Number of PAC appointments available in the slot.
        name: SLOT_PAC_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f77a09c4-111c-42aa-9018-8c8b42c597b6
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5d0aef50-e86e-4a0b-b6b6-685a62158de8
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Number of SOSFU appointments available in the slot.
        name: SLOT_SOSFU_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 18ebe69e-bb1d-4988-825f-0aadbe6b3df3
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7f276105-bf35-4d24-ab85-456eb0698fc5
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Number of appointments available in the slot that are not FSA, FUP, Inpatient, PAC or SOSFU.
        name: SLOT_OTHER_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 79a5befc-ad59-4971-9955-8a3ae05b6c00
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 895a6798-4b96-4a43-bc30-532ea00d8241
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Number of appointments booked in the slot.
        name: SLOT_BOOKING_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 26fbff0b-68e3-4f85-96ab-f2a4cc33d9ab
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 98b62f3a-f0d9-4250-a5d4-88f510308d65
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Set to 1 if the slot has a forced booking i.e. slot not normally available but has been booked anyway. Such bookings have no visit type.
        name: FORCED_BOOKING_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7f3aa916-5b62-4e53-a111-ef03bdde8322
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 53154a0e-3e43-4ac2-94a1-79126191ab10
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Number of FSA appointments booked in the slot.
        name: BOOKED_FSA_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f6f5270d-fb79-4b56-afc5-ad4a967078da
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d6373665-7dbd-44ad-8c5a-13034c7dd01f
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Number of FUP appointments booked in the slot.
        name: BOOKED_FUP_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8dbd65ea-1a9d-4110-bb58-da9f4e61f005
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0e4463d1-ee4f-40e6-9e15-6cfc9d3df754
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Number of Inpatient appointments booked in the slot.
        name: BOOKED_INPATIENT_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b0048aca-7fe2-4862-92f4-f80dcc5636cd
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 534c5f7f-519e-428f-b994-7589febc92d6
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Number of PAC appointments booked in the slot.
        name: BOOKED_PAC_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4fd5fd50-fbef-4a28-812c-7327afbe36e2
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d4668cd5-894f-46eb-8987-3e73b1f8e284
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Number of SOSFU appointments booked in the slot.
        name: BOOKED_SOSFU_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 66c844b3-6c5b-4368-b5cf-ab1912bbc00d
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 55b9ec64-a767-49dd-ac93-4c8f85d4320c
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: PATIENT_REFERENCE_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 795861f1-331e-4d00-9abc-303776beba7d
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 605c8cb0-8185-4037-9230-df1c263f59b8
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Number of appointments booked in the slot that are not FSA, FUP, Inpatient, PAC or SOSFU.
        name: BOOKED_OTHER_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c5e939ee-3b1f-49a5-90df-fbfa56602cca
                stepCounter: f246acde-d115-482c-9cfa-4c4d26f54aca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bf1980b2-2d30-4023-9b53-da96af9fe2b9
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: General counter always set to 1.
        name: SLOT_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: '1'
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 361ee373-25d5-4f8e-a963-b759719354a3
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_outpatient_slot.patient_reference_no=dim_patient.patient_reference_no
        name: DIM_PATIENT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: db615d3d-e3ad-4265-9c38-66523da423e0
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_outpatient_slot.outpatient_clinic_reference_no=dim_outpatient_clinic.outpatient_clinic_reference_no
        name: DIM_OUTPATIENT_CLINIC_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c98b92de-f3f6-4f75-9f28-39c14d26d388
                stepCounter: e0a63ed9-23e0-4e07-aea6-1cdf8a17c767
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5de5dff5-86c0-4d7a-a543-a77c0c521f4d
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_outpatient_slot.session_code=dim_outpatient_session.session_code  s_outpatient_slot.session_desc=dim_outpatient_session.session_desc
        name: DIM_OUTPATIENT_SESSION_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8367fd69-1044-4158-b4eb-7acc756f3a79
                stepCounter: 4e7ccbf8-5981-4e9d-966d-560af6d9978c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 736ccffc-736e-4f9d-af04-6fc537500d6c
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_outpatient_slot.session_start_date=dim_session_start_date.session_start_calendar_date
        name: DIM_SESSION_START_DATE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 94bb6ef7-7150-4297-81fc-fe60e990e03e
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_outpatient_slot.slot_status_code=dim_slot_status.slot_status_code
        name: DIM_SLOT_STATUS_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2933f651-8dd2-4341-8c70-766e753ba495
                stepCounter: 68e796a1-733f-41a1-ba77-9074b07f1353
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6d785529-8c62-4ebf-8ac8-40f4cb88d496
          stepCounter: bb206529-4acd-4b33-902a-2141bdf340ef
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: STAGE
            nodeName: S_OUTPATIENT_SLOT_40
        join:
          joinCondition: FROM s_outpatient_slot_40
        name: S_OUTPATIENT_SLOT
        noLinkRefs: []
  name: S_OUTPATIENT_SLOT
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
