fileVersion: 1
id: f50d0bcd-1861-4c81-8a9f-6e13e1983ae4
name: VIEW_CSLAND_MINERAL_CONTRACTS
operation:
  config:
    insertStrategy: UNION
    selectDistinct: false
  customOverride: false
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TARGET
  materializationType: view
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 16ff0fa6-0636-48c3-9ed4-3a3086c0b513
          stepCounter: f50d0bcd-1861-4c81-8a9f-6e13e1983ae4
        config: {}
        dataType: CHAR(10)
        defaultValue: ""
        description: MINERAL FILE SUB KEY
        isBusinessKey: true
        name: MINERAL_FILE_SUB_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d8517836-f7a0-4efb-959c-abc0a17a1203
                stepCounter: 84dfb8dd-1ece-401b-83b8-19ce6353ebae
            transform: TRIM(ODS_CSLAND_X_REFERENCE.FILE_NUMBER)||TRIM(ODS_CSLAND_X_REFERENCE.FILE_SUB)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b2219071-b01f-43c8-a5fc-210890cf2a91
          stepCounter: f50d0bcd-1861-4c81-8a9f-6e13e1983ae4
        config: {}
        dataType: CHAR(10)
        defaultValue: ""
        description: CONTRACT_FILE_KEY
        isBusinessKey: true
        name: CONTRACT_FILE_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a49b0632-715b-4a3a-aeca-37d8f114e113
                stepCounter: 84dfb8dd-1ece-401b-83b8-19ce6353ebae
            transform: TRIM(ODS_CSLAND_X_REFERENCE.REL_FILE_NUMBER)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2b7f1165-3d52-4af0-b077-28f8f4549ba3
          stepCounter: f50d0bcd-1861-4c81-8a9f-6e13e1983ae4
        config: {}
        dataType: VARCHAR(40)
        defaultValue: ""
        description: ""
        name: COMMENTS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2b7f1165-3d52-4af0-b077-28f8f4549ba3
                stepCounter: f50d0bcd-1861-4c81-8a9f-6e13e1983ae4
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          VIEW_CSLAND_MINERAL_CONTRACTS: f50d0bcd-1861-4c81-8a9f-6e13e1983ae4
        customSQL:
          customSQL: |-
            {{ stage('SQL Override') }}
            CREATE OR REPLACE VIEW {{ ref_no_link('TARGET','VIEW_CSLAND_MINERAL_CONTRACTS') }} AS SELECT TRIM(XR.REL_FILE_NUMBER)||TRIM(XR.REL_FILE_SUB) "MINERAL_FILE_SUB_KEY",
                   TRIM(XR.FILE_NUMBER)||TRIM(XR.FILE_SUB) "CONTRACT_FILE_KEY",
                   XR.COMMENTS
              FROM DS_CSLAND.X_REFERENCE XR
             WHERE XR.SUBSYSTEM = 'C'
               AND XR.REL_SUBSYSTEM = 'M'
        dependencies:
          - locationName: TARGET
            nodeName: ODS_CSLAND_X_REFERENCE
        join:
          joinCondition: |-
            -- Nodes used in the SQL override:
            {{ ref('TARGET','ODS_CSLAND_X_REFERENCE') }}
        name: VIEW_CSLAND_MINERAL_CONTRACTS
        noLinkRefs: []
  name: VIEW_CSLAND_MINERAL_CONTRACTS
  overrideSQL: true
  schema: ""
  sqlType: View
  type: sql
  version: 1
type: Node
