fileVersion: 1
id: f799d948-cd26-4c52-a206-75df8e149931
name: FACT_NASC_NEEDS_ASSESSMENT
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c2f6b600-d41d-430f-bbfa-106bcc48b2d6
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: INTEGER IDENTITY(1,1)
        defaultValue: ""
        description: ""
        name: FACT_NASC_NEEDS_ASSESSMENT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 96cb99d6-0c6b-4afa-a047-3e27e498c11b
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: CONTACT_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 94f7fd29-a9a8-45c2-806c-be2c9c5d11d4
                stepCounter: a1e708a4-e1c7-4d04-959f-c031c26752a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9240153f-0843-4c06-877f-5f192c5a3964
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_needs_assessment_NASC_20.contact_encounter_type_code=dim_encounter_type.encounter_type_code
        name: DIM_ENCOUNTER_TYPE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d3ba8df3-db2e-40a1-97dc-d5ad6a5186a7
                stepCounter: 1d0ea6a1-9563-4fb3-a1fa-9d43dbdf296e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fb50814d-9e29-4992-90c4-b4a8a634ec7d
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: TASK_REQUEST_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ab91a429-5ee3-4c12-9738-bee09665481a
                stepCounter: a1e708a4-e1c7-4d04-959f-c031c26752a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0b61a011-cca7-49b3-b41e-87d2d76ee083
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: BIGINT
        defaultValue: ""
        description: ""
        name: PROGRAMME_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c0dfd653-664b-4704-9884-ea50a156ddec
                stepCounter: a1e708a4-e1c7-4d04-959f-c031c26752a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5911e1ed-64a6-4938-8081-3a1e22219da5
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: ""
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b73d7f25-9f6a-435f-9c97-8f4817cfe71c
                stepCounter: a1e708a4-e1c7-4d04-959f-c031c26752a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cc91b92c-6946-4831-a256-4a7df05104d3
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: Generated artificial key
        name: DIM_PATIENT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9962a01b-5f3d-4c1a-b371-997edef38d0f
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8af049ee-ff48-43a7-b385-b0e98931cde5
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_needs_assessment_NASC_20.patient_age_on_contact_years=dim_age_group.age_years
        name: DIM_AGE_GROUP_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 18bfabd7-19aa-4de0-9ce7-aa560645bce6
                stepCounter: 3d5ba8a8-80ec-4848-b58a-d31b34cc53ed
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 888d6399-f9f9-4523-92d5-89a00a26e440
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_needs_assessment_NASC_20.domicile_code=dim_domicile.domicile_code
        name: DIM_DOMICILE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4e049fc8-a2a3-4bad-9b91-11b9d158b35e
                stepCounter: 330ad0aa-b8b1-4da9-ab37-b4fe8f889452
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ef843cd0-8c1a-4281-9ee3-f41c533f1e9d
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_needs_assessment_NASC_20.health_org_reference_no=dim_health_organisation.health_org_reference_no
        name: DIM_HEALTH_ORG_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 78290bb6-3cd5-4503-8179-d1f65525ba15
                stepCounter: 0790fdf4-e815-4587-a9cd-954ea13f53c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6ce7dcd9-156b-41e3-8f75-98cd6d913cc3
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: ""
        name: SEEN_BY_CLINICIAN_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1984aa45-252c-40e6-a3f3-adde6cb2a6ed
                stepCounter: a1e708a4-e1c7-4d04-959f-c031c26752a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6e5e99c8-a49f-4001-bbcb-951d1f480fef
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_needs_assessment_NASC_20.seen_by_clinician_reference_no=dim_seen_by_clinician.seen_by_clinician_reference_no
        name: DIM_SEEN_BY_CLINICIAN_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b6980c5e-497d-45d3-854e-f5d17228ad86
                stepCounter: 293e84bb-0ad7-4a27-96ab-0a0cb38c50c5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 33ff5f03-2b8a-4872-be37-f304c2560583
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: REFERRAL_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b63b2b1f-a9ae-4c32-8b23-bc0d6a2377ca
                stepCounter: a1e708a4-e1c7-4d04-959f-c031c26752a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c969fd07-7f1f-4adc-9f90-4a1a66d79a1c
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_needs_assessment_NASC_20.provider_id=dim_provider_community.provider_id
        name: DIM_PROVIDER_COMMUNITY_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 81b90d7a-0e1c-4ff6-a2e5-e32763dfcbcd
                stepCounter: fe333361-f763-4fd4-b86e-f42e95e81344
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7c16b668-6f6b-4505-a5df-dee6d31e0b8c
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_needs_assessment_NASC_20.programme_role_code=dim_role_community.role_code
        name: DIM_ROLE_COMMUNITY_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: acff4fff-07f1-43da-966d-53a96d429471
                stepCounter: ab48ab83-7613-4d28-acbd-ba81b413fe84
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a7074f0c-6ccb-4132-91a1-004225219221
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: TASK_REQUEST_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bd05c27a-7c6b-4da7-a47a-f5be96c5550f
                stepCounter: a1e708a4-e1c7-4d04-959f-c031c26752a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 447f0180-4677-4b5f-b115-9ac39e94a2eb
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_needs_assessment_NASC_20.CONVERT(date,s_needs_assessment_NASC_10.task_request_date)=dim_request_date.request_calendar_date
        name: DIM_REQUEST_DATE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 776fe4b8-0bb6-494d-a530-7fae3de7a539
                stepCounter: d1b797ef-4926-45af-a745-f75c3ed18b1f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4c45f3b3-30f0-46da-b268-ebb28b6b60b9
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: EPISODE_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e85c56a1-0db8-4c4f-8f99-0d9e4e336fb3
                stepCounter: a1e708a4-e1c7-4d04-959f-c031c26752a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3a551577-064a-477e-8f0c-62f549a92e69
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: EXIT_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c942f48d-96a5-4778-969f-564d58412207
                stepCounter: a1e708a4-e1c7-4d04-959f-c031c26752a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 50c5fedc-4685-4ba1-a3ce-856c5dc74c1a
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_needs_assessment_NASC_20.csc_card_flag=dim_needs_assessment_NASC.csc_card_flag  s_needs_assessment_NASC_20.living_situation=dim_needs_assessment_NASC.living_situation  s_needs_assessment_NASC_20.where_they_live=dim_needs_assessment_NASC.where_they_live  s_needs_assessment_NASC_20.SPA_band=dim_needs_assessment_NASC.SPA_band  s_needs_assessment_NASC_20.assessment_location=dim_needs_assessment_NASC.assessment_location  s_needs_assessment_NASC_20.outcome_action=dim_needs_assessment_NASC.outcome_action  s_needs_assessment_NASC_20.exit_reason=dim_needs_assessment_NASC.exit_reason  s_needs_assessment_NASC_20.assessment_type=dim_needs_assessment_NASC.assessment_type  s_needs_assessment_NASC_20.transfer_NASC=dim_needs_assessment_NASC.transfer_NASC  s_needs_assessment_NASC_20.transfer_DHB=dim_needs_assessment_NASC.transfer_DHB  s_needs_assessment_NASC_20.transfer_reason=dim_needs_assessment_NASC.transfer_reason  s_needs_assessment_NASC_20.transfer_out_residential=dim_needs_assessment_NASC.transfer_out_residential  s_needs_assessment_NASC_20.transfer_out_DHB=dim_needs_assessment_NASC.transfer_out_DHB  s_needs_assessment_NASC_20.observation_report_status=dim_needs_assessment_NASC.observation_report_status
        name: DIM_NASC_NEEDS_ASSESSMENT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dd274ca2-a09c-40dd-993a-66d170bd1e2c
                stepCounter: df4f5709-602f-4379-a7e8-96419c32c63a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c0047927-7fd8-447e-94d3-e869eee95bc8
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: s_needs_assessment_NASC_20.CSC_card_flag=dim_needs_assessment_NASC.CSC_card_flag  s_needs_assessment_NASC_20.living_situation=dim_needs_assessment_NASC.living_situation  s_needs_assessment_NASC_20.where_they_live=dim_needs_assessment_NASC.where_they_live  s_needs_assessment_NASC_20.SPA_band=dim_needs_assessment_NASC.SPA_band  s_needs_assessment_NASC_20.assessment_location=dim_needs_assessment_NASC.assessment_location  s_needs_assessment_NASC_20.outcome_action=dim_needs_assessment_NASC.outcome_action  s_needs_assessment_NASC_20.exit_reason=dim_needs_assessment_NASC.exit_reason  s_needs_assessment_NASC_20.assessment_type=dim_needs_assessment_NASC.assessment_type  s_needs_assessment_NASC_20.transfer_NASC=dim_needs_assessment_NASC.transfer_NASC  s_needs_assessment_NASC_20.transfer_DHB=dim_needs_assessment_NASC.transfer_DHB  s_needs_assessment_NASC_20.transfer_reason=dim_needs_assessment_NASC.transfer_reason  s_needs_assessment_NASC_20.transfer_out_residential=dim_needs_assessment_NASC.transfer_out_residential  s_needs_assessment_NASC_20.transfer_out_DHB=dim_needs_assessment_NASC.transfer_out_DHB  s_needs_assessment_NASC_20.observation_report_status=dim_needs_assessment_NASC.observation_report_status
        name: FIRST_ASSESSMENT_FLAG
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cf8515b9-bcc4-43be-b7a0-e6cbf4e72b8b
                stepCounter: a1e708a4-e1c7-4d04-959f-c031c26752a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7eb957ff-176c-4621-9e4e-e2d23f3c8f4e
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: s_needs_assessment_NASC_20.CSC_card_flag=dim_needs_assessment_NASC.CSC_card_flag  s_needs_assessment_NASC_20.living_situation=dim_needs_assessment_NASC.living_situation  s_needs_assessment_NASC_20.where_they_live=dim_needs_assessment_NASC.where_they_live  s_needs_assessment_NASC_20.SPA_band=dim_needs_assessment_NASC.SPA_band  s_needs_assessment_NASC_20.assessment_location=dim_needs_assessment_NASC.assessment_location  s_needs_assessment_NASC_20.outcome_action=dim_needs_assessment_NASC.outcome_action  s_needs_assessment_NASC_20.exit_reason=dim_needs_assessment_NASC.exit_reason  s_needs_assessment_NASC_20.assessment_type=dim_needs_assessment_NASC.assessment_type  s_needs_assessment_NASC_20.transfer_NASC=dim_needs_assessment_NASC.transfer_NASC  s_needs_assessment_NASC_20.transfer_DHB=dim_needs_assessment_NASC.transfer_DHB  s_needs_assessment_NASC_20.transfer_reason=dim_needs_assessment_NASC.transfer_reason  s_needs_assessment_NASC_20.transfer_out_residential=dim_needs_assessment_NASC.transfer_out_residential  s_needs_assessment_NASC_20.transfer_out_DHB=dim_needs_assessment_NASC.transfer_out_DHB  s_needs_assessment_NASC_20.observation_report_status=dim_needs_assessment_NASC.observation_report_status
        name: CURRENT_ASSESSMENT_FLAG
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1ea5b7e1-9d21-40e9-9886-76c0f24f1e7b
                stepCounter: a1e708a4-e1c7-4d04-959f-c031c26752a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6f474326-9eaf-41ad-aa2a-c7fd5ce86375
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: OBSERVATION_REPORT_DUE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5a6d821b-5ba1-4aea-8f00-b448e8313dbf
                stepCounter: a1e708a4-e1c7-4d04-959f-c031c26752a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 915ada82-828d-4e21-bcee-ec62f543c37b
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: COMPLETION_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: be351d77-795f-477d-8c76-2a9d0146d442
                stepCounter: a1e708a4-e1c7-4d04-959f-c031c26752a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0d2373b6-c91d-42eb-8e78-a3bbc451b217
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: PATIENT_ASSESSMENT_SEQ_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 676db258-18fc-4f76-a5a3-0d54b0bbd98c
                stepCounter: a1e708a4-e1c7-4d04-959f-c031c26752a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d432cd91-9290-46e5-b8ab-fc8bfe91cf2a
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: PATIENT_ASSESSMENT_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4abdc90e-b574-40c6-bd27-a97b9b00444f
                stepCounter: a1e708a4-e1c7-4d04-959f-c031c26752a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 62c8f7c3-1472-4b2b-a52f-a6d6c54e96b8
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: NEEDS_ASSESSMENT_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7a9521a2-26b3-422c-a99d-a6dd23e2e1d3
                stepCounter: a1e708a4-e1c7-4d04-959f-c031c26752a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2226b78f-a25c-4591-affb-2cdf43c32060
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: CREATE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 16334a19-2a61-4223-9592-6301ca9fc2bf
                stepCounter: a1e708a4-e1c7-4d04-959f-c031c26752a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 56f59977-1a94-4be9-b7ce-a6047c7f2038
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_needs_assessment_NASC_20.create_user_login_name=dim_user_login_concerto.user_name
        name: DIM_USER_LOGIN_CONCERTO_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 16f2ac98-6185-439c-9a15-757698e43d58
                stepCounter: 4bf64241-1d0b-4a30-8919-350bb5d33ed1
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 788534ed-cd67-4ca2-a881-ad7906f455c3
          stepCounter: f799d948-cd26-4c52-a206-75df8e149931
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies: []
        join:
          joinCondition: ""
        name: FACT_NASC_NEEDS_ASSESSMENT
        noLinkRefs: []
  name: FACT_NASC_NEEDS_ASSESSMENT
  overrideSQL: false
  schema: ""
  sqlType: Fact
  type: sql
  version: 1
type: Node
