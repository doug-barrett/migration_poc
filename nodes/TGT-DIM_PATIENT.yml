fileVersion: 1
id: d52dd438-7899-4242-9e38-539d2a1447df
name: DIM_PATIENT
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: "Dimensional Patient Bio-Data"
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9962a01b-5f3d-4c1a-b371-997edef38d0f
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: INTEGER IDENTITY(0,1)
        defaultValue: ""
        description: Generated artificial key
        isSurrogateKey: true
        name: DIM_PATIENT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 702dfc9d-df5e-42d8-86f8-9e68f29c462c
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: 'Internal unique identifier for a patient from the Patient Management System '
        isBusinessKey: true
        name: PATIENT_REFERENCE_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fdbf3b3e-7597-4640-a98e-f97650b075f3
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9afc76f7-9f87-4d30-b871-47c72c4e79d3
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: Patient Title
        name: PATIENT_TITLE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b5edbf04-1fe5-45ac-bd03-33ca97a4b3e4
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b98a3792-6bac-403e-bd05-454d4fc16cfe
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: Patient Forename
        name: PATIENT_FORENAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c516c8a9-2418-4890-8fd7-56dc1f0c9bc2
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4a78f9dc-a830-44bc-ac89-df633fbf4647
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: Patient surname
        name: PATIENT_SURNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b7885339-3bf3-4cc6-82ee-650a12db6fab
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 271e4fae-c1a4-4ebf-8ba4-75dfe9c95440
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(60)
        defaultValue: ""
        description: The surname and preferred forename of the patient in the format (SURNAME, PREFERRED_NAME)
        name: PATIENT_FULLNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cf91a074-672d-4e84-bc8d-6524accac216
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dd3940ac-6f62-4e0f-a7ca-63a841fde833
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: Patient_Preferred_Forename
        name: PATIENT_PREFERRED_FORENAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dba116ed-59e3-423a-931d-f4e2fbd40a8d
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7f201416-ac35-4870-a0c1-0836d1b9e5b7
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: The date the patient was born
        name: PATIENT_DATE_OF_BIRTH
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d668ca00-c378-4d50-9d17-bec3536c2183
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b5c2ff38-a66e-4814-80ba-d041584351af
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: The date that the patient died
        name: PATIENT_DATE_OF_DEATH
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4cde3587-ad72-4ffc-b0fa-3155345a873a
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 985f0ba0-97cf-4152-a49b-7e86cb71409e
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: 'The NHI is a unique 7-character identification number assigned to a healthcare user by the National Health Index (NHI) database.   There is a verification algorithm which ensures that the NHI number is in the correct format and is valid.     Also known as National Health Index, HCU identifier, NHI, HCU, HCU Number, Healthcare User identifier,   HCU identification number, NMPI number, Hospital Number, Patient Number.     '
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 98f4aa7d-950f-4a22-9b28-83633fb65846
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e90b8c91-0f3d-484a-bc28-b5373313fb17
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: 'Biological Sex of the patient '
        name: PATIENT_GENDER_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dfd06045-b24a-43a4-b340-4aa70472f22b
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 22b5c60e-b500-48a5-90e0-75dd7ee7519e
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: Ethnicity Group1 Description
        name: ETHNICITY_GROUP1_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e0a2248b-195a-421f-9170-3b735c8459bd
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4fe3054b-a26a-42c5-8c1f-14ff466d1773
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(3)
        defaultValue: ""
        description: Ethnicity Group1 code
        name: ETHNICITY_GROUP1_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e49b8978-b616-474b-b54c-0b59561d2300
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f068d033-b012-492d-a3d7-a45bf173409a
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: Ethnicity Group2 Description
        name: ETHNICITY_GROUP2_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f754df3d-c613-4caa-8401-536a4cfa203b
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6bd5e022-02fe-4198-acb2-48c0d9e132b6
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(3)
        defaultValue: ""
        description: Ethnicity Group2 code
        name: ETHNICITY_GROUP2_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6a8490b5-033e-4cbc-810d-baf8853b215f
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 62d3de24-4129-4d94-a6b0-6b7c64173b6e
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: Ethnicity Group3 Description
        name: ETHNICITY_GROUP3_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0054d3d4-e8d0-45c1-9616-b538db527ef8
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: afe6f1fa-d2ac-46e2-ae81-420e076c3c39
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(3)
        defaultValue: ""
        description: Ethnicity Group3 Code
        name: ETHNICITY_GROUP3_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3f62a760-5443-429b-b2e5-f44e4619d740
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2925f7f9-b1f7-4a95-ac04-cd48a365ecd5
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(3)
        defaultValue: ""
        description: Ethnicity_Highest_Priority
        name: ETHNICITY_HIGHEST_PRIORITY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8503540c-4a99-41bc-ad40-abbe16830544
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 212c39a9-dcc7-43bb-a1ab-fa8189ae7f26
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: Prioritised Ethnicity Code
        name: PRIORITISED_ETHNICITY_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d6d367b4-0684-485b-9196-7ed19c54c840
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c5061051-92c8-42b7-82c0-027023c42776
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: Prioritised Ethnicity Description
        name: PRIORITISED_ETHNICITY_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 19ea6f05-da0d-4e2f-9520-615260a341cd
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3d4dff83-e876-453f-a5d1-307a9931e97a
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: Prioritised_Ethnicity Level0 Description
        name: PRIORITISED_ETHNICITY_LEVEL0_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: da6a6964-9ed3-4290-b9a5-2edea6cd1ef7
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 020b979f-0b5b-4a0e-bac7-979edd1f59c5
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: Prioritised Ethnicity Level1 Description
        name: PRIORITISED_ETHNICITY_LEVEL1_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c5d499f1-9af4-498e-b8b3-80a777619433
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d44555dc-8e6f-4083-acbd-129c7c1035ae
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: Prioritised Ethnicity Alt1 Level1 Description
        name: PRIORITISED_ETHNICITY_ALT1_LEVEL1_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e19de690-ceb6-4a08-a724-ecc031575a87
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bee79653-cf9c-4c54-a82c-45532f217400
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: Prioritised Ethnicity Alt2 Level1 Description
        name: PRIORITISED_ETHNICITY_ALT2_LEVEL1_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fbf5e54c-470e-49fe-91dc-8c3207f7d93e
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5f24e892-77b1-453f-a720-1d48e6f6fc99
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: ""
        name: INTERPRETER_REQUIRED_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d641bc35-6709-4130-b7af-2c187e3d130f
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b46da256-881f-4f43-b6bb-7123649d02de
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: spoken language
        name: SPOKEN_LANGUAGE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 97f448fe-d9be-46e1-b6d4-9a5d1d069b46
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cddc3796-07e6-4514-b226-f4663d017e6c
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: ""
        name: DOMICILE_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 532dfce7-5c9f-4f3c-8109-e7a0e516cdf8
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fd0341f4-4654-4973-9431-c6b074ab0bd9
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: AREA_UNIT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1d3a3107-4463-4194-96fb-b490438b42e3
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4b70ca83-5532-43c3-929f-d50ecdc3cf6a
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: DHB of Domicile
        name: DHB_AREA
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 07cb4b70-6123-433a-a6f4-16431512e854
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fbf3f468-8ef4-4198-acda-4a2019618222
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: Description of the DHB of Domicile
        name: DHB_DESCRIPTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1108e2bf-e78d-47d0-9a2e-64cab18e4910
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 469885dc-5bcc-4883-9cde-c89b07ac8997
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Inter District Flow Class
        name: IDF_CLASS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 17d60029-db81-4958-96b0-430bc619d320
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 52d74c4d-6451-4934-bf1c-ef715949306f
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(25)
        defaultValue: ""
        description: Resident flag Y/N/U Yes, No or Unknown
        name: RESIDENT_FLAG
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 63b24817-0922-4754-be21-8e40972657b3
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 13e3f44a-7125-438f-b00f-42c54a307c05
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: ""
        name: DOMICILE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5f305bdc-5ce9-4690-916f-3f0f24ac5cc6
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d0e7f99e-2f78-48fe-ab12-38c5148aa7a3
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(2)
        defaultValue: ""
        description: ""
        name: PATIENT_ONLINE_OPTED_IN_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4431a415-29a2-4503-9951-c0b40dd46603
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7959fc16-8bb4-4b41-a6ed-bcf0ed6ac6a9
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: SMOKING_STATUS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9989f426-8e21-4c59-8eab-509b9d6a1165
                stepCounter: 19c8fa93-6380-4ec9-ada2-d3fd3323d18b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ac24a766-561a-4cc1-b4e1-03a9497bddc9
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: INT
        defaultValue: ""
        description: 'Used for systems linking on the NHI as the business key not the patient reference no to address the issues where a NHI is occasionally duplicated in iPM '
        name: NHI_SEQUENCE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 807d2b45-98b5-4f2a-8453-37adc7757a20
          stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies: []
        join:
          joinCondition: FROM [s_shared_patient_1] s_shared_patient_1
        name: DIM_PATIENT
        noLinkRefs: []
  name: DIM_PATIENT
  overrideSQL: false
  schema: ""
  sqlType: Dimension
  type: sql
  version: 1
type: Node
