fileVersion: 1
id: deb38ad0-9bce-46f0-99ca-6f1799390b82
name: S_IN_PATIENT_EVENT_WARD_PATH
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: "Materialised View s_in_patient_event_ward_path_v, for performance"
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5bf7c4c7-31ff-4b04-85f8-9542e3a7b488
          stepCounter: deb38ad0-9bce-46f0-99ca-6f1799390b82
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: EVENT_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8255ab28-918b-49b6-83b6-57fd9ae764a6
                stepCounter: 3c7b9e22-23c7-4b1c-afaa-08690af509ea
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c1297ad4-ffa7-419c-a884-4e1fd70f5ed5
          stepCounter: deb38ad0-9bce-46f0-99ca-6f1799390b82
        config: {}
        dataType: VARCHAR(2000)
        defaultValue: ""
        description: string of wards that patient stayed-in during the encounter
        name: WARD_PATH
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7b150240-1569-4274-a9f8-65e5f1db3b34
                stepCounter: 3c7b9e22-23c7-4b1c-afaa-08690af509ea
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 63acc187-5e94-4d27-aab0-8c5067d35b24
          stepCounter: deb38ad0-9bce-46f0-99ca-6f1799390b82
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ef2ee5d9-c814-4f12-804b-55843d450380
          stepCounter: deb38ad0-9bce-46f0-99ca-6f1799390b82
        config: {}
        dataType: 'VARCHAR(1) '
        defaultValue: ""
        description: Flag indicating whether patient passed through SCBU used for mapping purchase units for uncoded events
        name: SCBU_FLAG
        nullable: false
        sourceColumnReferences:
          - columnReferences: []
            transform: |-
              CASE WHEN s_in_patient_event_ward_path_v.ward_path like '%SCBU%' THEN 'Y'
                          ELSE 'N'
                           END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e8552761-b6b0-4944-bf2a-7cb1b8711ef4
          stepCounter: deb38ad0-9bce-46f0-99ca-6f1799390b82
        config: {}
        dataType: 'VARCHAR(1) '
        defaultValue: ""
        description: Flag indicating whether patient passed through ESC used for validating the purchase unit and RC mappings
        name: ESC_WARD_FLAG
        nullable: false
        sourceColumnReferences:
          - columnReferences: []
            transform: |-
              CASE WHEN s_in_patient_event_ward_path_v.ward_path like '%ESC%' THEN 'Y'
                          ELSE 'N'
                           END
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_IN_PATIENT_EVENT_WARD_PATH_V
        join:
          joinCondition: FROM s_in_patient_event_ward_path_v
        name: S_IN_PATIENT_EVENT_WARD_PATH
        noLinkRefs: []
  name: S_IN_PATIENT_EVENT_WARD_PATH
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
