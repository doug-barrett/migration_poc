fileVersion: 1
id: 329ad9eb-3b55-484f-a208-a4b5c5655f4a
name: S_OPTO_PATIENT_DEMOGRAPHIC_DETAILS_10
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9d4a485a-d0da-4a1a-8ea4-dab0f0c50a6a
          stepCounter: 329ad9eb-3b55-484f-a208-a4b5c5655f4a
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: DEMOGRAPHIC_KIND_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f41c8f75-4b88-4dd8-b7bb-b16fdfd1ad9f
                stepCounter: 1f421179-db2f-4c7a-85da-8a273fccd32d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bebf813e-ba77-4faf-9764-ca77ebd3e6d1
          stepCounter: 329ad9eb-3b55-484f-a208-a4b5c5655f4a
        config: {}
        dataType: NVARCHAR(50)
        defaultValue: ""
        description: ""
        name: DEMOGRAPHIC_KIND_DESCR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 992061bf-3c49-498f-8004-922336e3303f
                stepCounter: 1f421179-db2f-4c7a-85da-8a273fccd32d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 005ce7c2-52cf-4615-9ec0-ef4a59de61ad
          stepCounter: 329ad9eb-3b55-484f-a208-a4b5c5655f4a
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: DEMOGRAPHIC_KIND_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 463e96b0-9b69-42c5-9688-67ec734b09f5
                stepCounter: 1f421179-db2f-4c7a-85da-8a273fccd32d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8062dcfd-51a6-49c9-8fc3-aab7d40aa336
          stepCounter: 329ad9eb-3b55-484f-a208-a4b5c5655f4a
        config: {}
        dataType: NVARCHAR(100)
        defaultValue: ""
        description: ""
        name: DEMOGRAPHIC_LOWER_RANGE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a82bcf99-b666-4e7b-adbe-c6a9ae7b9627
                stepCounter: 1f421179-db2f-4c7a-85da-8a273fccd32d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b86cc8e0-9004-4af2-af2b-ffc630c3c8e3
          stepCounter: 329ad9eb-3b55-484f-a208-a4b5c5655f4a
        config: {}
        dataType: NVARCHAR(100)
        defaultValue: ""
        description: ""
        name: DEMOGRAPHIC_UPPER_RANGE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 430b24e4-062b-474e-8ebe-b47e2b0209cb
                stepCounter: 1f421179-db2f-4c7a-85da-8a273fccd32d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 777b00d9-e5d6-4d67-b2c5-833fe5c5fe63
          stepCounter: 329ad9eb-3b55-484f-a208-a4b5c5655f4a
        config: {}
        dataType: NVARCHAR(25)
        defaultValue: ""
        description: ""
        name: DEMOGRAPHIC_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c5af7b92-bfba-4125-ad66-37badea99a67
                stepCounter: 1f421179-db2f-4c7a-85da-8a273fccd32d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e160f223-8510-485d-a3f5-e62f76b75e19
          stepCounter: 329ad9eb-3b55-484f-a208-a4b5c5655f4a
        config: {}
        dataType: NVARCHAR(100)
        defaultValue: ""
        description: ""
        name: DEMOGRAPHIC_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c1f8458e-fdb8-4cc7-af97-9e7ff76200a7
                stepCounter: f8ecda87-a078-44de-a3ee-b1d78245b8ca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a206ad9d-f313-4b55-8ad1-6e40b3090e1e
          stepCounter: 329ad9eb-3b55-484f-a208-a4b5c5655f4a
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: DEMOGRAPHIC_VALID_FROM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8a08f7fa-7b3f-40c9-80e9-46a4adc5440f
                stepCounter: f8ecda87-a078-44de-a3ee-b1d78245b8ca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 00e80562-8b90-4745-b7db-c0a1cffe005d
          stepCounter: 329ad9eb-3b55-484f-a208-a4b5c5655f4a
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: DEMOGRAPHIC_VALID_TO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f70336ca-ea98-46c0-84e3-c4d3a565bedb
                stepCounter: f8ecda87-a078-44de-a3ee-b1d78245b8ca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 116e3052-a310-4d02-b5f3-5d8858e33b19
          stepCounter: 329ad9eb-3b55-484f-a208-a4b5c5655f4a
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: PATIENT_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0d6641e1-3a9c-487b-b545-d16b9dd92005
                stepCounter: e91e39d4-69d7-48a8-a9b6-0c124b337c23
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          L_OPTO_DEMOGRAPHIC_KIND: 1f421179-db2f-4c7a-85da-8a273fccd32d
          L_OPTO_DEMOGRAPHIC: f8ecda87-a078-44de-a3ee-b1d78245b8ca
          L_OPTO_PATIENT_DEMOGRAPHIC: e91e39d4-69d7-48a8-a9b6-0c124b337c23
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: L_OPTO_DEMOGRAPHIC_KIND
          - locationName: TGT
            nodeName: L_OPTO_DEMOGRAPHIC
          - locationName: TGT
            nodeName: L_OPTO_PATIENT_DEMOGRAPHIC
        join:
          joinCondition: |-
            FROM {{ ref('TGT','L_OPTO_DEMOGRAPHIC_KIND') }} l_opto_demographic_kind
              JOIN {{ ref('TGT','L_OPTO_DEMOGRAPHIC') }} l_opto_demographic
                ON l_opto_demographic_kind.id = l_opto_demographic.kindid
              JOIN {{ ref('TGT','L_OPTO_PATIENT_DEMOGRAPHIC') }} l_opto_patient_demographic
                ON l_opto_demographic.id = l_opto_patient_demographic.demographicid
               AND l_opto_demographic.validto >=getdate()
        name: S_OPTO_PATIENT_DEMOGRAPHIC_DETAILS_10
        noLinkRefs: []
  name: S_OPTO_PATIENT_DEMOGRAPHIC_DETAILS_10
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
