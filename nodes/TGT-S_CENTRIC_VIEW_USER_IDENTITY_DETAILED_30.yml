fileVersion: 1
id: b8bd75b5-8e87-4ada-9d04-4beba41a430f
name: S_CENTRIC_VIEW_USER_IDENTITY_DETAILED_30
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1f59f28c-c6eb-4f14-8785-8e57e5497a4d
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: DATE_UPDATED
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 74e4d871-17e9-4be9-9d3b-303164dcecdd
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a6e179e1-48e8-478f-9044-b4cfe69627c9
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: ROLE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0208ed22-372e-4b71-80ed-7d3bd8b6e063
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5a4cecc5-4503-4b2a-ab44-556af7ac0a0a
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Healthcare_Professional_Reference_Number
        name: HEALTHCARE_PROFESSIONAL_REFERENCE_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dc7955ce-6306-48c9-8aac-5bbbfef73ae7
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4e51d80c-d466-4787-9d4f-1969f6d9e8f9
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: NVARCHAR(255)
        defaultValue: ""
        description: ""
        name: ROLE_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0cf11146-6efc-4f83-80aa-3f445867f991
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7e286271-2f0c-4616-b956-b272aad8a676
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: VARCHAR(256)
        defaultValue: ""
        description: ""
        name: FIRST_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7d9b1f07-2779-44e7-ba7b-804a95eebb83
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9d2a2b86-c721-49e0-9070-aa24ce2b2b5f
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: VARCHAR(256)
        defaultValue: ""
        description: ""
        name: LAST_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 113bbd81-cfc0-46e3-93f6-6cf693051797
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a544263a-c8f0-4e1b-a707-d8a8728da53b
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: VARCHAR(256)
        defaultValue: ""
        description: ""
        name: CONTACT_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9a89aab1-811a-48a1-b08e-307a093d2046
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 216138b4-6725-49ba-9bb3-494a147427ac
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: VARCHAR(256)
        defaultValue: ""
        description: ""
        name: EMPLOYEE_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 11b8a082-549f-473c-8f64-3e6542ff85ce
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: daf303e3-0d0b-4332-a463-19b4845b3863
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: VARCHAR(256)
        defaultValue: ""
        description: ""
        name: USER_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 91b0dc9e-b3e3-4e4c-819b-bff7e178ceaa
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6cc0753f-04f5-4a01-a5b6-afbe02ab8876
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: s_centric_view_user_identity_detailed_10.user_name=dim_first_seenby_clinician.user_name
        name: SMT_FINALISE_USER_ROLE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 46329fd2-4f60-44b0-ab64-c9ef2cf541ac
                stepCounter: 5a1846f9-fb16-400b-8cc3-1eeef9dcb3cd
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 52f5a796-06cb-436d-a2e3-e07622dbad0a
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: s_centric_view_user_identity_detailed_10.user_name=dim_first_seenby_clinician.user_name
        name: USER_FULL_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7df28ba3-4034-40af-bb0f-cda3e710dd47
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 80405bef-b2c0-421b-8d0a-18194c15b28b
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: VARCHAR(7)
        defaultValue: ""
        description: s_centric_view_user_identity_detailed_10.user_name=dim_first_seenby_clinician.user_name
        name: SOURCE_NAMESPACE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e3815e83-d023-40c7-8553-977340af290e
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3c2cd632-32d4-4443-abb7-59bb30d29a87
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: s_centric_view_user_identity_detailed_10.user_name=dim_first_seenby_clinician.user_name
        name: USER_EMAIL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 90873f92-a4fa-49a1-941f-4c21b2b97e9a
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 15c4e4f7-06fc-4801-bc87-c7fc68399e28
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: VARCHAR(500)
        defaultValue: ""
        description: s_centric_view_user_identity_detailed_10.user_name=dim_first_seenby_clinician.user_name
        name: USER_DESCRIPTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b0e01140-6d27-488e-b917-36f00f4ff91b
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b5b9959f-7ca9-4a43-805f-f379c1b131f0
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: INT
        defaultValue: ""
        description: s_centric_view_user_identity_detailed_10.user_name=dim_first_seenby_clinician.user_name
        name: VERSION_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bc01a2d2-406a-4ce9-b1cd-9daf6ec4a823
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7c12fb93-b6de-48ae-a6b1-f6b8eec34846
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_centric_view_user_identity_detailed_10.user_name=dim_first_seenby_clinician.user_name
        name: USER_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e6c932cb-2350-409d-97d0-5e7b87378428
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ad95f533-43a3-4fbc-92d4-414ab346dd05
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: VARCHAR(128)
        defaultValue: ""
        description: s_centric_view_user_identity_detailed_10.user_name=dim_first_seenby_clinician.user_name
        name: USERNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 986a5ffc-3865-4725-b46e-c9d51e8deae9
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 72eb630e-8eab-4a4d-add2-c4e3b86c7ed2
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: s_centric_view_user_identity_detailed_10.user_name=dim_first_seenby_clinician.user_name
        name: VALIDITY_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 96457f3f-703d-4eae-82d2-ddf060f4d9a2
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: --Convert(DateTime, DATEDIFF(DAY, 0, GETDATE()))
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d8f4b673-6d46-4b53-9021-4e9ad4da5c99
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: s_centric_view_user_identity_detailed_10.user_name=dim_first_seenby_clinician.user_name
        name: VALIDITY_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 72a366ff-dc10-48cb-b485-5696b8194895
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: --'2044-12-31 00:00:00'
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0ab38ffa-6819-441b-af44-9a880f748476
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: min(DateCreated)
        name: START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0363a545-bb2a-4e54-b30e-be751132d9fd
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 65208c51-5ff5-4aa9-a9b1-6545a180bec1
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: max(DateCreated)
        name: END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 07fa57dd-1ba9-47a2-b4ad-f990b59ef3d2
                stepCounter: a283a327-cea8-40b2-8acb-19c561fb29da
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0b599bc6-bdfe-41de-8b4f-124101c6644d
          stepCounter: b8bd75b5-8e87-4ada-9d04-4beba41a430f
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_CENTRIC_VIEW_USER_IDENTITY_DETAILED_10
        join:
          joinCondition: |-
            FROM s_centric_view_user_identity_detailed_10
              JOIN s_centric_view_user_identity_detailed_20
                ON s_centric_view_user_identity_detailed_10.username=s_centric_view_user_identity_detailed_20.username --left join [dim].[dim_centric_first_seenby_clinician]   --on dim_centric_first_seenby_clinician.user_name=s_centric_view_user_identity_detailed_20.username  where 1=1  --and s_centric_view_user_identity_detailed_10.validity_end_date > getdate()  --and dim_centric_first_seenby_clinician.validity_end_date > getdate()  --and s_centric_view_user_identity_detailed_20.smt_finalise_user_role <> dim_centric_first_seenby_clinician.smt_finalise_user_role  --and s_centric_view_user_identity_detailed_10.username='AbhilaD'  and s_centric_view_user_identity_detailed_10.rn =1
        name: S_CENTRIC_VIEW_USER_IDENTITY_DETAILED_30
        noLinkRefs: []
  name: S_CENTRIC_VIEW_USER_IDENTITY_DETAILED_30
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
