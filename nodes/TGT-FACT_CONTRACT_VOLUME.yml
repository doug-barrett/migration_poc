fileVersion: 1
id: df9defa4-3e3d-4a54-8759-b3338c1af92a
name: FACT_CONTRACT_VOLUME
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: "Summarised view of volumes, costs and revenue by:  ‚Ä¢ Month  ‚Ä¢ Matching Price Volume Schedule contract line    Used for regular monitoring of contract performance "
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ba546ca6-08fb-47ab-aa33-3132182dd523
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: INTEGER IDENTITY(0,1)
        defaultValue: ""
        description: Artificial Key for fact table
        name: FACT_CONTRACT_VOLUME_ID
        nullable: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 42faf5f2-0fe8-4860-a775-bc114f658716
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: INT
        defaultValue: ""
        description: Key to join the contract line from the Price Volume Schedule  s_contract_volume_phased_budget_10.PVS_ID=dim_contract_line.PVS_ID
        name: DIM_CONTRACT_LINE_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e9c66e80-0cc8-4184-9774-2fef38a06498
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6a8f8e5e-35fb-428b-86ab-df082711fe36
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: artificial key for dates
        name: DIM_CONTRACT_REPORTING_DATE_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a2e928b4-675e-4dbf-a891-88a3b8fb8450
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 89d0d306-f502-43b7-9a5b-1c3d3b2ff207
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: NUMERIC(38,6)
        defaultValue: ""
        description: Budget volume from the Price Volume Schedule at the monthly grain
        name: BUDGET_VOLUME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dae142a1-abc9-4d73-8a7b-7541d5339ef5
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 78af9ae2-d837-4512-baf6-6e5248349fd7
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: NUMERIC(38,6)
        defaultValue: ""
        description: Budget revenue from the Price Volume Schedule at the monthly grain
        name: BUDGET_REVENUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3fa19e4c-73c4-4b65-ad89-ca5a1aa55cfc
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8f21a831-d833-4757-98c6-7a92164e26b7
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: NUMERIC(38,6)
        defaultValue: ""
        description: ""
        name: PLANNED_EVENTS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a2aa8232-6935-4875-9678-f4513f4a732e
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6af73b14-b374-4a16-9e24-49dfc30710cf
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: NUMERIC(38,6)
        defaultValue: ""
        description: profit margin (revenue - cost)
        name: PROFIT_MARGIN
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3fa19e4c-73c4-4b65-ad89-ca5a1aa55cfc
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: s_contract_volume.budget_revenue-s_contract_volume.actual_cost
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d795c8f9-701d-47fd-9731-504d7afc0155
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: NUMERIC(19,5)
        defaultValue: ""
        description: budgeted cost in providing the activity
        name: BUDGET_COST
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 785fc768-e4ab-41f9-870d-71f4d686814a
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4794c951-afd1-4751-8e27-84d547823567
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: NUMERIC(19,5)
        defaultValue: ""
        description: Total actual cost in providing the activity
        name: ACTUAL_COST
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dc3fe2e2-e485-481e-af28-d1fc484783da
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 59962862-f11a-45bd-baa0-76d109963f03
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: NUMERIC(19,5)
        defaultValue: ""
        description: Cost incurred by the Med HOP division in providing the activity
        name: MHOP_COST
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b1bf5e81-e664-4f2e-9781-026390df875b
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e90f85ff-40ac-46f1-af24-13333a52d2f0
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: NUMERIC(19,5)
        defaultValue: ""
        description: Cost incurred by the Surgical and Ambulatory division in providing the activity
        name: SURG_COST
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 199db1d4-a6be-4e53-ac17-3aa806051f88
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 16c77096-43e2-48ba-9850-0f31d5fbbfb8
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: NUMERIC(19,5)
        defaultValue: ""
        description: Cost incurred by the Child, Women & Family division in providing the activity
        name: CWF_COST
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 271d94ba-1c62-42cd-b787-0811777bd0bc
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c205797d-0817-442e-b6c4-55c22de27a41
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: NUMERIC(19,5)
        defaultValue: ""
        description: Cost incurred by the Elective Surgical Centre division in providing the activity
        name: ESC_COST
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4e7e1ce1-d068-4373-97a5-af0d5798acc7
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 603123a0-9a7b-4abf-bf30-642f24dc932a
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: NUMERIC(19,5)
        defaultValue: ""
        description: Cost incurred by other divisions in providing the activity
        name: OTH_COST
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a7938aa1-3ab5-4dd2-8713-ba95a31d742b
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8127db18-b0b1-437a-973f-cf6abb4181a6
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: NUMERIC(19,5)
        defaultValue: ""
        description: Costs incurred by the Acute and Emergency Medicine Division in providing the activity
        name: AMED_COST
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 18d70167-6dc0-4c00-9dae-3331251e040d
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 631870ed-6d7b-4d0e-a6ce-7ea39dfcb4ec
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: NUMERIC(19,5)
        defaultValue: ""
        description: The price of the purchase unit x purchase unit volume
        name: PUC_REVENUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2d9e5bfa-34fa-4b04-9127-0a2aefa4032b
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b04f1429-ee43-4854-91fe-de3ed5a2ebc9
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: NUMERIC(19,5)
        defaultValue: ""
        description: Distinct count of source encounters. Equivalent to count of discharges or outpatient appointments
        name: ENCOUNTER_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 62725cf9-5788-4032-b6c0-e04c44431b3d
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ab3a511c-9d17-427b-9c9d-0641133bdc09
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: NUMERIC(19,5)
        defaultValue: ""
        description: Distinct count of source encounters. Equivalent to count of discharges or outpatient appointments
        name: CODED_ENCOUNTER_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b22ac0fb-4a04-4892-a981-348fa943c4d4
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e0e2e16e-03ca-4d66-b6cf-7c581f3d751e
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: NUMERIC(19,5)
        defaultValue: ""
        description: Distinct count of source encounters. Equivalent to count of discharges or outpatient appointments
        name: UNCODED_ENCOUNTER_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 77480718-dc7f-4b2b-bc24-40b0d83c84e0
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2a64e613-10ef-4caa-96a4-2e40a6f1197c
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: NUMERIC(19,5)
        defaultValue: ""
        description: This is the volume of units which the event is funded under. The units can vary depending on the purhcase unit's unit of measure. i.e. WIES or 1 for procedure funded purchase units.
        name: ACTUAL_VOLUME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6f274123-8132-4bf0-92ca-8890c9ba37f6
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d4026ee7-67af-4456-8ec9-6bc53f08b8ef
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: NUMERIC(19,5)
        defaultValue: ""
        description: The purchase unit volume derived from uncoded events.
        name: ESTIMATED_VOLUME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c25a0fc8-0517-4b6e-883f-99d717e22755
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fafabaa2-6282-4127-bac7-bf2c1e6df263
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: VARCHAR(1)
        defaultValue: ""
        description: flags activity that has a contract attached to the events
        name: FUNDED_ACTIVITY_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f314ea49-f016-4211-a252-3732f2c8cf82
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5fe612e8-6698-412a-8541-93378932f8a0
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: VARCHAR(1)
        defaultValue: ""
        description: flags activity that has a cost attached to the events
        name: COSTED_ACTIVITY_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 29870d0f-40aa-4aae-a41d-b369f1e69c1b
                stepCounter: c95052e4-4e24-4bba-985e-591ae1a08940
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 32c81f77-73af-4d1a-830f-f3cc475853e8
          stepCounter: df9defa4-3e3d-4a54-8759-b3338c1af92a
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time that the record was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies: []
        join:
          joinCondition: ""
        name: FACT_CONTRACT_VOLUME
        noLinkRefs: []
  name: FACT_CONTRACT_VOLUME
  overrideSQL: false
  schema: ""
  sqlType: Fact
  type: sql
  version: 1
type: Node
