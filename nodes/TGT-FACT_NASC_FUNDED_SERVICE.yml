fileVersion: 1
id: 6923cded-0a0a-4ae4-a805-8a515195ccb7
name: FACT_NASC_FUNDED_SERVICE
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: "Details from NASC Services forms loaded in SWE. One row per form. Rows uniquely identified by atomic_observation_id and service_num."
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e931c946-431b-424f-99b2-c7ac759f75d7
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Uniquely identifies each funded service row. Set to the MIN child_atomic_observation_id for each child row within the atomic_observation_id.
        name: FUNDED_SERVICE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3290d673-50af-4cd5-a073-5b87e63c1d86
                stepCounter: 70048c71-c2a3-472d-a77b-b3dec799f17a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ec7c7c6a-7dd0-45ff-b702-268bf1ca819f
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: ""
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a41ddbb7-8cc7-4b91-9d3a-201d73e93a49
                stepCounter: 70048c71-c2a3-472d-a77b-b3dec799f17a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6dc19442-0c33-4b33-813a-9868d7f434cd
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: NUMERIC(18)
        defaultValue: ""
        description: ""
        name: PATIENT_PROGRAMME_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0b0a82d0-a845-402a-a6cf-6027b595e256
                stepCounter: 70048c71-c2a3-472d-a77b-b3dec799f17a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 595e1a64-8e94-46dd-bd5d-7a055c41a88b
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: TASK_REQUEST_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b4e7ea89-f970-428e-8415-59c1d2847f9a
                stepCounter: 70048c71-c2a3-472d-a77b-b3dec799f17a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 38471ba0-85ef-4a5a-81c8-74bea7720311
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: OBSERVATION_REPORT_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 96fc3599-127d-49d0-b0fb-20a31219055a
                stepCounter: 70048c71-c2a3-472d-a77b-b3dec799f17a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d67273c0-7bad-4c9a-84eb-b3bb097000a2
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: ""
        name: ROW_INDEX
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e25936ba-7eb3-4d24-b545-2d640568cab9
                stepCounter: 70048c71-c2a3-472d-a77b-b3dec799f17a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 80d356aa-6dac-43a4-8aaf-6ce657bcdb5a
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: ATOMIC_OBSERVATION_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ee9271ff-c423-46ac-b3f2-72aa83d5cdb0
                stepCounter: 70048c71-c2a3-472d-a77b-b3dec799f17a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 481641fc-b119-4b99-be12-d5ce814623e5
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: CONTACT_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d6fa9ead-f234-43e1-b340-3ef34a4c7a2c
                stepCounter: 70048c71-c2a3-472d-a77b-b3dec799f17a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1ef3fa04-9f9a-4019-80b1-8f50535992d8
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: ""
        name: SERVICE_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2772ca4e-3448-4f23-b88d-91010d07520c
                stepCounter: 70048c71-c2a3-472d-a77b-b3dec799f17a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4dc4834b-bad4-4dc3-a619-668c2f91c58e
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        name: SERVICE_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4ec783cb-0f90-4c1d-9d4b-a4c58c880a97
                stepCounter: 70048c71-c2a3-472d-a77b-b3dec799f17a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bf9bf6f8-f876-45fa-aa95-b12eeb6eb63e
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        name: SERVICE_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 994de23e-566b-4aa5-a12a-9f7d643e0dcc
                stepCounter: 70048c71-c2a3-472d-a77b-b3dec799f17a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: face56f6-8768-4a9b-b884-26c969b96a42
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: NUMERIC(9,3)
        defaultValue: ""
        description: ""
        name: SERVICE_VOLUME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0b0358f4-bfcf-4046-8b55-65518a7b4bc6
                stepCounter: 70048c71-c2a3-472d-a77b-b3dec799f17a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fbe969ba-3b02-4872-a1af-64bfaa7e4bf9
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: NUMERIC(6,2)
        defaultValue: ""
        description: ""
        name: SERVICE_UNIT_COST
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b5627bde-763d-4119-92bb-83c95f2d074a
                stepCounter: 70048c71-c2a3-472d-a77b-b3dec799f17a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3d3de4e1-bfa3-453b-92c7-dc57c9b22e08
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: NUMERIC(10,2)
        defaultValue: ""
        description: ""
        name: SERVICE_WEEK_COST
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b2283379-128a-4f38-b876-d042c97166b7
                stepCounter: 70048c71-c2a3-472d-a77b-b3dec799f17a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c41d3882-8144-4fd1-bbf1-e981b2e762f3
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Set to 1 if this is the first residential placement service for the patient.
        name: FIRST_PLACEMENT_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 303f8466-0670-492c-a2c3-19e5e8072cee
                stepCounter: 70048c71-c2a3-472d-a77b-b3dec799f17a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: db07f0b1-41a6-4361-8c93-2e61d4baa165
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_funded_service_NASC.programme_id=dim_community_programme.programme_id
        name: DIM_COMMUNITY_PROGRAMME_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1447701e-b431-47bc-9f74-ecc4d7d4fa85
                stepCounter: e51d8b6d-72a3-4062-ab25-a52c4b289aa5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6b163edb-846e-4cc4-aebb-654601424024
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_funded_service_NASC.observation_report_status=dim_community_report_status.observation_report_status
        name: DIM_COMMUNITY_REPORT_STATUS_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 97a01c03-78ba-4c60-baac-e1ebda8e3e51
                stepCounter: fe9db425-e454-40c8-a154-2c67b372c639
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b6f9f83b-fbdb-4cbe-ac74-b324fdbacb04
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_funded_service_NASC.tasktype_id=dim_community_task_type.task_type_id
        name: DIM_COMMUNITY_TASK_TYPE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f0cc6c52-e7bc-48a1-8b99-012274d955e6
                stepCounter: 98a41686-c1f0-4280-96a6-310e21b626e1
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: af825038-850a-4d5d-99c6-fa6d1de9d2f0
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_funded_service_NASC.placement_source_code=dim_NASC_placement_source.placement_source_code
        name: DIM_NASC_PLACEMENT_SOURCE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6bf98330-137d-4fc9-8b9a-cf9c7e343e8f
                stepCounter: 8f57dc84-a2a9-4bb7-8da8-9eb76ccbc95c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9cfef6bb-32bc-4ba7-9905-625dac5c8f7f
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_funded_service_NASC.placement_type_desc=dim_NASC_placement_type.placement_type_desc
        name: DIM_NASC_PLACEMENT_TYPE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d7622563-a731-420c-a870-ed2b14c7776d
                stepCounter: 657311eb-a813-4cf2-946f-8cfa7a271915
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a221c779-1289-4644-a34f-cac1f1301b5a
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_funded_service_NASC.service_provider=dim_NASC_provider.provider_name
        name: DIM_NASC_PROVIDER_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a5566634-2979-426b-9383-bef10e5c045b
                stepCounter: 19bf0aeb-35eb-4f6c-a484-7b160794cdc9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d6f52b05-49a7-47df-ba70-b885bf718320
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_funded_service_NASC.residential_type=dim_NASC_residential_type.residential_type
        name: DIM_NASC_RESIDENTIAL_TYPE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fa0ba506-79a3-42ff-92e0-27a76db048d0
                stepCounter: 33a362ec-1949-42f6-abf0-dfc57700a815
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7fff999a-bb51-4dd0-8673-bfe8ddb524b3
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_funded_service_NASC.service_desc=dim_NASC_service.service_desc
        name: DIM_NASC_SERVICE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4276f37e-a67f-42d4-a996-426d76b6411f
                stepCounter: 294222db-a375-446e-9e96-ef90338c6917
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 63d57fb3-3fde-4173-b644-3da2c7d640ae
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_funded_service_NASC.service_frequency=dim_NASC_service_frequency.service_frequency
        name: DIM_NASC_SERVICE_FREQUENCY_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 376d58e0-9d1b-4724-8acd-8e9d5a7393c3
                stepCounter: afd35945-459e-4e71-b939-9bb41eea1fc7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 42e59aa7-9817-4463-a7fc-209b3f18c542
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_funded_service_NASC.service_reason=dim_NASC_service_reason.service_reason
        name: DIM_NASC_SERVICE_REASON_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 97e9120d-f6a5-4316-9537-a87debea7c11
                stepCounter: 68c24858-14ff-497b-a812-1766eea95233
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 31f9d070-9d2f-442b-9825-3561c290633d
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_funded_service_NASC.service_unit=dim_NASC_service_unit.service_unit
        name: DIM_NASC_SERVICE_UNIT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 498185e1-f109-472e-8d80-70e2372fe3bc
                stepCounter: 427e4c7c-cfd7-4612-bc01-f5a31490e56b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 158283dc-675e-4ba2-ac3e-db808e8244cb
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        name: DIM_PATIENT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9962a01b-5f3d-4c1a-b371-997edef38d0f
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 33af576b-678d-42c5-8175-1b2eb7f70546
          stepCounter: 6923cded-0a0a-4ae4-a805-8a515195ccb7
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          S_FUNDED_SERVICE_NASC: 70048c71-c2a3-472d-a77b-b3dec799f17a
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_FUNDED_SERVICE_NASC
        join:
          joinCondition: FROM {{ ref('TGT','S_FUNDED_SERVICE_NASC') }}
        name: FACT_NASC_FUNDED_SERVICE
        noLinkRefs: []
  name: FACT_NASC_FUNDED_SERVICE
  overrideSQL: false
  schema: ""
  sqlType: Fact
  type: sql
  version: 1
type: Node
