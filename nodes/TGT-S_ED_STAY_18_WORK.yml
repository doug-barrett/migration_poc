fileVersion: 1
id: 783b3d0f-50d3-4a30-8252-c523aedff010
name: S_ED_STAY_18_WORK
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: "Truncated and updated by custom_s_ed_stay_18."
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ca98872f-a0f0-4fff-8264-ea5d85efdd4c
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: DECIMAL(10)
        defaultValue: ""
        description: Attendance ref no.
        name: AEATT_REFNO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 32dc32a8-527a-4d9f-b8e6-ec44f2b05158
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 864331f7-4a35-4514-944f-da3b03e6080f
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time patient arrived
        name: ARRIVED_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 02eb4fe2-4949-45a6-86c1-4de3140e4edb
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 15c0ad3f-78dc-4bfc-9ecf-c06a35d3da91
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time patient departed
        name: DEPARTED_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 51367620-44f1-4bf8-a7fc-6c0899ca03c5
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 948153b5-ac2e-4025-9052-44ba9c0e6972
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Which sort sequence (1-7) used when calculating stay start/end dates for the encounter. Can be set to 1 if there is only 1 ED stay row.
        name: SORT_REF
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 186d1534-47a8-4137-8374-27d86019eeae
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Number of events for the encounter
        name: ROW_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6aa02f9b-4d1a-465d-9e60-d34435da3b62
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 30cd7c7b-a214-4056-9540-ac04db412232
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Updated by custom_update_s_ed_stay_20 and varies with sort run number
        name: ROW_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 79ee5087-00eb-4d77-9132-5d1885716404
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f7c4b161-1c42-4c4b-9da7-5de6c0aa7972
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: NUMERIC(10)
        defaultValue: ""
        description: PIMS ward stay ref no
        isBusinessKey: true
        name: AESTY_REFNO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b2722b90-f540-46bd-b666-4a3cb8529eb7
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bc1a8775-6941-4e75-b641-566a89fdb584
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Location stay start date and time
        name: ORIG_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 80781b01-0b6c-4ea2-9f31-653db2cbe745
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b105744a-0e80-4423-a615-511f780942e4
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Location stay end date and time loaded from s_ed_stay_10
        name: ORIG_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c7721f11-dc9c-496f-9636-7ce59845acbc
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7bc95a7d-0c0b-44fe-9ac6-9f399c4a0ec6
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Location stay start date and time
        name: START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 80781b01-0b6c-4ea2-9f31-653db2cbe745
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 700833d4-ce95-4811-aadf-f1a21c6d1838
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Location stay start date and time of next row in sequence
        name: NEXT_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 80781b01-0b6c-4ea2-9f31-653db2cbe745
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 81e29c61-fabd-4bdd-a436-ad000a355bb3
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Calculated location stay end date and time. May not be final value used.
        name: CALC_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c7721f11-dc9c-496f-9636-7ce59845acbc
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0fb0ffeb-1de2-41c0-a3ba-924d602f6c60
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Location stay end date and time
        name: END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c7721f11-dc9c-496f-9636-7ce59845acbc
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 882b8144-c8b5-454a-a4f9-7f91b3c1af9d
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time seen by professional carer
        name: SEEN_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2c2d6e64-4cc1-42f4-bbbd-5755d8d12751
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: af39c6fe-bd1d-46b1-8b26-ef502c218bca
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: PIMS service point ref no
        name: SPONT_REFNO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5e87be8c-bd7a-45d5-96ab-c92e21e8899d
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 77f992d0-76ea-4228-a515-6d495c9efa51
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Location of stay.
        name: LOCATION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ca8d71f4-865e-45f6-9768-f9c48ae9e76f
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a170b530-c2d5-40f8-b6a0-035123cb4707
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: PIMS specialty ref no
        name: SPECT_REFNO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cb1d8428-1260-4e99-8e19-b0d1a17a5dbe
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f9d795a3-3310-4a93-b0b3-67b80ba2d2ec
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Specialty of the ward.
        name: SPECIALTY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 99b3ffe5-93d9-4d27-8c6e-2e1248abbee1
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ad369f80-1da5-4f85-8bd4-494b0bbd121d
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time patient transferred to a new specialty
        name: SPECT_XFER_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 54dbb55c-20e5-41e3-abf2-20c15b7f49a4
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 33b594a2-a677-4c3c-be66-6144a08b12c8
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Healthcare_Professional_Reference_Number
        name: PROCA_REFNO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c86d158e-2ebe-4059-ab38-6f80129f2ae7
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 77ad4495-a1c4-4ec6-8f58-f3a6cb6f4fc0
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Clinician associated with the stay
        name: CLINICIAN
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a3925589-33a6-4b42-82d0-7f3098aab469
                stepCounter: 19f97281-8cc4-4660-83be-6049689bc9c9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: faddc6e9-7506-4a69-b24a-0589c9d3b6ce
          stepCounter: 783b3d0f-50d3-4a30-8252-c523aedff010
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_ED_STAY_10
        join:
          joinCondition: FROM s_ed_stay_10
        name: S_ED_STAY_18_WORK
        noLinkRefs: []
  name: S_ED_STAY_18_WORK
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
