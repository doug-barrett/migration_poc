fileVersion: 1
id: 41ff33e4-520d-4f00-afcb-09734640f80f
name: S_EVITALS_REGIME
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2686af88-bad1-41bd-855d-91ef8c0c015b
          stepCounter: 41ff33e4-520d-4f00-afcb-09734640f80f
        config: {}
        dataType: INT
        defaultValue: ""
        description: regime key
        name: ORIG_REGIME_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5b5f6a4c-eed7-4ad1-a826-085e0b3cbfb8
                stepCounter: 46f76334-4cc1-4151-8f51-e6906c364807
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a2205d4a-55a6-43ee-9db6-54fd003689ea
          stepCounter: 41ff33e4-520d-4f00-afcb-09734640f80f
        config: {}
        dataType: INT
        defaultValue: ""
        description: regime key
        name: REGIME_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5b5f6a4c-eed7-4ad1-a826-085e0b3cbfb8
                stepCounter: 46f76334-4cc1-4151-8f51-e6906c364807
            transform: MIN(s_evitals_regime_parent.EWSRG_PK) OVER(PARTITION BY l1.name, l1.description)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b50ad6b4-cb9f-411c-b18f-d4a20ef0c34c
          stepCounter: 41ff33e4-520d-4f00-afcb-09734640f80f
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: REGIME_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3834a5e7-fc8c-4f6c-8f9d-4fb4a39258ac
                stepCounter: 776bd7c7-3bfb-4ee5-ade4-14347f752e64
            transform: l1.name
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d7f767ef-115d-4404-918d-19792bd36391
          stepCounter: 41ff33e4-520d-4f00-afcb-09734640f80f
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: REGIME_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1a890aa5-5a74-44cc-9f2e-ff67c02fb194
                stepCounter: 776bd7c7-3bfb-4ee5-ade4-14347f752e64
            transform: l1.description
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9e57516c-a21c-40e3-af6e-1e59c4645b38
          stepCounter: 41ff33e4-520d-4f00-afcb-09734640f80f
        config: {}
        dataType: INT
        defaultValue: ""
        description: Parent regime
        name: PARENT_REGIME_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9d90f576-f7f8-4dd0-b3be-2ebf91026f61
                stepCounter: 46f76334-4cc1-4151-8f51-e6906c364807
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1c39a29e-be70-47e7-86f6-b6cdde9b0a6d
          stepCounter: 41ff33e4-520d-4f00-afcb-09734640f80f
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: PARENT_REGIME_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3834a5e7-fc8c-4f6c-8f9d-4fb4a39258ac
                stepCounter: 776bd7c7-3bfb-4ee5-ade4-14347f752e64
            transform: l2.name
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0c67a5ba-1c89-4793-bc26-a133dc8daecf
          stepCounter: 41ff33e4-520d-4f00-afcb-09734640f80f
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: PARENT_REGIME_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1a890aa5-5a74-44cc-9f2e-ff67c02fb194
                stepCounter: 776bd7c7-3bfb-4ee5-ade4-14347f752e64
            transform: l2.description
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 80a137ec-5aa6-491f-98e3-f25f88abb10d
          stepCounter: 41ff33e4-520d-4f00-afcb-09734640f80f
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_EVITALS_REGIME_PARENT
        join:
          joinCondition: |-
            FROM s_eVitals_regime_parent
              JOIN l_Patientrack_EWS_REGIME l1
                ON s_eVitals_regime_parent.ewsrg_pk = l1.ewsrg_pk
              JOIN l_Patientrack_EWS_REGIME l2
                ON s_eVitals_regime_parent.parent_ewsrg_pk = l2.ewsrg_pk
        name: S_EVITALS_REGIME
        noLinkRefs: []
  name: S_EVITALS_REGIME
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
