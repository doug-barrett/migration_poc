fileVersion: 1
id: e011d24d-890c-47a9-a360-a96f33198956
name: STAGE_TMS_TERMINAL_ALLOCATION_SNOWFLAKE_RAW_1
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: DATAVAULT_STAGING
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 789081a4-ee87-4b9d-8250-237754e55fff
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: BINARY(16)
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - columnCounter: f28263ac-3077-40fe-9480-737e70c955ea
            stepCounter: e011d24d-890c-47a9-a360-a96f33198956
          - columnCounter: d847b6d2-13bc-45a8-afeb-58f4cfbb93d9
            stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        name: HK_H_TMS_TERMINAL_ALLOCATION
        nullable: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f28263ac-3077-40fe-9480-737e70c955ea
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: VARCHAR(9)
        defaultValue: ""
        description: ""
        name: MERCHANT_NUMBER_ACI
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: RIGHT(MERCHANT_ID, 9)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d847b6d2-13bc-45a8-afeb-58f4cfbb93d9
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: Locale identifier
        name: LOCALE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d765e9fc-9049-442e-a83a-dcc8a35d5c01
                stepCounter: 5d50806b-a17b-4f9a-aecb-832db8abe9e9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 721bca52-cb18-4545-a7ab-6de154df8a4b
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: TIMESTAMP(9)
        defaultValue: ""
        description: ""
        name: FILE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d95e2b4d-f942-4c47-bf17-c9f25cb207b9
                stepCounter: 5d50806b-a17b-4f9a-aecb-832db8abe9e9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 99aacb3a-70f0-44f7-94fe-7728968e3afb
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: VARCHAR(19)
        defaultValue: ""
        description: ""
        name: DEVICE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 97d0702a-75b3-4e24-829c-0a0f46712eec
                stepCounter: 5d50806b-a17b-4f9a-aecb-832db8abe9e9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dfeed83b-d69e-4fb9-8495-36063911f399
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Merchant number associated with the Locale
        name: MERCHANT_NUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3ea25b9d-dee0-4c34-aff9-bc74323ea9ef
                stepCounter: 5d50806b-a17b-4f9a-aecb-832db8abe9e9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f3028c04-7e57-457b-8779-43342754bb12
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: ACTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ead897b3-ef39-47a4-8cca-3e3382c2a380
                stepCounter: 5d50806b-a17b-4f9a-aecb-832db8abe9e9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fc290da4-eaff-4ad8-8bce-d556bcef2f8b
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: ""
        name: USER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e8afde9c-5033-4b79-9bd4-38a71ee6c4e1
                stepCounter: 5d50806b-a17b-4f9a-aecb-832db8abe9e9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3414c258-152a-40fa-ad1d-9ee156bc4ff5
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: "Indicates the interface that performed the action:\n\n- 1: Terminal\n\n- 2: TMS Interface\n\n- 3: Merchant Direct\n\n- 4: Gift & Loyalty\n\n- 5: OMS-Boarding Interface\n\n- 6: Scheduler Interface\n\n- 7: GO Portal Interface\n\n- 8: MFS Interface\n\n- 9: Boarding Migration"
        name: RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c40169e4-8c82-42ce-9ee3-3db9a9fba23c
                stepCounter: 5d50806b-a17b-4f9a-aecb-832db8abe9e9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2e8a9d87-8e69-47f5-9acb-b844d0a9f397
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: TIMESTAMP_NTZ(3)
        defaultValue: ""
        description: ""
        name: CREATION_TS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a77e143f-21f8-4447-b222-5c11bf7e91cf
                stepCounter: 5d50806b-a17b-4f9a-aecb-832db8abe9e9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8e0eaad1-61af-42db-97a3-1e7bc67e9aa6
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: NUMBER(38,0)
        defaultValue: ""
        description: ""
        name: DEVICE_SLOT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 38f79d76-9fd9-486d-8237-c1588510c7df
                stepCounter: 5d50806b-a17b-4f9a-aecb-832db8abe9e9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c34d8f37-439b-4d08-b458-d697e7442ba5
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: CREATED_BY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d332adc9-b3bf-4c11-9c93-2be87bac32e2
                stepCounter: 5d50806b-a17b-4f9a-aecb-832db8abe9e9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b7efabf6-82e6-45b6-a461-350a183ab7df
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: TIMESTAMP_NTZ(3)
        defaultValue: ""
        description: ""
        name: CREATED_AT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a6f21395-f280-4418-b22e-f2e3351963a2
                stepCounter: 5d50806b-a17b-4f9a-aecb-832db8abe9e9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0f2431c8-b1f7-4f7c-88cb-daf73e47ee52
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: UPDATED_BY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 003ade02-e44b-4d33-aab0-2fafaaadf859
                stepCounter: 5d50806b-a17b-4f9a-aecb-832db8abe9e9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ef7a0319-3d5c-4e89-8883-4f2f47312ff9
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: TIMESTAMP_NTZ(3)
        defaultValue: ""
        description: ""
        name: UPDATED_AT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 440ca2c0-3743-47d4-bde7-38814e10f89e
                stepCounter: 5d50806b-a17b-4f9a-aecb-832db8abe9e9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8f4872b2-6c9f-448a-b10c-784c849f1760
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: VARCHAR(500)
        defaultValue: ""
        description: ""
        name: RUN_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dddf559e-fe3d-4a76-b44a-5004c7aee41e
                stepCounter: 5d50806b-a17b-4f9a-aecb-832db8abe9e9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8ec86362-520e-40fc-afa6-3a46a2163806
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: BINARY(16)
        defaultValue: ""
        description: The changing hash
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - columnCounter: 721bca52-cb18-4545-a7ab-6de154df8a4b
            stepCounter: e011d24d-890c-47a9-a360-a96f33198956
          - columnCounter: 99aacb3a-70f0-44f7-94fe-7728968e3afb
            stepCounter: e011d24d-890c-47a9-a360-a96f33198956
          - columnCounter: dfeed83b-d69e-4fb9-8495-36063911f399
            stepCounter: e011d24d-890c-47a9-a360-a96f33198956
          - columnCounter: f3028c04-7e57-457b-8779-43342754bb12
            stepCounter: e011d24d-890c-47a9-a360-a96f33198956
          - columnCounter: fc290da4-eaff-4ad8-8bce-d556bcef2f8b
            stepCounter: e011d24d-890c-47a9-a360-a96f33198956
          - columnCounter: 3414c258-152a-40fa-ad1d-9ee156bc4ff5
            stepCounter: e011d24d-890c-47a9-a360-a96f33198956
          - columnCounter: 2e8a9d87-8e69-47f5-9acb-b844d0a9f397
            stepCounter: e011d24d-890c-47a9-a360-a96f33198956
          - columnCounter: 8e0eaad1-61af-42db-97a3-1e7bc67e9aa6
            stepCounter: e011d24d-890c-47a9-a360-a96f33198956
          - columnCounter: c34d8f37-439b-4d08-b458-d697e7442ba5
            stepCounter: e011d24d-890c-47a9-a360-a96f33198956
          - columnCounter: b7efabf6-82e6-45b6-a461-350a183ab7df
            stepCounter: e011d24d-890c-47a9-a360-a96f33198956
          - columnCounter: 0f2431c8-b1f7-4f7c-88cb-daf73e47ee52
            stepCounter: e011d24d-890c-47a9-a360-a96f33198956
          - columnCounter: ef7a0319-3d5c-4e89-8883-4f2f47312ff9
            stepCounter: e011d24d-890c-47a9-a360-a96f33198956
          - columnCounter: 8f4872b2-6c9f-448a-b10c-784c849f1760
            stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        name: DSS_CHANGE_HASH_TMS_TERMINAL_ALLOCATION_LOG_MROC
        nullable: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2ebb6087-1422-4c41-a0bb-835eea7a6a88
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: Record source
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ef41b292-cb36-4742-846c-bcc921ffd69a
                stepCounter: 5d50806b-a17b-4f9a-aecb-832db8abe9e9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 419ef526-5b10-47ad-b652-8530603d2947
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was loaded in the data vault
        name: DSS_LOAD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c5927e75-6e55-4fb0-9d7c-147a36a8b4b5
                stepCounter: 5d50806b-a17b-4f9a-aecb-832db8abe9e9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 967c6ee8-ca21-4fec-8e62-0262972925b9
          stepCounter: e011d24d-890c-47a9-a360-a96f33198956
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was inserted in the data vault
        isSystemCreateDate: true
        name: DSS_CREATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          LOAD_DEVICE_HISTORY_SNOWFLAKE_RAW: 5d50806b-a17b-4f9a-aecb-832db8abe9e9
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DATAVAULT_LOAD
            nodeName: LOAD_DEVICE_HISTORY_SNOWFLAKE_RAW
        join:
          joinCondition: FROM {{ ref('DATAVAULT_LOAD','LOAD_DEVICE_HISTORY_SNOWFLAKE_RAW') }} load_device_history_snowflake_raw
        name: STAGE_TMS_TERMINAL_ALLOCATION_SNOWFLAKE_RAW_1
        noLinkRefs: []
  name: STAGE_TMS_TERMINAL_ALLOCATION_SNOWFLAKE_RAW_1
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
