fileVersion: 1
id: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
name: STAGE_TMS_TERMINAL_ALLOCATION_SNOWFLAKE_RAW_1
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: DATAVAULT_STAGING
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5f6c5364-5168-49b9-8536-dc02272477df
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: BINARY(16)
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - columnCounter: f35891b3-a0cb-4f0f-87d5-aec1a6046513
            stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
          - columnCounter: 01f9fe82-6a0e-40ec-b4ed-2de3f53bc664
            stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        name: HK_H_TMS_TERMINAL_ALLOCATION
        nullable: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f35891b3-a0cb-4f0f-87d5-aec1a6046513
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: VARCHAR(9)
        defaultValue: ""
        description: ""
        name: MERCHANT_NUMBER_ACI
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: RIGHT(MERCHANT_ID, 9)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 01f9fe82-6a0e-40ec-b4ed-2de3f53bc664
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: Locale identifier
        name: LOCALE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1e876ff9-7c8a-4680-8702-07ea3223961f
                stepCounter: 201c4c5b-a91c-433a-93fc-9fcf0dc1fa3a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f71ded91-a459-4b39-9c13-72bf9880069b
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: TIMESTAMP(9)
        defaultValue: ""
        description: ""
        name: FILE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fc670f40-c165-40f5-99ab-158b15bdd8ce
                stepCounter: 201c4c5b-a91c-433a-93fc-9fcf0dc1fa3a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 90fbf50b-0786-48f5-a3cf-906c2f3f52f1
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: VARCHAR(19)
        defaultValue: ""
        description: ""
        name: DEVICE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 49cb5ff2-d76c-4588-b4b4-bdc04bbd2df4
                stepCounter: 201c4c5b-a91c-433a-93fc-9fcf0dc1fa3a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 79807b4f-1602-4f64-9c27-50879415acd9
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Merchant number associated with the Locale
        name: MERCHANT_NUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c8e764f8-b2a1-4c5f-98aa-cf220f2c4012
                stepCounter: 201c4c5b-a91c-433a-93fc-9fcf0dc1fa3a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 75df59b7-af0d-4841-83ab-1abea17d3566
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: ACTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 94f904f2-396a-4560-a0fe-8fe91cc19944
                stepCounter: 201c4c5b-a91c-433a-93fc-9fcf0dc1fa3a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2d5436f2-807a-4749-a53a-07bbb4f6b2db
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: ""
        name: USER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0a304f9c-031d-4e85-87a3-35cfa1dca2ee
                stepCounter: 201c4c5b-a91c-433a-93fc-9fcf0dc1fa3a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 60b00850-ff5f-409c-9893-079a0e7f0888
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: "Indicates the interface that performed the action:\n\n- 1: Terminal\n\n- 2: TMS Interface\n\n- 3: Merchant Direct\n\n- 4: Gift & Loyalty\n\n- 5: OMS-Boarding Interface\n\n- 6: Scheduler Interface\n\n- 7: GO Portal Interface\n\n- 8: MFS Interface\n\n- 9: Boarding Migration"
        name: RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 57ca6626-03f3-4dfd-9765-f78cec94f959
                stepCounter: 201c4c5b-a91c-433a-93fc-9fcf0dc1fa3a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6ad4b34b-7005-46cd-adf4-ccc690bb6f11
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: TIMESTAMP_NTZ(3)
        defaultValue: ""
        description: ""
        name: CREATION_TS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ca6a2186-6abd-4b5f-9dc2-0200eea1f875
                stepCounter: 201c4c5b-a91c-433a-93fc-9fcf0dc1fa3a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0779b257-98ec-4c41-a589-203cc62bb991
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: NUMBER(38,0)
        defaultValue: ""
        description: ""
        name: DEVICE_SLOT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b601b9e8-6eca-4687-a519-efd0bea0bc5e
                stepCounter: 201c4c5b-a91c-433a-93fc-9fcf0dc1fa3a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e053fbb7-a28a-4793-9af7-e7e7d0a73520
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: CREATED_BY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 60044f9a-b2f3-4b80-8e75-e514d6b56b12
                stepCounter: 201c4c5b-a91c-433a-93fc-9fcf0dc1fa3a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ed11cf90-ea5f-4e36-8cdc-57a62d0fdd08
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: TIMESTAMP_NTZ(3)
        defaultValue: ""
        description: ""
        name: CREATED_AT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a452bdfc-aa1a-4058-b7a1-74ce59a047a0
                stepCounter: 201c4c5b-a91c-433a-93fc-9fcf0dc1fa3a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e972cdc5-e16f-4074-a63f-5eefc1a72c7c
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: UPDATED_BY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 66cade35-ce27-47a0-ba53-c512129b4f2f
                stepCounter: 201c4c5b-a91c-433a-93fc-9fcf0dc1fa3a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3e96f8e4-c216-461b-b86f-0af9f146061e
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: TIMESTAMP_NTZ(3)
        defaultValue: ""
        description: ""
        name: UPDATED_AT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2e8868a8-a95c-4394-ae60-5d8d386d186d
                stepCounter: 201c4c5b-a91c-433a-93fc-9fcf0dc1fa3a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1617cf71-6410-4acc-ad41-2f06dcdc430b
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: VARCHAR(500)
        defaultValue: ""
        description: ""
        name: RUN_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 238fe4e5-f18a-43f6-9146-ff5707d19cc7
                stepCounter: 201c4c5b-a91c-433a-93fc-9fcf0dc1fa3a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c3c8fe20-4e15-48ab-a837-71856f5b520c
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: BINARY(16)
        defaultValue: ""
        description: The changing hash
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - columnCounter: f71ded91-a459-4b39-9c13-72bf9880069b
            stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
          - columnCounter: 90fbf50b-0786-48f5-a3cf-906c2f3f52f1
            stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
          - columnCounter: 79807b4f-1602-4f64-9c27-50879415acd9
            stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
          - columnCounter: 75df59b7-af0d-4841-83ab-1abea17d3566
            stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
          - columnCounter: 2d5436f2-807a-4749-a53a-07bbb4f6b2db
            stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
          - columnCounter: 60b00850-ff5f-409c-9893-079a0e7f0888
            stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
          - columnCounter: 6ad4b34b-7005-46cd-adf4-ccc690bb6f11
            stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
          - columnCounter: 0779b257-98ec-4c41-a589-203cc62bb991
            stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
          - columnCounter: e053fbb7-a28a-4793-9af7-e7e7d0a73520
            stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
          - columnCounter: ed11cf90-ea5f-4e36-8cdc-57a62d0fdd08
            stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
          - columnCounter: e972cdc5-e16f-4074-a63f-5eefc1a72c7c
            stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
          - columnCounter: 3e96f8e4-c216-461b-b86f-0af9f146061e
            stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
          - columnCounter: 1617cf71-6410-4acc-ad41-2f06dcdc430b
            stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        name: DSS_CHANGE_HASH_TMS_TERMINAL_ALLOCATION_LOG_MROC
        nullable: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3c861fd6-98fe-4988-97c9-a568273a81d1
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: Record source
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f3c3e42a-c078-481b-ae43-8f994c26c1d4
                stepCounter: 201c4c5b-a91c-433a-93fc-9fcf0dc1fa3a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 79ac9cda-072f-4bc0-b9a5-f22ad0121a1d
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was loaded in the data vault
        name: DSS_LOAD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 61639eb7-32c0-4718-a535-ed5a52dc0759
                stepCounter: 201c4c5b-a91c-433a-93fc-9fcf0dc1fa3a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bc15e234-df1a-4f91-a362-19240668beab
          stepCounter: 7e88d11c-479d-4eff-b87a-06f8a852c8a1
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was inserted in the data vault
        isSystemCreateDate: true
        name: DSS_CREATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          LOAD_DEVICE_HISTORY_SNOWFLAKE_RAW: 201c4c5b-a91c-433a-93fc-9fcf0dc1fa3a
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DATAVAULT_LOAD
            nodeName: LOAD_DEVICE_HISTORY_SNOWFLAKE_RAW
        join:
          joinCondition: FROM {{ ref('DATAVAULT_LOAD','LOAD_DEVICE_HISTORY_SNOWFLAKE_RAW') }} load_device_history_snowflake_raw
        name: STAGE_TMS_TERMINAL_ALLOCATION_SNOWFLAKE_RAW_1
        noLinkRefs: []
  name: STAGE_TMS_TERMINAL_ALLOCATION_SNOWFLAKE_RAW_1
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
