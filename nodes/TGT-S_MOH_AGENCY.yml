fileVersion: 1
id: 5b6a16f8-3100-4731-8a3d-c51f4788aace
name: S_MOH_AGENCY
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 07b6a49f-09d1-4eea-b422-fba7cf770a36
          stepCounter: 5b6a16f8-3100-4731-8a3d-c51f4788aace
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: DIM_MOH_EVENT_AGENCY_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 23bf16b0-1ce5-4daa-a456-a173442392dc
                stepCounter: aa5b5f9e-6c4c-42f3-9b07-2ebe14b90a78
            transform: l_NMDS_dim_event_agency.DIM_EVENT_AGENCY_KEY
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2de245a2-3be1-4c73-8c8a-4b6dfb1ed9a2
          stepCounter: 5b6a16f8-3100-4731-8a3d-c51f4788aace
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: AGENCY_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3d672ba8-e987-4d20-926b-9c9d8a8ddd4f
                stepCounter: eedf71ef-eba1-4302-a8d4-3d639f3dad9e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b0050881-5f71-462e-8883-689936d62635
          stepCounter: 5b6a16f8-3100-4731-8a3d-c51f4788aace
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: AGENCY_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 96463583-2304-42ab-8f20-3d6993e285f2
                stepCounter: eedf71ef-eba1-4302-a8d4-3d639f3dad9e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8bf1b6fd-132e-42dc-989b-f486dd78ec68
          stepCounter: 5b6a16f8-3100-4731-8a3d-c51f4788aace
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: AGENCY_ADDRESS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cc1500e6-7829-410c-98a5-760194e871d2
                stepCounter: eedf71ef-eba1-4302-a8d4-3d639f3dad9e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2e4de0bb-4730-4782-97d7-d86832a4118a
          stepCounter: 5b6a16f8-3100-4731-8a3d-c51f4788aace
        config: {}
        dataType: VARCHAR(2)
        defaultValue: ""
        description: ""
        name: AGENCY_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: aa791907-a85a-4f77-bf4d-a4b5ad2cf7a6
                stepCounter: eedf71ef-eba1-4302-a8d4-3d639f3dad9e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4aea8c49-95b8-45cc-bff8-6698979cc86a
          stepCounter: 5b6a16f8-3100-4731-8a3d-c51f4788aace
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: AGENCY_TYPE_DESCRIPTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 28f07556-d3f9-49d4-8419-b9444cf221a9
                stepCounter: eedf71ef-eba1-4302-a8d4-3d639f3dad9e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f2d744fc-7029-4dce-b2b8-427e5e987702
          stepCounter: 5b6a16f8-3100-4731-8a3d-c51f4788aace
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        name: AGENCY_OPEN_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8535ff14-0c41-4c8e-b1cb-f99e86510c00
                stepCounter: eedf71ef-eba1-4302-a8d4-3d639f3dad9e
            transform: CONVERT(date, NULLIF(agency_open_date, ''))
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7dcca59a-ea71-4b6a-a5bf-13be373c2688
          stepCounter: 5b6a16f8-3100-4731-8a3d-c51f4788aace
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        name: AGENCY_CLOSE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 40668616-a92a-408b-9939-3f48ace12d85
                stepCounter: eedf71ef-eba1-4302-a8d4-3d639f3dad9e
            transform: CONVERT(date, NULLIF(agency_close_date, ''))
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 98da5dcd-2aea-4734-9c82-7bdd7815fbb7
          stepCounter: 5b6a16f8-3100-4731-8a3d-c51f4788aace
        config: {}
        dataType: VARCHAR(2)
        defaultValue: ""
        description: ""
        name: REGION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2f592aa5-8bc2-4f83-bf49-17572264b0de
                stepCounter: eedf71ef-eba1-4302-a8d4-3d639f3dad9e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 731c737d-39ca-4810-aaff-af2fc8292179
          stepCounter: 5b6a16f8-3100-4731-8a3d-c51f4788aace
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: DHB_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6d425b52-6721-4ee8-bc0f-68656f48505a
                stepCounter: eedf71ef-eba1-4302-a8d4-3d639f3dad9e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d4ec213b-cd01-4d39-b9d3-3d5225200388
          stepCounter: 5b6a16f8-3100-4731-8a3d-c51f4788aace
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: DHB_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5fa96953-0764-4485-a809-f56b77c18070
                stepCounter: eedf71ef-eba1-4302-a8d4-3d639f3dad9e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4a8beacb-3ad4-42fa-a462-5f27e3116c7d
          stepCounter: 5b6a16f8-3100-4731-8a3d-c51f4788aace
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: L_NMDS_DHB_EVENTS_ALL
        join:
          joinCondition: |-
            FROM l_NMDS_dim_event_agency
             WHERE dim_event_agency_key IN (
                    SELECT DISTINCT dim_event_agency_key
                      FROM l_NMDS_dhb_events_all
                   )
        name: S_MOH_AGENCY
        noLinkRefs: []
  name: S_MOH_AGENCY
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
