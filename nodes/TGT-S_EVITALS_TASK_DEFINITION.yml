fileVersion: 1
id: c7ff147d-59b9-49a3-9161-13fdffa7db48
name: S_EVITALS_TASK_DEFINITION
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: "Source table for dim_eVitals_task_definition."
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: be483317-5425-4088-8546-bf83a991c146
          stepCounter: c7ff147d-59b9-49a3-9161-13fdffa7db48
        config: {}
        dataType: BIGINT
        defaultValue: ""
        description: ""
        name: TASK_DEFINITION_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 30e306e2-1f54-4b73-b0cb-75684dddc1f0
                stepCounter: bfd92fa8-daa2-4b68-8e4d-01d3dd51ac86
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4771bd21-6073-4ede-bbb6-3e7d19da4573
          stepCounter: c7ff147d-59b9-49a3-9161-13fdffa7db48
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: TASK_DEFINITION_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5e909c7b-ef86-43b5-97e5-9ac4dda74893
                stepCounter: bfd92fa8-daa2-4b68-8e4d-01d3dd51ac86
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3b761753-92fa-4e96-857e-af4a709d89a4
          stepCounter: c7ff147d-59b9-49a3-9161-13fdffa7db48
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: TASK_DEFINITION_DESCRIPTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a99e7dda-ebeb-4c45-b4dc-b8e6787bc9dc
                stepCounter: bfd92fa8-daa2-4b68-8e4d-01d3dd51ac86
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 171241b3-099c-41f3-9ec6-52abf8e2d2d5
          stepCounter: c7ff147d-59b9-49a3-9161-13fdffa7db48
        config: {}
        dataType: VARCHAR(22)
        defaultValue: ""
        description: Business key for dim_eVitals_task_definition. Numeric suffix added to task_definition_code to make it unique.
        name: TASK_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5e909c7b-ef86-43b5-97e5-9ac4dda74893
                stepCounter: bfd92fa8-daa2-4b68-8e4d-01d3dd51ac86
            transform: l_Patientrack_TASK_DEFINITION.CODE + RIGHT('0' + CONVERT(varchar(2), ROW_NUMBER() OVER(PARTITION BY l_Patientrack_TASK_DEFINITION.description ORDER BY ds_Patientrack_TASK.task_description)), 2)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 688c737e-02d1-4789-a5c2-d4c788605943
          stepCounter: c7ff147d-59b9-49a3-9161-13fdffa7db48
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: TASK_DESCRIPTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0f1074c1-f4fc-4c13-92dd-385728bcc156
                stepCounter: 44b6390a-63b2-4e30-add9-7ccc20c1578c
            transform: COALESCE(ds_Patientrack_TASK.task_description, l_Patientrack_TASK_DEFINITION.description)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b80e877c-3668-4471-93ea-563d75d6c35d
          stepCounter: c7ff147d-59b9-49a3-9161-13fdffa7db48
        config: {}
        dataType: BIT
        defaultValue: ""
        description: ""
        name: ADD_TASK_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f6365330-2d4f-4004-be01-ab17c6729351
                stepCounter: bfd92fa8-daa2-4b68-8e4d-01d3dd51ac86
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 12e2f9ca-69ca-41e8-9d09-fe510d90bac2
          stepCounter: c7ff147d-59b9-49a3-9161-13fdffa7db48
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: ""
        name: ADHOC_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4c187799-7140-4d41-a8ae-2e2701def656
                stepCounter: bfd92fa8-daa2-4b68-8e4d-01d3dd51ac86
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 21a43688-94dc-424c-ace7-ebe8aadebd86
          stepCounter: c7ff147d-59b9-49a3-9161-13fdffa7db48
        config: {}
        dataType: BIGINT
        defaultValue: ""
        description: ""
        name: ASSESSMENT_TYPE_SIID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7f8729a1-09b1-4fc1-994a-0d79877f8f81
                stepCounter: bfd92fa8-daa2-4b68-8e4d-01d3dd51ac86
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f38092f9-da31-405a-9e9d-545ae6f9c51c
          stepCounter: c7ff147d-59b9-49a3-9161-13fdffa7db48
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: CHART_URL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a82557c7-2232-437e-9540-7e8180263109
                stepCounter: bfd92fa8-daa2-4b68-8e4d-01d3dd51ac86
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2beba574-b97d-4a0d-9b69-e2679481b169
          stepCounter: c7ff147d-59b9-49a3-9161-13fdffa7db48
        config: {}
        dataType: BIGINT
        defaultValue: ""
        description: ""
        name: PARENT_TASK_DEFINITION_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ea71ebde-4d50-4f78-a07a-18180929e973
                stepCounter: bfd92fa8-daa2-4b68-8e4d-01d3dd51ac86
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c7a0305c-f58d-4194-bdf0-3f05228fb0bb
          stepCounter: c7ff147d-59b9-49a3-9161-13fdffa7db48
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: ""
        name: EDITABLE_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 316cde81-fe37-4c38-b2f3-2bb3802a89f3
                stepCounter: bfd92fa8-daa2-4b68-8e4d-01d3dd51ac86
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8295a2c5-862e-4894-b6b0-bcc5e303b918
          stepCounter: c7ff147d-59b9-49a3-9161-13fdffa7db48
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: Record source.
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 56b28950-87cb-478d-80d3-130758c1115c
                stepCounter: bfd92fa8-daa2-4b68-8e4d-01d3dd51ac86
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: baff24af-2114-4cd2-a4c5-55fbc1cb1e23
          stepCounter: c7ff147d-59b9-49a3-9161-13fdffa7db48
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: L_PATIENTRACK_TASK_DEFINITION
        join:
          joinCondition: |-
            FROM l_Patientrack_TASK_DEFINITION
              LEFT OUTER JOIN (
                    SELECT DISTINCT task_definition_pk,
                           task_description
                      FROM ds_Patientrack_TASK
                   ) ds_Patientrack_TASK
                ON l_Patientrack_TASK_DEFINITION.TASK_DEFINITION_PK = ds_Patientrack_TASK.TASK_DEFINITION_PK
        name: S_EVITALS_TASK_DEFINITION
        noLinkRefs: []
  name: S_EVITALS_TASK_DEFINITION
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
