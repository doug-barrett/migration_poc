fileVersion: 1
id: 1803696c-fd2e-40f8-9b13-8d76e6860e98
name: STAGEOMNIA_SCORE_ADDKEYS
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: "This stage filters out the inactive OMNIA Score records using condition below.\n\nWHERE DsOMNIA_Score.MaxReceiptDate = '$ActiveDateForOMNIAScore'\n"
  isMultisource: false
  locationName: STAGE
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 41e9fe6e-3b57-4994-a5c5-7a4b4820898f
          stepCounter: 1803696c-fd2e-40f8-9b13-8d76e6860e98
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        isBusinessKey: true
        name: LEVEL1FORCEID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 87b630de-d587-4791-8092-dc41de0c0d84
                stepCounter: 8a693c10-926a-451e-911b-07b97788604b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2e0ebe12-7761-43ed-b660-a35f5b958128
          stepCounter: 1803696c-fd2e-40f8-9b13-8d76e6860e98
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: OMNIA_SCORE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a42e748d-586e-40f8-b530-698d41791aaf
                stepCounter: 8a693c10-926a-451e-911b-07b97788604b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fcb6febe-3193-47ba-b10a-24328e96d24e
          stepCounter: 1803696c-fd2e-40f8-9b13-8d76e6860e98
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        isBusinessKey: true
        name: MAXRECEIPTDATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0260c8fd-38ec-441f-a5b4-5f80f65bcdbe
                stepCounter: 8a693c10-926a-451e-911b-07b97788604b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c30d644d-0b4f-4026-8bca-26c39aa05baa
          stepCounter: 1803696c-fd2e-40f8-9b13-8d76e6860e98
        config: {}
        dataType: VARCHAR(64)
        defaultValue: ""
        description: Record source.
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c614eb7d-1c60-4b3e-8f0e-86e7191a1636
                stepCounter: 8a693c10-926a-451e-911b-07b97788604b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e93d1c9a-376e-4e80-a758-30de89378b07
          stepCounter: 1803696c-fd2e-40f8-9b13-8d76e6860e98
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Load date.
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: DSS_LOAD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b0a4768e-6063-490d-af71-e1250e5d3459
                stepCounter: 8a693c10-926a-451e-911b-07b97788604b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 538793a2-b0f3-44cf-897b-5a2451231f42
          stepCounter: 1803696c-fd2e-40f8-9b13-8d76e6860e98
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: StageOMNIA_Score_AddKeys.Level1ForceId=Account.ForceId
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: ACCOUNTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 142e5dc4-d508-469e-862b-8ad4d3c7b053
                stepCounter: c278473c-12f0-41e1-b65b-faa4b3c2a978
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9c29aee5-aeda-4431-839b-4d9d3488080e
          stepCounter: 1803696c-fd2e-40f8-9b13-8d76e6860e98
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was created in the data warehouse.
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: DSSCREATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: af7d46c0-fcd0-44fe-a8d1-2c5679d11f25
          stepCounter: 1803696c-fd2e-40f8-9b13-8d76e6860e98
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: DSSUPDATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          DSOMNIA_SCORE: 8a693c10-926a-451e-911b-07b97788604b
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DIM
            nodeName: ACCOUNT
          - locationName: ODS
            nodeName: DSOMNIA_SCORE
        join:
          joinCondition: |-
            FROM {{ ref('ODS','DSOMNIA_SCORE') }} DsOMNIA_Score
             WHERE DsOMNIA_Score.MaxReceiptDate = '$ActiveDateForOMNIAScore'
        name: STAGEOMNIA_SCORE_ADDKEYS
        noLinkRefs: []
  name: STAGEOMNIA_SCORE_ADDKEYS
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
