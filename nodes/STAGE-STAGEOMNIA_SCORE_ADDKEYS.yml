fileVersion: 1
id: ffd2d924-e33f-4af0-99b9-fbb9c7f10fb0
name: STAGEOMNIA_SCORE_ADDKEYS
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: "This stage filters out the inactive OMNIA Score records using condition below.\n\nWHERE DsOMNIA_Score.MaxReceiptDate = '$ActiveDateForOMNIAScore'\n"
  isMultisource: false
  locationName: STAGE
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d57e9d8e-dbb1-4127-9b47-46208d526490
          stepCounter: ffd2d924-e33f-4af0-99b9-fbb9c7f10fb0
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        isBusinessKey: true
        name: LEVEL1FORCEID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9231c7b4-ff9e-49bd-b574-ce99bb74e77b
                stepCounter: 2ab51ac8-36da-4fef-97dd-8e24de3c688f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a6cf432f-5dfe-499c-af40-61b557f5f85b
          stepCounter: ffd2d924-e33f-4af0-99b9-fbb9c7f10fb0
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: OMNIA_SCORE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0d1ed26e-08df-473e-8921-fc9813e71622
                stepCounter: 2ab51ac8-36da-4fef-97dd-8e24de3c688f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cff20072-d5c0-459d-805a-703215dff0ae
          stepCounter: ffd2d924-e33f-4af0-99b9-fbb9c7f10fb0
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        isBusinessKey: true
        name: MAXRECEIPTDATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: df22228a-69b0-408b-8c24-db50ea8f5ad1
                stepCounter: 2ab51ac8-36da-4fef-97dd-8e24de3c688f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: af16dfd4-b795-4ec8-a7b0-97a0a0fdec2c
          stepCounter: ffd2d924-e33f-4af0-99b9-fbb9c7f10fb0
        config: {}
        dataType: VARCHAR(64)
        defaultValue: ""
        description: Record source.
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3f0bbec1-91d1-40dc-906e-a9c2eda2265a
                stepCounter: 2ab51ac8-36da-4fef-97dd-8e24de3c688f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c3a07ad5-ee89-4367-b007-4ee8ac822bf9
          stepCounter: ffd2d924-e33f-4af0-99b9-fbb9c7f10fb0
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Load date.
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: DSS_LOAD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: aeca59a2-2920-4890-8572-00db46519ba6
                stepCounter: 2ab51ac8-36da-4fef-97dd-8e24de3c688f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2ca95125-9b0b-4040-aba3-a9684229f8a9
          stepCounter: ffd2d924-e33f-4af0-99b9-fbb9c7f10fb0
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: StageOMNIA_Score_AddKeys.Level1ForceId=Account.ForceId
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: ACCOUNTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 923f9154-d06b-4433-99fd-95c767283389
                stepCounter: a594f58e-2240-453f-a570-12719830e3d0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 05b7d131-4237-4a87-bfb8-dc52503c00e6
          stepCounter: ffd2d924-e33f-4af0-99b9-fbb9c7f10fb0
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was created in the data warehouse.
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: DSSCREATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 58ef85f8-0646-49c6-8e5a-bc85b526e2c8
          stepCounter: ffd2d924-e33f-4af0-99b9-fbb9c7f10fb0
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: DSSUPDATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          DSOMNIA_SCORE: 2ab51ac8-36da-4fef-97dd-8e24de3c688f
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DIM
            nodeName: ACCOUNT
          - locationName: ODS
            nodeName: DSOMNIA_SCORE
        join:
          joinCondition: |-
            FROM {{ ref('ODS','DSOMNIA_SCORE') }} DsOMNIA_Score
             WHERE DsOMNIA_Score.MaxReceiptDate = '$ActiveDateForOMNIAScore'
        name: STAGEOMNIA_SCORE_ADDKEYS
        noLinkRefs: []
  name: STAGEOMNIA_SCORE_ADDKEYS
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
