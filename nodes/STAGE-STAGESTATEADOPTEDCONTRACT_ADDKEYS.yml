fileVersion: 1
id: 54dccb31-1a0e-4523-a398-50d44987230a
name: STAGESTATEADOPTEDCONTRACT_ADDKEYS
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: "STATE_ADOPTION_CONTRACT"
  isMultisource: false
  locationName: STAGE
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a466a489-514e-431e-ab6f-a177a228efcf
          stepCounter: 54dccb31-1a0e-4523-a398-50d44987230a
        config: {}
        dataType: VARCHAR(18)
        defaultValue: ""
        description: ""
        name: STATEADOPTEDCONTRACTSALESFORCEID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 10f2eea0-cc80-426b-8978-146e24ac2cf1
                stepCounter: 06232797-a289-4de7-aa9b-0fff2431db77
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3919f16e-ce86-4335-858a-69be39a8c740
          stepCounter: 54dccb31-1a0e-4523-a398-50d44987230a
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: STATECONTRACTNUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1ff164eb-8f6e-42c3-9228-be479227275a
                stepCounter: 06232797-a289-4de7-aa9b-0fff2431db77
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 19dc174f-cf94-4224-9095-75c695d54e1c
          stepCounter: 54dccb31-1a0e-4523-a398-50d44987230a
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: ""
        name: SALESFORCERECORDNUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3a0669e0-a002-4a94-98cb-f3deb0dde3ea
                stepCounter: 06232797-a289-4de7-aa9b-0fff2431db77
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 92be34ae-fdea-4142-bd89-f692871122eb
          stepCounter: 54dccb31-1a0e-4523-a398-50d44987230a
        config: {}
        dataType: VARCHAR(121)
        defaultValue: ""
        description: ""
        name: OWNER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 642af01d-dfe5-4b23-bcfb-962625227c6b
                stepCounter: 06232797-a289-4de7-aa9b-0fff2431db77
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c4e72d1a-aaea-46ab-90b3-e7822b2c30a7
          stepCounter: 54dccb31-1a0e-4523-a398-50d44987230a
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: GENERATED ARTIFICIAL KEY
        name: ACCOUNTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 51242f2b-12a0-45ea-bdfb-000fdb4c550a
                stepCounter: 96e8695b-6733-4729-8797-91b12c74cb7e
            transform: IFNULL(ACCOUNT.ACCOUNTKEY,0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fa4ce393-372b-4bc2-bce4-52f6b125309a
          stepCounter: 54dccb31-1a0e-4523-a398-50d44987230a
        config: {}
        dataType: VARCHAR(18)
        defaultValue: ""
        description: ""
        name: ACCOUNTSALESFORCEID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 62b69368-1631-43ea-a204-9a434ccd42f1
                stepCounter: 06232797-a289-4de7-aa9b-0fff2431db77
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f5564bb2-2007-47db-a915-64acf2595deb
          stepCounter: 54dccb31-1a0e-4523-a398-50d44987230a
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: GENERATED ARTIFICIAL KEY
        name: CONTRACTKEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 012a8445-b992-4874-a802-ad1b6196a28d
                stepCounter: 930a330f-3276-4f21-bd05-9ed55fd63528
            transform: IFNULL(CONTRACT.CONTRACTKEY,0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 435a8652-7ce8-480c-a982-3e8700305028
          stepCounter: 54dccb31-1a0e-4523-a398-50d44987230a
        config: {}
        dataType: VARCHAR(18)
        defaultValue: ""
        description: ""
        name: CONTRACTSALESFORCEID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 92ce9ab5-2c0e-40d2-8f67-64667af2fa21
                stepCounter: 06232797-a289-4de7-aa9b-0fff2431db77
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bda3d292-374b-43ff-9d7b-910bbed08c03
          stepCounter: 54dccb31-1a0e-4523-a398-50d44987230a
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        name: STATEADOPTEDSTARTDATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e32b6f1e-6059-49d8-b421-50b51b72c07e
                stepCounter: 06232797-a289-4de7-aa9b-0fff2431db77
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d2a3ffa3-1fd6-4cdb-ab9f-28a8a10e7755
          stepCounter: 54dccb31-1a0e-4523-a398-50d44987230a
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        name: STATEADOPTEDENDDATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0fd03bae-09a5-436b-a9a3-e27400f41e2e
                stepCounter: 06232797-a289-4de7-aa9b-0fff2431db77
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8fbeb2a2-298d-4863-afcd-8b289e238f82
          stepCounter: 54dccb31-1a0e-4523-a398-50d44987230a
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: STATUS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c9dfe5c5-586e-45e6-9b4c-c6e8c9119048
                stepCounter: 06232797-a289-4de7-aa9b-0fff2431db77
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 710bc83b-88b8-408d-a47d-326c4af1f10b
          stepCounter: 54dccb31-1a0e-4523-a398-50d44987230a
        config: {}
        dataType: VARCHAR(500)
        defaultValue: ""
        description: ""
        name: NOTES
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 599a56d9-60b8-4677-9f23-ce61011d20d8
                stepCounter: 06232797-a289-4de7-aa9b-0fff2431db77
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 96edbde1-27f3-48f0-9f9d-75224c74ac32
          stepCounter: 54dccb31-1a0e-4523-a398-50d44987230a
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: STAGECONTRACT_ADDKEYS.SUPPLIERID=SUPPLIER.SUPPLIERID
        name: SUPPLIERKEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4ddcfa98-9457-429a-934c-5d263e6bb527
                stepCounter: 930a330f-3276-4f21-bd05-9ed55fd63528
            transform: IFNULL(CONTRACT.SUPPLIERKEY,0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fa3c01bf-f92a-4c61-862b-462a01ff3986
          stepCounter: 54dccb31-1a0e-4523-a398-50d44987230a
        config: {}
        dataType: VARCHAR(64)
        defaultValue: ""
        description: RECORD SOURCE.
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a90fb6af-839d-4e8f-86c2-99f04bf27459
                stepCounter: 06232797-a289-4de7-aa9b-0fff2431db77
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4da0b869-deb7-461d-8e67-bf4c259a0a4a
          stepCounter: 54dccb31-1a0e-4523-a398-50d44987230a
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: LOAD DATE.
        name: DSS_LOAD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7ba8e640-f42d-424b-a668-59ad664776a0
                stepCounter: 06232797-a289-4de7-aa9b-0fff2431db77
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 59478c34-a05d-41ee-a728-602a52168150
          stepCounter: 54dccb31-1a0e-4523-a398-50d44987230a
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: DATE AND TIME THE ROW WAS CREATED IN THE DATA WAREHOUSE.
        name: DSSCREATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ea9cdb44-1fd0-4bc9-ac5a-f755e9a64e80
          stepCounter: 54dccb31-1a0e-4523-a398-50d44987230a
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: DATE AND TIME THE ROW WAS UPDATED IN THE DATA WAREHOUSE.
        name: DSSUPDATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          STAGESTATEADOPTEDCONTRACT: 06232797-a289-4de7-aa9b-0fff2431db77
          ACCOUNT: 96e8695b-6733-4729-8797-91b12c74cb7e
          CONTRACT: 930a330f-3276-4f21-bd05-9ed55fd63528
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DIM
            nodeName: ACCOUNT
          - locationName: DIM
            nodeName: CONTRACT
          - locationName: STAGE
            nodeName: STAGESTATEADOPTEDCONTRACT
        join:
          joinCondition: |-
            FROM {{ ref('STAGE','STAGESTATEADOPTEDCONTRACT') }} STAGESTATEADOPTEDCONTRACT
              LEFT JOIN {{ ref('DIM','ACCOUNT') }} ACCOUNT
                ON STAGESTATEADOPTEDCONTRACT.ACCOUNTSALESFORCEID = ACCOUNT.SALESFORCEID
              LEFT JOIN {{ ref('DIM','CONTRACT') }} CONTRACT
                ON STAGESTATEADOPTEDCONTRACT.CONTRACTSALESFORCEID = CONTRACT.CONTRACTSALESFORCEID
        name: STAGESTATEADOPTEDCONTRACT_ADDKEYS
        noLinkRefs: []
  name: STAGESTATEADOPTEDCONTRACT_ADDKEYS
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
