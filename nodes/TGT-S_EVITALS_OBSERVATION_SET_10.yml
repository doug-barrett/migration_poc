fileVersion: 1
id: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
name: S_EVITALS_OBSERVATION_SET_10
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: "Get the details for some of the observations (e.g. heart rate, blood pressure) for a set and calculate EWS (Early Warning Score) values for those observations."
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1161a0d7-023d-42ab-b0ff-ffd3f7a37ecd
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: ADMISSION_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3f68edb3-1e8d-48b7-8850-2400c40ab4f7
                stepCounter: 6866bc35-1164-43e9-9ff9-15b44d426855
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6f0ab66c-1702-48cf-bbca-3ba6e2e03070
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: Integer ID that uniquely identifies an observation set in Patientrack. Sourced from obset_pk.
        name: OBSERVATION_SET_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e6b716d0-5197-4ac0-92af-0fb734c834ac
                stepCounter: 2988e8b8-1ea5-46f9-8504-e1b140f344fa
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a548a1e5-b77c-4d0a-a7ac-112ceeeef147
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: ""
        name: DBP_EWS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 19fc8b69-6ffa-4fad-9d25-0a65db2f2bd0
                stepCounter: 4c06bd12-ba4c-4850-9efd-605b4d751466
            transform: |-
              MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.CODE IN ('DIABP','LYGBP_DBP') THEN RISK_INDEX ELSE NULL END) --MIN(NULLIF(ds_Patientrack_OBSERVATION_SET_RISK_INDEX.risk_index ,0))
               --MAX(Case WHEN s_evitals_regime_parent.parent_ewsrg_pk=13173 and l_Patientrack_OBSERVATION_MEASURE.CODE = 'DIABP'
               --or s_evitals_regime_parent.ewsrg_pk=13173 and l_Patientrack_OBSERVATION_MEASURE.CODE = 'DIABP'
               --THEN  measure_int ELSE NULL  END )
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fbc792a7-4646-425b-81d1-dc7a2568d4a7
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: COLOUR_ZONE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: |-
              Max(CASE WHEN s_evitals_regime_parent.Parnt_Desc like '%Not for EWS%' THEN '' WHEN s_evitals_regime_parent.Parnt_Desc like '%Not for NEWS%' THEN NULL WHEN try_convert(int,cl.DESCRIPTION) = 0 AND s_evitals_regime_parent.Parnt_Desc like '%NZEWS' OR try_convert(int,cl.DESCRIPTION)=0 OR cl.DESCRIPTION='White' AND s_evitals_regime_parent.Parnt_Desc like '%Maternity%' THEN 'White' WHEN try_convert(int,cl.DESCRIPTION) IN('1') AND s_evitals_regime_parent.Parnt_Desc like '%NZEWS' AND ds_Patientrack_OBSERVATION_SET.OVERALL_RISK_INDEX IS NOT NULL OR try_convert(int,cl.DESCRIPTION) IN ('111') AND s_evitals_regime_parent.Parnt_Desc like '%Maternity%' AND ds_Patientrack_OBSERVATION_SET.OVERALL_RISK_INDEX IS NOT NULL OR cl.DESCRIPTION='Yellow' THEN 'Yellow' WHEN try_convert(int,cl.DESCRIPTION) IN ('2') AND s_evitals_regime_parent.Parnt_Desc like '%NZEWS' AND ds_Patientrack_OBSERVATION_SET.ALSEV_RFVAL<>815 OR try_convert(int,cl.DESCRIPTION) IN('112') AND s_evitals_regime_parent.Parnt_Desc like '%%Maternity%' AND ds_Patientrack_OBSERVATION_SET.ALSEV_RFVAL<>815 OR cl.DESCRIPTION='Orange' THEN 'Orange' WHEN try_convert(int,cl.DESCRIPTION) IN ('3') AND s_evitals_regime_parent.Parnt_Desc like '%NZEWS' AND ds_Patientrack_OBSERVATION_SET.ALSEV_RFVAL<>815 THEN 'Red' WHEN try_convert(int,cl.DESCRIPTION) IN('113') AND s_evitals_regime_parent.Parnt_Desc like '%Maternity%' AND ds_Patientrack_OBSERVATION_SET.ALSEV_RFVAL<>815 THEN 'Pink' WHEN cl.description='Red' AND ds_Patientrack_OBSERVATION_SET.ALSEV_RFVAL<>815 AND s_evitals_regime_parent.Parnt_Desc like '%Maternity%' THEN 'Red' WHEN try_convert(int,cl.DESCRIPTION) IN ('4') AND s_evitals_regime_parent.Parnt_Desc like '%NZEWS' AND ds_Patientrack_OBSERVATION_SET.ALSEV_RFVAL<>815 OR try_convert(int,cl.DESCRIPTION) IN('114') AND s_evitals_regime_parent.Parnt_Desc like '%Maternity%' AND ds_Patientrack_OBSERVATION_SET.ALSEV_RFVAL<>815 OR cl.DESCRIPTION='Blue' THEN 'Blue' WHEN RETROSPECTIVE_FLAG=1 AND cl.DESCRIPTION IS NULL AND s_evitals_regime_parent.Parnt_Desc like '%NZEWS' AND PARTIAL_FLAG <>1 OR RETROSPECTIVE_FLAG=1 AND cl.DESCRIPTION IS NULL AND s_evitals_regime_parent.Parnt_Desc like '%Maternity%' AND PARTIAL_FLAG <>1 THEN 'Retrospective' WHEN PARTIAL_FLAG =1 AND s_evitals_regime_parent.Parnt_Desc like '%NZEWS' OR PARTIAL_FLAG =1 AND s_evitals_regime_parent.Parnt_Desc like '%Maternity%' THEN 'Partial' WHEN s_evitals_regime_parent.Parnt_Desc like '%Not for EWS%' THEN '' WHEN s_evitals_regime_parent.Parnt_Desc like '%Not for NEWS%' THEN NULL ELSE '' END) ----Max(case when try_convert(int,l_Patientrack_REFERENCE_VALUE.DESCRIPTION) is not null
              --and l_Patientrack_REFERENCE_VALUE.RFVAL_PK = ds_Patientrack_OBSERVATION_SET.ASDST_RFVAL
              -- Then l_Patientrack_REFERENCE_VALUE.DESCRIPTION
              --else 'null' end
              --)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a36434bb-6606-486e-98cf-d932bf3c9b34
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: Severity for observation set
        name: REFERENCE_VALUE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4de7bbc6-b337-4389-bbaf-1713ca678f70
                stepCounter: 2988e8b8-1ea5-46f9-8504-e1b140f344fa
            transform: Max(ds_Patientrack_OBSERVATION_SET.ALSEV_RFVAL)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cba4bf04-60ad-4dd4-a553-065af645ddfa
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: PAIN_AT_REST_RESULT
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.CODE = 'RPAIN' THEN measure_Int ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 98e32bf0-2b6d-4339-baac-8c0fbde4e504
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: PAIN_AT_MOVEMENT_RESULT
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.CODE = 'MPAIN' THEN measure_Int ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c9d4925f-912c-4327-9d51-da8a6cfe63f1
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: PV_BLEEDING_RESULT
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.code IN ('MLOCH','LOCHI') THEN l_Patientrack_REFERENCE_VALUE.DESCRIPTION ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a7e59431-1115-45ff-ae5b-b46c0817ad72
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time when the observation measure started.
        name: OBSERVATION_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e47520ea-2c41-434b-86cd-c7950d612858
                stepCounter: 2988e8b8-1ea5-46f9-8504-e1b140f344fa
            transform: dbo.fn_convert_utc_datetime2(ds_Patientrack_OBSERVATION_SET.OBS_START_DTTM)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1d7b2b26-32ef-445c-b6e2-5f6567ccd24d
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: 'UTC Date and time when the observation measure was taken. '
        name: OBSERVATION_TAKEN_DATE_UTC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 88c1b257-80ee-41fc-93fe-f7cb1eb05bb4
                stepCounter: 2988e8b8-1ea5-46f9-8504-e1b140f344fa
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dd1f58a7-e8a8-4302-90cc-2024e2cf95fb
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: 'NZ Date and time when the observation measure was taken. '
        name: OBSERVATION_TAKEN_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 88c1b257-80ee-41fc-93fe-f7cb1eb05bb4
                stepCounter: 2988e8b8-1ea5-46f9-8504-e1b140f344fa
            transform: dbo.fn_convert_utc_datetime2(ds_Patientrack_OBSERVATION_SET.OBS_TAKEN_DTTM)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 63090ccb-a26f-4b7e-9166-068d5bbf0961
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: NOT_TAKEN_REASON_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f48da64d-aa2c-4edc-b90a-454ca670171b
                stepCounter: 2988e8b8-1ea5-46f9-8504-e1b140f344fa
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e78af4a0-00ac-499e-be90-dde694f920e1
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: NOT_TAKEN_REASON_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 731f06d9-48f9-440a-b739-65c7ba0bb438
                stepCounter: f6f252ab-0278-492b-8f5a-bc508fa6a440
            transform: rv2.MAIN_IDENTIFIER
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cfb452d7-9491-4853-b653-49660c78578b
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: Integer ID that uniquely identifies a measure set in Patientrack. Sourced from msset_pk.
        name: MEASURE_SET_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ccfe588b-6c5c-4319-993e-cb435fbd4aad
                stepCounter: 287900af-c539-446d-903e-bf6181d741ff
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ed7c27ea-3567-4a9d-b7f3-dabffe677094
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: ""
        name: PARTIAL_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6a086351-fab0-445d-a31e-bc58ecc70318
                stepCounter: 2988e8b8-1ea5-46f9-8504-e1b140f344fa
            transform: Max(CONVERT(tinyint,ds_Patientrack_OBSERVATION_SET.PARTIAL_FLAG))
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ddd3512f-38e2-49b9-a330-fbb8a1197972
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: EWS_PROFILE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3dbd6332-ee44-4b54-85e8-202d474bf2bb
                stepCounter: 8148efe4-d4ab-42d8-af5d-8704bf01b131
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0530ccbb-18d7-4513-b1ee-5c0447b0e3e7
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: regime key
        name: EWSRG_PK
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5b5f6a4c-eed7-4ad1-a826-085e0b3cbfb8
                stepCounter: 46f76334-4cc1-4151-8f51-e6906c364807
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f74fbc14-9e18-482e-8a7d-178595bf99ac
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: Parent regime
        name: PARENT_EWSRG_PK
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9d90f576-f7f8-4dd0-b3be-2ebf91026f61
                stepCounter: 46f76334-4cc1-4151-8f51-e6906c364807
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d89982aa-4d3f-4933-b1f6-4dd4a1f57891
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: NUMERIC(8,2)
        defaultValue: ""
        description: Result of the Temperature measure for the observation set.
        name: TEMPERATURE_RESULT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2fa140c4-d031-4072-ad6b-ffadc6f8fdd9
                stepCounter: 44de0712-ae1a-455f-a544-203ba41ec44f
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =743 OR l_Patientrack_OBSERVATION_MEASURE.CODE IN ('TMPRT','MTEMP') THEN measure_decimal ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 32a87ac1-a22b-46c5-8ed0-2e726ef37817
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: Result of the Lying Systolic Blood Pressure measure for the observation set.
        name: SBP_RESULT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2a873d24-f5da-4273-bf2f-1df05344b31e
                stepCounter: 44de0712-ae1a-455f-a544-203ba41ec44f
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.CODE IN ('LYGBP_SBP', 'SYSBP', 'PSBP') THEN measure_int ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6feeec42-3ee8-42c3-a9e2-988a90156dde
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: Result of the Lying Systolic Blood Pressure measure for the observation set.
        name: SBP_RESULT_NZ
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2a873d24-f5da-4273-bf2f-1df05344b31e
                stepCounter: 44de0712-ae1a-455f-a544-203ba41ec44f
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.CODE = 'LYGBP_SBP' AND s_evitals_regime_parent.PARENT_EWSRG_PK <>1 THEN IFNULL(risk_index,0) ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: baacf571-03e7-45fb-a3aa-3e3ea872224f
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: Result of the Heart Rate measure for the observation set.
        name: HR_RESULT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2a873d24-f5da-4273-bf2f-1df05344b31e
                stepCounter: 44de0712-ae1a-455f-a544-203ba41ec44f
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.CODE = 'HEART_HR' THEN measure_int ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6c9f93af-14a4-42c7-850a-8f60c5b0ee09
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: Result of the Heart Rate measure for the observation set.
        name: HR_RESULT_NZ
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2a873d24-f5da-4273-bf2f-1df05344b31e
                stepCounter: 44de0712-ae1a-455f-a544-203ba41ec44f
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.CODE = 'HEART_HR' AND s_evitals_regime_parent.PARENT_EWSRG_PK <>1 THEN IFNULL(risk_index,0) ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 245b0b9c-e52c-4f11-9f6c-8e49ca9a7108
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: Result of the Respiration Rate measure for the observation set.
        name: RESPR_RESULT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2a873d24-f5da-4273-bf2f-1df05344b31e
                stepCounter: 44de0712-ae1a-455f-a544-203ba41ec44f
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =741 THEN IFNULL(MEASURE_DECIMAL, MEASURE_INT) ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1e537ca8-f5a3-4831-b37f-3df792ba0f6a
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: Result of the Respiration Rate measure for the observation set.
        name: RESPR_RESULT_NZ
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2a873d24-f5da-4273-bf2f-1df05344b31e
                stepCounter: 44de0712-ae1a-455f-a544-203ba41ec44f
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =741 AND s_evitals_regime_parent.PARENT_EWSRG_PK <>1 THEN IFNULL(risk_index,0) ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: be641387-5eaa-46ef-be18-1f54f6512e42
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: ""
        name: RETROSPECTIVE_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5f237e58-68f8-4c8d-b09f-27f1ffcd7c64
                stepCounter: 2988e8b8-1ea5-46f9-8504-e1b140f344fa
            transform: Max(CONVERT(tinyint, ds_Patientrack_OBSERVATION_SET.RETROSPECTIVE_FLAG))
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1bbe041f-d4f5-4adb-8735-720f7df6430f
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: NUMERIC(8,2)
        defaultValue: ""
        description: Result of the O2 Flow Rate measure for the observation set.
        name: O2FLOW_RESULT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2fa140c4-d031-4072-ad6b-ffadc6f8fdd9
                stepCounter: 44de0712-ae1a-455f-a544-203ba41ec44f
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =1052 THEN measure_decimal ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e0d075f3-f109-48a0-8470-798facec5f86
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: NUMERIC(8,2)
        defaultValue: ""
        description: Result of the O2 Flow Rate measure for the observation set.
        name: O2FLOW_RESULT_NZ
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2fa140c4-d031-4072-ad6b-ffadc6f8fdd9
                stepCounter: 44de0712-ae1a-455f-a544-203ba41ec44f
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =1052 AND s_evitals_regime_parent.PARENT_EWSRG_PK <>1 THEN IFNULL(risk_index,0) ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ffb819fa-b185-463d-8409-98d9d9e943ef
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: Result of the O2 Flow Rate measure for the observation set.
        name: CNS_RESULT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a1e6af49-d8c4-43cb-abf0-32e02215f095
                stepCounter: f6f252ab-0278-492b-8f5a-bc508fa6a440
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval = 740 THEN l_Patientrack_REFERENCE_VALUE.DESCRIPTION ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 074d7bc3-5b78-4d0c-9bbe-dc53ff61916b
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: Result of the O2 Flow Rate measure for the observation set.
        name: CNS_RESULT_NZ
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a1e6af49-d8c4-43cb-abf0-32e02215f095
                stepCounter: f6f252ab-0278-492b-8f5a-bc508fa6a440
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval = 740 AND s_evitals_regime_parent.PARENT_EWSRG_PK <> 1 THEN IFNULL(risk_index,0) ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 140c9312-d83c-4b34-860a-9712e8c6c8a0
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: Result of the O2 Flow Rate measure for the observation set.
        name: URINE_RESULT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a1e6af49-d8c4-43cb-abf0-32e02215f095
                stepCounter: f6f252ab-0278-492b-8f5a-bc508fa6a440
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =1048 THEN l_Patientrack_REFERENCE_VALUE.DESCRIPTION ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fbe84f8d-d119-4025-962c-4d3fc504e046
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: Result of the O2 Flow Rate measure for the observation set.
        name: URINE_RESULT_NZ
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a1e6af49-d8c4-43cb-abf0-32e02215f095
                stepCounter: f6f252ab-0278-492b-8f5a-bc508fa6a440
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =1048 AND s_evitals_regime_parent.PARENT_EWSRG_PK <>1 THEN l_Patientrack_REFERENCE_VALUE.DESCRIPTION ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e4271446-b592-4b8a-a7ed-20c35d0e7d68
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: Result of the Oxygen Saturation measure for the observation set.
        name: O2SAT_RESULT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2a873d24-f5da-4273-bf2f-1df05344b31e
                stepCounter: 44de0712-ae1a-455f-a544-203ba41ec44f
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =745 THEN measure_int ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 71188617-5342-45bf-91b7-9eebdc2fa2fa
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: Result of the Oxygen Saturation measure for the observation set.
        name: O2SAT_RESULT_NZ
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2a873d24-f5da-4273-bf2f-1df05344b31e
                stepCounter: 44de0712-ae1a-455f-a544-203ba41ec44f
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =745 AND s_evitals_regime_parent.PARENT_EWSRG_PK <>1 THEN IFNULL(risk_index,0) ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c0acb5dd-8397-4c6d-b4ae-058a9b731e7b
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: ""
        name: OUT_OF_SEQ_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3f20d776-02ee-4f33-b5d3-de3b0a971d32
                stepCounter: 2988e8b8-1ea5-46f9-8504-e1b140f344fa
            transform: max(CONVERT(tinyint,ds_Patientrack_OBSERVATION_SET.OUT_OF_SEQ_FLAG))
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5f96cc13-1c3b-437f-8321-673ae66c9632
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: EWS for the Temperature measure of the observation set.
        name: TEMPERATURE_EWS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 19fc8b69-6ffa-4fad-9d25-0a65db2f2bd0
                stepCounter: 4c06bd12-ba4c-4850-9efd-605b4d751466
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =743 AND s_evitals_regime_parent.PARENT_EWSRG_PK = 1 OR l_Patientrack_OBSERVATION_MEASURE.CODE IN ('TMPRT','MTEMP') THEN RISK_INDEX ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3fbec9ac-d68e-4bdd-ba8b-6753e4f102a4
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: EWS for the Temperature measure of the observation set.
        name: TEMPERATURE_EWS_NZ
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 19fc8b69-6ffa-4fad-9d25-0a65db2f2bd0
                stepCounter: 4c06bd12-ba4c-4850-9efd-605b4d751466
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =743 AND s_evitals_regime_parent.PARENT_EWSRG_PK <>1 THEN risk_index ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 887a0c50-1178-49b8-b873-984a9cce77f6
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: EWS for the Lying Systolic Blood Pressure measure of the observation set.
        name: SBP_EWS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 19fc8b69-6ffa-4fad-9d25-0a65db2f2bd0
                stepCounter: 4c06bd12-ba4c-4850-9efd-605b4d751466
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.CODE IN ('LYGBP_SBP','SYSBP','PSBP') THEN RISK_INDEX ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7ed51af7-4b31-4b3e-8a21-7b735993131e
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: EWS for the Lying Systolic Blood Pressure measure of the observation set.
        name: SBP_NZEWS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 19fc8b69-6ffa-4fad-9d25-0a65db2f2bd0
                stepCounter: 4c06bd12-ba4c-4850-9efd-605b4d751466
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =744 AND s_evitals_regime_parent.PARENT_EWSRG_PK <>1 THEN risk_index ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4cf3db65-a30e-4707-8ec4-d8906f52ff5a
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: EWS for the Lying Diastolic Blood Pressure measure of the observation set.
        name: DBP_RESULT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.CODE IN ('LYGBP_DBP','DIABP') THEN measure_int ELSE NULL END) --MIN(NULLIF(ds_Patientrack_OBSERVATION_SET_RISK_INDEX.risk_index ,0)) as DBP_ews
      - appliedColumnTests: {}
        columnReference:
          columnCounter: aca192d2-97c9-459f-8e64-f90ad2617d3a
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: EWS for the Heart Rate measure of the observation set.
        name: HR_EWS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 19fc8b69-6ffa-4fad-9d25-0a65db2f2bd0
                stepCounter: 4c06bd12-ba4c-4850-9efd-605b4d751466
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =742 THEN risk_index ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0fcad820-f864-4931-8a7a-d9e305e80f98
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: EWS for the Respiration Rate measure of the observation set.
        name: RESPR_EWS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 19fc8b69-6ffa-4fad-9d25-0a65db2f2bd0
                stepCounter: 4c06bd12-ba4c-4850-9efd-605b4d751466
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =741 THEN risk_index ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1976150f-5902-4e28-bf82-275dbe6351b0
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: EWS for the Oxygen Saturation measure of the observation set.
        name: O2SAT_EWS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 19fc8b69-6ffa-4fad-9d25-0a65db2f2bd0
                stepCounter: 4c06bd12-ba4c-4850-9efd-605b4d751466
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =745 THEN risk_index ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4a2c9cdd-4a7d-47d9-bab6-5c3531ea39c0
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: EWS for the O2 Flow Rate measure of the observation set.
        name: O2FLOW_EWS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 19fc8b69-6ffa-4fad-9d25-0a65db2f2bd0
                stepCounter: 4c06bd12-ba4c-4850-9efd-605b4d751466
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =1052 THEN risk_index ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: db6bbce9-0c72-41a5-949c-4e67f412cefe
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: CNS (Central Nervous System) EWS for the observation set.
        name: CNS_EWS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 19fc8b69-6ffa-4fad-9d25-0a65db2f2bd0
                stepCounter: 4c06bd12-ba4c-4850-9efd-605b4d751466
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =740 THEN risk_index ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: eb686fa3-b463-42ff-a72f-7718ca320b27
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: INT
        defaultValue: ""
        description: EWS for the Urine Output measure of the observation set.
        name: URINE_EWS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 19fc8b69-6ffa-4fad-9d25-0a65db2f2bd0
                stepCounter: 4c06bd12-ba4c-4850-9efd-605b4d751466
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =1048 THEN risk_index ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 670cbfd5-8c41-418f-a885-e8cee6c306b6
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Set to 1 if the Temperature result contributes to the EWS of the observation set.
        name: TEMPERATURE_EWS_CONTRIBUTOR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ff204346-482b-4cc6-ad20-4521b19ad9d9
                stepCounter: 287900af-c539-446d-903e-bf6181d741ff
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =743 THEN CONVERT(tinyint, ews_contributor_flag) ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 991b00a5-cd96-4112-be4e-7743bffb94db
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Set to 1 if the Lying Systolic Blood Pressure result contributes to the EWS of the observation set.
        name: SBP_EWS_CONTRIBUTOR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ff204346-482b-4cc6-ad20-4521b19ad9d9
                stepCounter: 287900af-c539-446d-903e-bf6181d741ff
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =744 OR l_Patientrack_OBSERVATION_MEASURE.CODE IN ('SYSBP','LYGBP_SBP','PSBP') THEN CONVERT(tinyint, ews_contributor_flag) ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 70aaef73-c263-47b8-ba95-318c9c0d1ab4
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Set to 1 if the Lying Diastolic Blood Pressure result contributes to the EWS of the observation set.
        name: DBP_EWS_CONTRIBUTOR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ff204346-482b-4cc6-ad20-4521b19ad9d9
                stepCounter: 287900af-c539-446d-903e-bf6181d741ff
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.CODE IN('LYGBP_DBP','DIABP') THEN CONVERT(tinyint, ews_contributor_flag) ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3eb7eb33-7e56-47e0-bd16-9301182e26c6
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Set to 1 if the Heart Rate result contributes to the EWS of the observation set.
        name: HR_EWS_CONTRIBUTOR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ff204346-482b-4cc6-ad20-4521b19ad9d9
                stepCounter: 287900af-c539-446d-903e-bf6181d741ff
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =742 THEN CONVERT(tinyint, ews_contributor_flag) ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3aeb478e-70fd-47b6-ae89-97527f267584
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Set to 1 if the Respiration Rate result contributes to the EWS of the observation set.
        name: RESPR_EWS_CONTRIBUTOR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ff204346-482b-4cc6-ad20-4521b19ad9d9
                stepCounter: 287900af-c539-446d-903e-bf6181d741ff
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =741 THEN CONVERT(tinyint, ews_contributor_flag) ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4c805184-4663-4428-ab16-989f0cd10eab
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Set to 1 if the Oxygen Saturation result contributes to the EWS of the observation set.
        name: O2SAT_EWS_CONTRIBUTOR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ff204346-482b-4cc6-ad20-4521b19ad9d9
                stepCounter: 287900af-c539-446d-903e-bf6181d741ff
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =745 THEN CONVERT(tinyint, ews_contributor_flag) ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9c91e604-8edf-4115-9f29-b5b5c391e4a9
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Set to 1 if the O2 Flow Rate result contributes to the EWS of the observation set.
        name: O2FLOW_EWS_CONTRIBUTOR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ff204346-482b-4cc6-ad20-4521b19ad9d9
                stepCounter: 287900af-c539-446d-903e-bf6181d741ff
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =1052 THEN CONVERT(tinyint, ews_contributor_flag) ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fb876be3-bee8-4c76-9c09-e2c11c81359f
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Set to 1 if the CNS result contributes to the EWS of the observation set.
        name: CNS_EWS_CONTRIBUTOR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ff204346-482b-4cc6-ad20-4521b19ad9d9
                stepCounter: 287900af-c539-446d-903e-bf6181d741ff
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =740 THEN CONVERT(tinyint, ews_contributor_flag) ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b299450d-d96d-4eae-97a0-4fa97c053520
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Set to 1 if the Urine Output result contributes to the EWS of the observation set.
        name: URINE_EWS_CONTRIBUTOR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ff204346-482b-4cc6-ad20-4521b19ad9d9
                stepCounter: 287900af-c539-446d-903e-bf6181d741ff
            transform: MAX(CASE WHEN l_Patientrack_OBSERVATION_MEASURE.rskix_rfval =1048 THEN CONVERT(tinyint, ews_contributor_flag) ELSE NULL END)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cf9213c8-eeeb-4669-8b97-0231ce5388f2
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: Dummy column to show one of the source tables is l_Patientrack_OBSERVATION_MEASURE.
        name: OBSERVATION_MEASURE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 86e05a17-d9e0-483e-b660-0ae08f1a145c
                stepCounter: 16479f0f-61d2-462f-b562-cf3d2250cd14
            transform: 'NULL'
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0b26a065-d9d8-4e1b-a2a4-910440b364e4
          stepCounter: 60ee7f7f-f8b2-4f58-ab85-d58af2a5a95e
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_EVITALS_ADMISSION_CHANGES
        join:
          joinCondition: |-
            FROM s_eVitals_admission_changes
              JOIN ds_Patientrack_OBSERVATION_SET
                ON s_eVitals_admission_changes.admission_id = ds_Patientrack_OBSERVATION_SET.epsde_pk
              LEFT OUTER JOIN ds_Patientrack_OBSERVATION_PROFILE_APPLICATION
                ON ds_Patientrack_OBSERVATION_SET.obpap_pk = ds_Patientrack_OBSERVATION_PROFILE_APPLICATION.obpap_pk
              LEFT OUTER JOIN ds_Patientrack_OBSERVATION_SET_DETAIL
                ON ds_Patientrack_OBSERVATION_SET.OBSET_PK = ds_Patientrack_OBSERVATION_SET_DETAIL.OBSET_PK
              LEFT OUTER JOIN l_Patientrack_MEASURE_SET_ITEM
                ON ds_Patientrack_OBSERVATION_SET_DETAIL.MSITM_PK = l_Patientrack_MEASURE_SET_ITEM.MSITM_PK
              LEFT OUTER JOIN l_Patientrack_OBSERVATION_MEASURE
                ON l_Patientrack_MEASURE_SET_ITEM.OBMSR_PK = l_Patientrack_OBSERVATION_MEASURE.OBMSR_PK
              LEFT OUTER JOIN ds_Patientrack_OBSERVATION_SET_RISK_INDEX
                ON ds_Patientrack_OBSERVATION_SET_DETAIL.OSDET_PK = ds_Patientrack_OBSERVATION_SET_RISK_INDEX.OSDET_PK
              LEFT OUTER JOIN l_Patientrack_REFERENCE_VALUE
                ON ds_Patientrack_OBSERVATION_SET_DETAIL.MEASURE_LIST = l_Patientrack_REFERENCE_VALUE.RFVAL_PK
              LEFT OUTER JOIN l_Patientrack_REFERENCE_VALUE rv2
                ON ds_Patientrack_OBSERVATION_SET.ontrn_rfval = rv2.rfval_pk
              JOIN ds_Patientrack_EWS_REGIME_APPLICATION
                ON ds_Patientrack_OBSERVATION_SET.EWSAP_PK = ds_Patientrack_EWS_REGIME_APPLICATION.EWSAP_PK
              JOIN s_evitals_regime_parent
                ON ds_Patientrack_EWS_REGIME_APPLICATION.EWSRG_PK =s_evitals_regime_parent.EWSRG_PK
              LEFT JOIN l_Patientrack_REFERENCE_VALUE AS cl
                ON cl.RFVAL_PK = ds_Patientrack_OBSERVATION_SET.ASDST_RFVAL
             WHERE ds_Patientrack_OBSERVATION_SET.current_obset_flag = 1
             GROUP BY s_eVitals_admission_changes.admission_id,
                      ds_Patientrack_OBSERVATION_SET.OBSET_PK,
                      ds_Patientrack_OBSERVATION_SET.OBS_START_DTTM,
                      ds_Patientrack_OBSERVATION_SET.OBS_TAKEN_DTTM,
                      ds_Patientrack_OBSERVATION_SET.ONTRN_RFVAL,
                      rv2.MAIN_IDENTIFIER,
                      l_Patientrack_MEASURE_SET_ITEM.MSSET_PK,
                      ds_Patientrack_OBSERVATION_PROFILE_APPLICATION.OBPRF_PK,
                      s_evitals_regime_parent.EWSRG_PK,
                      s_evitals_regime_parent.PARENT_EWSRG_PK
        name: S_EVITALS_OBSERVATION_SET_10
        noLinkRefs: []
  name: S_EVITALS_OBSERVATION_SET_10
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
