fileVersion: 1
id: 433842c7-954d-4f3e-abb5-6c1b02e758ea
name: LOAD_EXT_INFO_SNOWFLAKE_PRD_PROD_RAW
operation:
  config:
    insertStrategy: UNION
    selectDistinct: false
  customOverride: false
  database: ""
  deployEnabled: false
  description: ""
  isMultisource: false
  locationName: DATAVAULT_LOAD
  materializationType: view
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9e720d95-9705-465a-9c4a-e299a357cdd3
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: ""
        name: ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d4e12e70-3c5f-4e86-960c-bb4c4113d3b6
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(18)
        defaultValue: ""
        description: ""
        name: STORE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 63e803e1-f65c-45d5-b005-36cb7a818342
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: ""
        name: ORDER_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ef809c72-a1ef-4b07-a549-e9402a2fd349
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: TRANSACTION_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fc06cb4b-486a-44bb-a17d-05f93d835c4c
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: ""
        name: INTERVAL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a714d1d1-6bfe-4b88-8d2d-9e40e252c9f9
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: ""
        name: TXN_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8c411ac6-2261-4ec1-be18-8cf080948521
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: PAN
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 88d15a8f-9606-4b12-b9b7-6a8d24b4bf52
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: DECIMAL(19,2)
        defaultValue: ""
        description: ""
        name: AMOUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 058c3da8-ecd1-4c73-8a69-663217c188a7
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: USER_AGENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 12074f8d-46d0-42ab-bb66-b4c005990921
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(15)
        defaultValue: ""
        description: ""
        name: MERCH_IP
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fb7738f2-2505-4df6-8cf9-b7a4b32f132d
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(15)
        defaultValue: ""
        description: ""
        name: CLIENT_IP
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e5edd1d4-9f26-4298-b206-eddd8e76029b
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: COUNTRY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a75ba4c3-704e-4484-9c19-96ef463d6129
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: TIMESTAMP(9)
        defaultValue: ""
        description: ""
        name: IN_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9da113c2-88b8-4c1c-abdf-3709075f03f8
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: TIMESTAMP(9)
        defaultValue: ""
        description: ""
        name: OUT_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b98c5ce1-8eae-4f54-a2f8-4a577ddb7ad5
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: ""
        name: TIER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9e2ced40-7e86-4f97-8489-67ca8fd1b843
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(4096)
        defaultValue: ""
        description: ""
        name: SIG_COORDINATES
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 335a5967-dc19-47aa-be1e-fb0c82906d9a
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(1)
        defaultValue: ""
        description: ""
        name: IS_LOOKEDUP
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 65166eda-2298-463d-9d6b-546e45e9dab8
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(256)
        defaultValue: ""
        description: ""
        name: REF_URL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 86f39770-8ba0-401b-bd91-f7f33a9bcbe1
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: ""
        name: LOCATION_LATITUDE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4dc53700-2a3e-41d4-8421-0655e9a06cb1
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: ""
        name: LOCATION_LONGITUDE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dd8bc0aa-f4ae-40e9-b97c-df86a679df73
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: NUMBER(19,4)
        defaultValue: ""
        description: The amount of tip from the transaction expressed in the original currency
        name: TIP_AMOUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 95ed655f-f5d6-4141-8089-1485c428966a
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: DECIMAL(19,2)
        defaultValue: ""
        description: ""
        name: TAX_AMOUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7d8a1389-c20f-4024-bf2d-b4a1f0e3267e
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: ""
        name: CLERK_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cd5761ed-0cc5-4c55-9110-d37ebc86bafa
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: ""
        name: CLERK_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1097d043-1583-4a38-90ed-f787e523ea1d
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: TAX_DESCRIPTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 59a2e842-a55f-4040-98a5-d6d56d2b5fc8
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(25)
        defaultValue: ""
        description: ""
        name: APP_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4c26b2f0-763f-41cc-8513-dac3238d6449
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: CUSTOMER_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 57999571-6878-404d-b133-321f25e9631b
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Unique Invoice Number
        name: INVOICE_NUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ce9024fb-5a5d-4235-bbe7-13001dc2dea8
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: TIMESTAMP(9)
        defaultValue: ""
        description: ""
        name: FILE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 18c2c345-8842-4694-b5fd-6126d8e9dfa8
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(32)
        defaultValue: ""
        description: ""
        name: HOST_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c1393af3-d655-4369-bebc-20a955dcfca5
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: Record source
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: "'Snowflake_PRD_PROD_RAW.ALAMO.EXT_INFO'"
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e869e5a8-61fb-4f25-95da-63570388b816
          stepCounter: 433842c7-954d-4f3e-abb5-6c1b02e758ea
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was loaded in the data vault
        name: DSS_LOAD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: CAST(CURRENT_TIMESTAMP AS TIMESTAMP)
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          WHERESCAPE_HIGHWATERMARK: 843b61c6-a56b-4475-b286-0faf8df70518
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DATAVAULT_LOAD
            nodeName: WHERESCAPE_HIGHWATERMARK
        join:
          joinCondition: |-
            FROM "PROD_RAW"."ALAMO"."EXT_INFO" EXT_INFO
             WHERE NVL(FILE_DATE, '1900-01-02') > (
                    SELECT HIGHWATERMARK
                      FROM {{ ref('DATAVAULT_LOAD','WHERESCAPE_HIGHWATERMARK') }}
                     WHERE LOAD_TABLE_SOURCE_NAME = 'LOAD_EXT_INFO_SNOWFLAKE_PRD_PROD_RAW'
                   )
        name: LOAD_EXT_INFO_SNOWFLAKE_PRD_PROD_RAW
        noLinkRefs: []
  name: LOAD_EXT_INFO_SNOWFLAKE_PRD_PROD_RAW
  overrideSQL: false
  schema: ""
  sqlType: View
  type: sql
  version: 1
type: Node
