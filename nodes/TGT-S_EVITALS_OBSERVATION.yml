fileVersion: 1
id: 0fb3373f-e894-466c-bf3c-a6044663966e
name: S_EVITALS_OBSERVATION
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: "Source table for fact_eVitals_observation. Dimension key look up."
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 87241768-f5a8-43f6-88bf-acdf0652da12
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: INT
        defaultValue: ""
        description: Integer ID that uniquely identifies a patient admission in Patientrack. Sourced from admsn_pk.
        name: ADMISSION_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b7a20965-ea45-4e9e-adb4-3a632ecfda9e
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6519cad0-0fa7-4d27-b33a-b4975b7b3b46
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: INT
        defaultValue: ""
        description: Integer ID that uniquely identifies an observation set in Patientrack. Sourced from obset_pk.
        name: OBSERVATION_SET_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: eb6a90f8-4812-44e8-bed7-9b5cde39c003
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 12484d4c-536a-4e40-914a-d0de97e1fb71
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: INT
        defaultValue: ""
        description: Integer ID that uniquely identifies a measure set in Patientrack. Sourced from msset_pk.
        name: MEASURE_SET_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 97b13ebf-fa68-4f11-b466-90b395888215
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 39f1941d-c96d-4374-8161-112832eee246
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: INT
        defaultValue: ""
        description: Integer ID that uniquely identifies an observation in Patientrack. Sourced from osdet_pk.
        name: OBSERVATION_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 371e521c-42d1-445d-a10d-3432816766b7
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ad366639-f730-48e7-87dc-1ad8ec8a0735
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Patient NHI number.
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 033c0201-00e2-4194-8643-2d197726d61e
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 27b1250c-98cc-47c6-91c5-7d20b08ef8d4
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: 'Internal unique identifier for a patient from the Patient Management System '
        name: PATIENT_REFERENCE_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8272d481-309a-4cc5-a79d-6a5350884096
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 943b6464-b563-4778-8797-36a37d271ae4
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: Inpatient or ED event associated with the observation set for the patient.
        name: ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d6cabe1d-697a-4dac-a822-7fb1f402ed2d
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4a8de54b-d498-4b4b-ab7c-1a724c75861a
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time when the observation measure started.
        name: OBSERVATION_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 24a28606-37af-4654-8545-1eda9ac5e313
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4a854fdf-e313-4c65-8a44-c81452129920
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time when the observation measure was taken.
        name: OBSERVATION_TAKEN_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cab132d1-f0c7-4048-b146-9b07b402ba77
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6f283c87-91da-497b-a630-e091aac261da
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Alphanumeric code that uniquely identifies a ward in Patientrack.
        name: WARD_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 215b8df4-ce95-43e5-8b19-8f7102a6d107
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 06f92cae-d5aa-43dc-8873-2646675153fa
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Alphanumeric code that uniquely identifies a specialty in Patientrack.
        name: SPECIALTY_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b303ba33-e28d-404e-b437-de5a08d6e0e7
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e10c130d-5141-4c93-8c00-6ab001139d1a
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Unique identifier for a ward.
        name: WARD_REFERENCE_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cf990869-46df-4e22-8503-5a85381c8d9e
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 70dec47d-46d1-4355-b830-fd2dd792164c
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Unique identifier for a clinician.
        name: CLINICIAN_REFERENCE_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 796d0bc1-9e0d-4c3b-b311-4b922f3b77f9
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 98cf568e-8283-47bf-bc4d-0a96e7b89141
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: The order in which measures within a set are listed.
        name: MEASURE_DISPLAY_ORDER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b84730cb-5909-4dba-abfc-9601fd07d80f
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e2f4e787-0be4-4dcd-87be-9481409d8ec1
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: Alphanumeric code that uniquely identifies a measure e.g. RESPR, MTEMP, O2SAT.
        name: MEASURE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2c803917-0413-4c95-8bbd-9519cc06cc42
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3a7c0a95-6571-4ded-9bf9-dda4938b0c85
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Set to 1 if the measure contributes towards the overall EWS for the set.
        name: EWS_CONTRIBUTOR_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1d5ce1e9-f565-419f-b490-b11d75cd3c61
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 19a3b198-7858-43dd-ad4a-43696da53784
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Early Warning Score for the observation.
        name: EWS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9e7e4222-1ba5-4153-a010-6e3e845bdc81
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b5150ca2-cd31-40e6-b0f1-e26e4b45b655
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Set to 1 if the EWS for the observation is greater than the value of parameter eVitals_EWS_alert.
        name: EWS_ALERT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f0382f35-3d8d-42e6-a3db-0d5b7721d106
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6e30ad5a-ca86-4213-827a-8459fcbbde6a
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: Set to either result_integer, result_decimal or result_char depending upon the measure being done.
        name: OBSERVATION_RESULT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f28d1277-bb4e-4937-bf96-9bc551ed11cb
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a00d0683-ad0c-43b9-a8d9-8560ed9f0329
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: INT
        defaultValue: ""
        description: Measure result if it is recorded as an integer.
        name: RESULT_INTEGER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 63a7139c-4053-4ab5-86b6-9443b4401df0
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d6b1ce8b-74a1-419e-b98d-425325a4aaae
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: NUMERIC(8,2)
        defaultValue: ""
        description: Measure result if it is recorded as an decimal.
        name: RESULT_DECIMAL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: eaa62032-b882-40cb-a9d4-c6a7a760e847
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 212b24b7-57a9-423a-8b01-b6a7835282b3
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: Measure result if it is recorded as text.
        name: RESULT_CHAR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 284b4aff-0bab-445b-846c-96cb84d37033
                stepCounter: f7d6901c-980e-4130-9053-80c352b3682e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2724b591-18fa-43c0-bb67-01e684e1367e
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_eVitals_observation.clinician_reference_no=dim_clinician.clinician_reference_no
        name: DIM_CLINICIAN_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 911a8788-86e5-4a5c-a00a-a957d59070b8
                stepCounter: e8e4a684-3ef8-4076-846f-48d5689e824f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b419cf80-bcf9-4b50-a57c-219108ffe261
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_eVitals_observation.patient_reference_no=dim_patient.patient_reference_no
        name: DIM_PATIENT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9962a01b-5f3d-4c1a-b371-997edef38d0f
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 63539565-a54c-4dbe-b10b-f1c213bc97be
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_eVitals_observation.ward_code=dim_ward.ward_code
        name: DIM_WARD_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6aa5e7b8-4dc5-4b87-a4c2-5013db0e1dfc
                stepCounter: 50c31151-9204-4154-9caf-5d28244bde1a
            transform: IFNULL(dim_ward.dim_ward_key, 0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 154953b5-de64-4aeb-bdaf-eb7b8f932cde
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_eVitals_observation.measure_code=dim_eVitals_measure.measure_code
        name: DIM_EVITALS_MEASURE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8be99dea-6300-442a-ab23-391cd531b326
                stepCounter: ef1ec9e0-4d78-4720-be0f-08c683f1f8f1
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c9d63ca9-6b8f-41b8-87b8-4f421418ea15
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_eVitals_observation.measure_set_id=dim_eVitals_measure_set.measure_set_id
        name: DIM_EVITALS_MEASURE_SET_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: baf80e40-7b5a-4a92-802d-fe35f5056b48
                stepCounter: a3266b62-e981-4c9c-bdac-08161019209c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: eeb4dc15-dc40-44fd-8201-4330d2ea76fe
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_eVitals_observation.specialty_code=dim_eVitals_specialty.specialty_code
        name: DIM_EVITALS_SPECIALTY_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 36eea977-f6e5-461e-bb50-163e60d96c55
                stepCounter: d2ebf68c-fb2d-47cd-b424-0630c1cf2e74
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 270bda75-acd4-418a-a44f-640c7184a207
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_eVitals_observation.ward_code=dim_eVitals_ward.ward_code
        name: DIM_EVITALS_WARD_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ea32cb49-2e3e-4f47-afae-b61696d7cd7a
                stepCounter: 3713fb07-8558-460e-866c-807865add548
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1b5b425c-1d95-4f5a-b852-e9533bba739d
          stepCounter: 0fb3373f-e894-466c-bf3c-a6044663966e
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_EVITALS_OBSERVATION_20
        join:
          joinCondition: |-
            FROM s_eVitals_observation_20
              LEFT OUTER JOIN dim.dim_ward
                ON dim_ward.ward_reference_no = s_eVitals_observation_20.ward_reference_no
               AND dim_ward.dss_current_flag = 'Y'
        name: S_EVITALS_OBSERVATION
        noLinkRefs: []
  name: S_EVITALS_OBSERVATION
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
