fileVersion: 1
id: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
name: S_CDSSWE_STROKE_REGISTER_V
operation:
  config:
    insertStrategy: UNION
    selectDistinct: false
  customOverride: false
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: view
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 125387dc-b04e-4d3e-adfb-662452a04720
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: ""
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 38fce64c-6011-4d19-8fb7-9fa8c8d49e06
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: TASK_REQUEST_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 02f1632a-255f-4784-bc23-1bc22edc48d9
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: OBSERVATION_REPORT_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 198fcda6-2018-4bfb-8e7c-14944be99ffc
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: ""
        name: STREAM_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2944fa0c-fe93-433f-9a07-19b93ca4c351
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: ""
        name: REFERRALENCOUNTER
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: "'R' + pp.stream_id"
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 63fc8da0-87c3-446a-b855-e940eb3a12c9
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: BIGINT
        defaultValue: ""
        description: '  '
        name: PATIENT_PROGRAMME_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e3ecda85-7ebe-43ff-a3c0-d07f10d71762
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: ""
        name: DUE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 67076017-df6b-40e1-8a08-e48425aa7f7c
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(200)
        defaultValue: ""
        description: ""
        name: DISPLAY_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a86c9d66-48d2-4947-aeaa-6a0d80be192f
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: ""
        name: DATE_COMPLETED
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 690f0db8-b87c-48fe-8bd7-3a33f31a8619
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: TASK_STATUS
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b7dd7402-3119-4f42-88b8-1b5c4572f147
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: CLINICIAN
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cb81dbfe-45bb-4824-8169-f83a62b68bf6
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(8000)
        defaultValue: ""
        description: ""
        name: ALIVE_AT_7_7_OR_D_C
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 86eb3c2c-ff37-4cf4-af1e-def186786e56
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(8000)
        defaultValue: ""
        description: ""
        name: APPTMADE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3e26bee9-b030-428f-b33b-337f4997eecd
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(8000)
        defaultValue: ""
        description: ""
        name: CLINICTYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2064e2b8-7e7c-412d-b679-4a86a9b1d45a
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(8000)
        defaultValue: ""
        description: ""
        name: ARRIVAL
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0315d4c3-2c17-4b20-83c4-42030348ec02
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(8000)
        defaultValue: ""
        description: ""
        name: COMMENTS
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: eb5c7758-20f8-4728-876b-c2d23c52fe0f
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: ""
        name: DISCHARGE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 075c1ba7-5063-4d3f-b9a3-5cd9508c12db
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: ""
        name: PSI_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 699c5b76-5e29-4752-9808-96eba730da80
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: ""
        name: THROMBODATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8e882311-223d-4a94-b75c-b95be2623cc5
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: THROMBODHB
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 12a9549e-b036-4c5a-b098-44644b889da0
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: SEENBYDR
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 92e36444-a03e-4eca-84f0-77033f531164
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: ENCOUNTER
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f8049c4c-51a9-4b9c-ad9e-b17a21325689
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: ""
        name: FIRSTCONTACTDATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7cfb86e9-f4d1-4df3-b9ef-536ee0040966
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: INVESTIGATIONS
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 70223109-d510-4cab-92f6-e662877762a5
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: LATERALITY
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 59191a5b-b524-46ee-adb0-f94e72e73add
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: LIVINGSITUATION
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ec9812e7-7787-47be-ad08-60c1e1d7d7dc
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: NIHSS
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 10855df1-b9e5-4f0b-9e06-0bcd07dab1f5
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: NOTES
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 888d5985-aa7b-4aeb-be91-6001a6c0ed7f
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: SEENBYNURSE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dcfb8980-f264-4623-87cd-55329028038e
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: ""
        name: STROKEONSETDATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 70a02912-d8af-43a8-a282-d6bfb7f46afa
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: STROKEONSETTIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ad1832f1-ba25-4799-b814-895e5459a094
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: OTHER_COMPS
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b5d61a84-991b-441f-9761-30a1931faf23
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: OXFORDCLASS
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 766a6b18-aefe-4908-b26d-7c03aecee59c
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: PATIENT_THROMBOLYSED
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 238679b5-d052-4e0f-bdc7-bbd8b60b6d89
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: PLAN_A
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 95fbc443-771a-465c-a5f3-e2fc6b50edac
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(7000)
        defaultValue: ""
        description: ""
        name: PRESENTING_COMPLAINT_RELEVANT_HISTORY
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e2ef22b2-70a7-4178-9539-7891131b4027
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(7000)
        defaultValue: ""
        description: ""
        name: REASONNOTTHROMBOLYSED
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 439f0a63-359c-4b6e-9dfd-451976a341d6
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(7000)
        defaultValue: ""
        description: ""
        name: REFERRALDATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: deb7a40d-440e-43ce-8c5c-2198137e7c43
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(7000)
        defaultValue: ""
        description: ""
        name: REFERRALMODE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c54b510b-94b1-4c5f-9d75-7ccbfc2819ad
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(7000)
        defaultValue: ""
        description: ""
        name: REFERRALTIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d7e7d38f-d6d1-4d7c-86b4-419ed853c767
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(7000)
        defaultValue: ""
        description: ""
        name: STROKETYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7725194f-e4ff-4931-b55a-7f4455adbf94
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(7000)
        defaultValue: ""
        description: ""
        name: STROKEUNITINPUT
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cc87a8cc-e245-4c49-929f-92408bb193ad
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(7000)
        defaultValue: ""
        description: ""
        name: STROKELOCATION
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9b9250c4-3831-4b28-bfbc-6aa03e3b4844
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(7000)
        defaultValue: ""
        description: ""
        name: SYMPTOM_ONSET
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fa8d9989-e593-4ba6-9dea-2aae399bff2a
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(7000)
        defaultValue: ""
        description: ""
        name: SYMPTOMATIC_ICH
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 987c2755-f710-4c4c-b0f6-3b013041cb92
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(7000)
        defaultValue: ""
        description: ""
        name: TIME_BOLUS
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b90fff39-4ede-479b-aa9c-394de712e66e
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(7000)
        defaultValue: ""
        description: ""
        name: TIME_CT
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a559d2a7-adf0-490e-83eb-bc2cb54f200c
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(7000)
        defaultValue: ""
        description: ""
        name: W_H
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fb255759-43b8-4aa9-a367-49dc4d0cf6c9
          stepCounter: e97bb36b-a5cd-4e0c-988d-b16dfa5d2d6d
        config: {}
        dataType: VARCHAR(7000)
        defaultValue: ""
        description: ""
        name: PATIENT_SENT_FOR_PSI
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: |-
            {{ stage('SQL Override') }}
            SELECT pat.NHI_number patient_NHI,
                   tr.taskrequest_id taskrequest_id,
                   obs.observation_report_id observation_report_id,
                   pp.stream_id stream_id,
                   'R' + pp.stream_id AS referralencounter,
                   pp.patient_programme_id patient_programme_id,
                   tr.due_date due_date,
                   tt.display_name display_name,
                   obs.date_completed date_completed,
                   CASE WHEN obs.observation_report_status = 'F' THEN 'Completed'
                        WHEN obs.observation_report_status = 'S' THEN 'In Progress'
                        WHEN obs.observation_report_status = 'X' THEN 'Declined'
                        WHEN obs.observation_report_status = 'A' THEN 'Finalised'
                         END AS task_status,
                   obs.provider_given_name + ' ' + obs.provider_family_name AS Clinician ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 6025137861416
                   ) AS [Alive_at_7_7_or_D_C] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5041940442296
                   ) AS [ApptMade] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5041939919280
                   ) AS [ClinicType] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5831665214484
                   ) AS [Arrival] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5831665724612
                   ) AS [Comments] --convert(datetime,s_cdsswe_stroke_register_v.Discharge_Date,103)
            ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 1066679881980
                   ) AS [Discharge_Date] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 6009338779728
                   ) AS [PSI_Date] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5040561998516
                   ) AS [ThromboDate] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5040562175876
                   ) AS [ThromboDHB] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5040555625460
                   ) AS [SeenByDr] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5039195886232
                   ) AS [Encounter] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5040553886928
                   ) AS [FirstContactDate] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 6043212620668
                   ) AS [Investigations] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5938433688456
                   ) AS [Laterality] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5032300488544
                   ) AS [LivingSituation] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5043296839460
                   ) AS [NIHSS] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 1066178928090
                   ) AS [Notes] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5040555272304
                   ) AS [SeenByNurse] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5032298016928
                   ) AS [StrokeOnsetDate] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5032299475752
                   ) AS [StrokeOnsetTime] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5831665611172
                   ) AS [Other_comps] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5040554913836
                   ) AS [OxfordClass] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 6009334078416
                   ) AS [Patient_Thrombolysed] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 6043213479480
                   ) AS [Plan_a] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 6043212459168
                   ) AS [Presenting_Complaint_Relevant_History] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5461291734024
                   ) AS [ReasonNotThrombolysed] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5032301415356
                   ) AS [ReferralDate] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5032301045992
                   ) AS [ReferralMode] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5041948069236
                   ) AS [ReferralTime] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5040554104412
                   ) AS [StrokeType] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5355407875708
                   ) AS [StrokeUnitInput] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 6008988610356
                   ) AS [StrokeLocation] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5831665121424
                   ) AS [Symptom_onset] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 6008988958292
                   ) AS [Symptomatic_ICH] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5831665439672
                   ) AS [Time_bolus] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5831665351360
                   ) AS [Time_CT] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 5831664896672
                   ) AS [W_H] ,
                   (
                    SELECT ato.value
                      FROM ds_cdsswe_atomic_observation ato
                     WHERE obs.observation_report_id = ato.observation_report_id
                       AND ato.datatype_id = 6009336906480
                   ) AS [Patient_Sent_For_PSI]
              FROM ds_cdsswe_task_request tr,
                   ds_cdsswe_patient_programme pp,
                   l_cdsswe_patient pat,
                   l_cdsswe_task_type tt,
                   ds_cdsswe_observation_report obs
             WHERE tr.patient_programme_id = pp.patient_programme_id
               AND pp.patient_id = pat.patient_id
               AND tr.tasktype_id = tt.tasktype_id
               AND tr.taskrequest_id = obs.taskrequest_id
               AND obs.record_status = 'A'
               AND obs.observation_report_status IN ('A','F','S')
               AND tt.tasktype_id = 5060554223284
        dependencies: []
        join:
          joinCondition: None
        name: S_CDSSWE_STROKE_REGISTER_V
        noLinkRefs: []
  name: S_CDSSWE_STROKE_REGISTER_V
  overrideSQL: true
  schema: ""
  sqlType: View
  type: sql
  version: 1
type: Node
