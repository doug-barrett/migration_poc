fileVersion: 1
id: 8efcedf6-a046-4685-82f3-4278a326e621
name: S_PIMS_ARCHIVED_DATA_V
operation:
  config:
    insertStrategy: UNION
    selectDistinct: false
  customOverride: false
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: view
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 89900e03-bb20-425f-a9bf-65a882d8ed1d
          stepCounter: 8efcedf6-a046-4685-82f3-4278a326e621
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: DS_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: "'diagnosis_procedures'"
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5038d684-7967-4146-ac7f-ebdcdfefb864
          stepCounter: 8efcedf6-a046-4685-82f3-4278a326e621
        config: {}
        dataType: DECIMAL(10)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: DS_REFNO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1d68cac3-1932-4ba9-9130-5744cfef3938
                stepCounter: 09d01760-d7f9-4d66-ac45-397ed170706f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1940c4d1-1e59-4f7d-94c8-bca0e5fcc63b
          stepCounter: 8efcedf6-a046-4685-82f3-4278a326e621
        config: {}
        dataType: DECIMAL(10)
        defaultValue: ""
        description: ""
        name: PATNT_REFNO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 171af11f-4c67-4e6e-a628-dd0dc4bbf3b6
                stepCounter: 09d01760-d7f9-4d66-ac45-397ed170706f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c0196ec4-40ca-4d80-8b40-877a318b132d
          stepCounter: 8efcedf6-a046-4685-82f3-4278a326e621
        config: {}
        dataType: DECIMAL(10)
        defaultValue: ""
        description: ""
        name: USSCR_REFNO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2c9ddffc-b026-4641-81d7-f75f1d13741f
                stepCounter: 7f820e1b-b449-49f5-89d1-74dbcee5472d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 62f4600b-64b7-44c0-8d9f-b6094b0a1383
          stepCounter: 8efcedf6-a046-4685-82f3-4278a326e621
        config: {}
        dataType: DECIMAL(10)
        defaultValue: ""
        description: ""
        name: SORCE_REFNO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4efe20ac-aadf-400e-a7c8-b67982ac2ed7
                stepCounter: 09d01760-d7f9-4d66-ac45-397ed170706f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ddbed859-a414-4a21-825e-e5758fd335c5
          stepCounter: 8efcedf6-a046-4685-82f3-4278a326e621
        config: {}
        dataType: VARCHAR(5)
        defaultValue: ""
        description: ""
        name: SORCE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 04679918-b4b6-455c-9476-7e7eef0c777a
                stepCounter: 09d01760-d7f9-4d66-ac45-397ed170706f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9fb5f527-eda2-4072-921e-24a59c44b055
          stepCounter: 8efcedf6-a046-4685-82f3-4278a326e621
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: MODIF_DTTM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7985880b-1125-40da-ac8f-92ea65a7a58e
                stepCounter: 09d01760-d7f9-4d66-ac45-397ed170706f
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: |-
            {{ stage('SQL Override') }}
            SELECT 'diagnosis_procedures',
                   dgpro_refno,
                   patnt_refno,
                   CONVERT(decimal(10), NULL) usscr_refno,
                   sorce_refno,
                   sorce_code,
                   modif_dttm
              FROM l_pims_diagnosis_procedures
             WHERE archv_flag = 'Y'
            UNION ALL SELECT 'ldd_local_datavalues',
                   lclda_refno,
                   patnt_refno,
                   usscr_refno,
                   sorce_refno,
                   sorce_code,
                   modif_dttm
              FROM l_pims_ldd_local_datavalues
             WHERE archv_flag = 'Y'
        dependencies: []
        join:
          joinCondition: None
        name: S_PIMS_ARCHIVED_DATA_V
        noLinkRefs: []
  name: S_PIMS_ARCHIVED_DATA_V
  overrideSQL: true
  schema: ""
  sqlType: View
  type: sql
  version: 1
type: Node
