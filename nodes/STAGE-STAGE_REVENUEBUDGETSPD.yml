fileVersion: 1
id: b17c0210-a181-4089-8c54-c755d754df2e
name: STAGE_REVENUEBUDGETSPD
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: "SEE NOTES"
  isMultisource: false
  locationName: STAGE
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f604c035-6a76-4fd9-bd19-cf1bf809a30c
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: STAGECONTRACT_ADDKEYS.SUPPLIERID=SUPPLIER.SUPPLIERID
        name: SUPPLIERKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2aa55bd1-f8be-4d08-ade3-2ff2c3000b9a
                stepCounter: a550c43a-4d5a-4a69-aa48-4cefa3de4b21
            transform: IFNULL(CONTRACT.SUPPLIERKEY,0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 11750ef6-d54c-4d3f-9d1c-cfac7557c2e3
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: SUPPLIERID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 954f9e39-0303-4296-a455-952b26551b60
                stepCounter: a550c43a-4d5a-4a69-aa48-4cefa3de4b21
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ec07494a-d366-4a7c-9738-3514a42c22b3
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: IS THE NAME OF A SUPPLIER WHO OWNS A CONTRACT, AS IT EXISTS FROM THE SOURCE SYSTEM. YOU PROBABLY WANT TO USE REPORTINGSUPPLIERNAME INSTEAD.
        name: SUPPLIERNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5320743a-1acf-448a-829f-b6d77d9fa171
                stepCounter: 470235be-2b1f-4c18-8481-f03bb4bed667
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bc86be3f-a892-49e7-8f5a-71933afab21b
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: IS THE PREFERRED, CLEANED UP NAME OF THE SUPPLIER. THIS IS THE ONE YOU WANT TO USE FOR REPORTS
        name: REPORTINGSUPPLIERNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d540aa96-a25c-45d3-b97c-86a23d48d564
                stepCounter: 470235be-2b1f-4c18-8481-f03bb4bed667
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 49944a14-3baf-4103-94e4-489f23494bff
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: PD_VP
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e84c2af3-8a92-41bf-9385-793aa1922991
                stepCounter: 470235be-2b1f-4c18-8481-f03bb4bed667
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4971ee24-61db-495d-aba1-c9265d2e1433
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: PD_DIRECTOR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3c14ab2a-59c5-439d-bcf0-2a08dca9f483
                stepCounter: 470235be-2b1f-4c18-8481-f03bb4bed667
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 83417c5c-fed7-425d-940a-653b6453f504
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: GENERATED ARTIFICIAL KEY
        name: CONTRACTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dd104e19-ca47-41af-94d4-cca1548f548e
                stepCounter: a550c43a-4d5a-4a69-aa48-4cefa3de4b21
            transform: IFNULL(CONTRACT.CONTRACTKEY,-1)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9753bd41-f26f-4b79-b480-f11e73662306
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: CONTRACTID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c86deaee-8398-4357-bf6e-e7d7761fd4c1
                stepCounter: 0736a44c-df51-4d62-ba63-b490fce459af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 42d1ab3e-da50-478c-850a-736b7d1a39f8
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: INT
        defaultValue: ""
        description: STAGEREVENUEBUDGETSPD.BUDGETDATE=DIMBUDGETDATE.BUDGETDATE
        name: BUDGETDATEKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5c44e398-1413-4060-9f9e-0716da9c3ba0
                stepCounter: bbadb7c4-d0be-4b54-9433-eddd7cf4a5be
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fe823cd6-aeba-4014-a33f-ce7860fcffd7
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: BUDGETDATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d41d44b6-3c3e-4ce0-ba92-398f1361d87a
                stepCounter: 0736a44c-df51-4d62-ba63-b490fce459af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 70bad128-5eef-4490-a97b-34dad0e55a8f
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: BUDGETSALESAMOUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9e8113db-19b6-446d-bf5c-fb0954fe2901
                stepCounter: 0736a44c-df51-4d62-ba63-b490fce459af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ebcced8a-2d5a-40ea-a69b-12db630f8141
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: BUDGETREVENUEAMOUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9d0091fa-ccfb-4a08-94e7-81f4b598a6af
                stepCounter: 0736a44c-df51-4d62-ba63-b490fce459af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 728c142a-ff3a-40e7-9140-a252ca18e576
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: BUDGETSALESAMOUNTBOARD
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ffc4ea05-71cf-4e79-a9b0-d6d9e73dbf1c
                stepCounter: 0736a44c-df51-4d62-ba63-b490fce459af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dd12c999-444d-4c3a-888b-dece1d2d8871
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: BUDGETREVENUEAMOUNTBOARD
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 09e615d0-c8d1-4ae1-882b-cbda0724cfcc
                stepCounter: 0736a44c-df51-4d62-ba63-b490fce459af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b5460de2-5c2c-4ae1-9fc1-9877a6f739b6
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: BUDGETSALESAMOUNTMODEL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0c2c2585-ef87-4e80-8379-d478c751620b
                stepCounter: 0736a44c-df51-4d62-ba63-b490fce459af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b9294d48-8f8b-4233-ad4b-74d22164ff44
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: BUDGETREVENUEAMOUNTMODEL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4247e613-d8e2-4209-8ec8-9e692ec4cfe4
                stepCounter: 0736a44c-df51-4d62-ba63-b490fce459af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 25c00713-d6e4-4761-aae1-8126fd758bde
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: RECORD SOURCE.
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fe260ea4-85fe-41ee-aab2-575d0faed393
                stepCounter: 0736a44c-df51-4d62-ba63-b490fce459af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 26e77440-2311-4417-b789-25e8ae60bd22
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: LOAD DATE.
        name: DSS_LOAD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dec03471-0c14-4fa8-b91a-a316054c7ef6
                stepCounter: 0736a44c-df51-4d62-ba63-b490fce459af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e7b021c0-28d1-440d-b45e-3615a6180984
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: DATE AND TIME THE ROW WAS CREATED IN THE DATA WAREHOUSE.
        name: DSSCREATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f5c3542f-b455-4e7c-b534-926e52eb5532
          stepCounter: b17c0210-a181-4089-8c54-c755d754df2e
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: DATE AND TIME THE ROW WAS UPDATED IN THE DATA WAREHOUSE.
        name: DSSUPDATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CONTRACT: a550c43a-4d5a-4a69-aa48-4cefa3de4b21
          SUPPLIER: 470235be-2b1f-4c18-8481-f03bb4bed667
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DIM
            nodeName: CONTRACT
          - locationName: DIM
            nodeName: DIM_BUDGETDATE
          - locationName: DIM
            nodeName: SUPPLIER
          - locationName: LOAD
            nodeName: LOAD_REVENUEBUDGETSPD_ALL
          - locationName: UNKNOWN
            nodeName: LOADREVENUEBUDGETSPD_ALL
        join:
          joinCondition: |-
            FROM {{ ref('UNKNOWN','LOADREVENUEBUDGETSPD_ALL') }} LOADREVENUEBUDGETSPD_ALL
              LEFT JOIN {{ ref('DIM','CONTRACT') }} CONTRACT
                ON LOADREVENUEBUDGETSPD_ALL.CONTRACTID = CONTRACT.CONTRACTID
              LEFT JOIN {{ ref('DIM','SUPPLIER') }} SUPPLIER
                ON CONTRACT.SUPPLIERKEY = SUPPLIER.SUPPLIERKEY
        name: STAGEREVENUEBUDGETSPD
        noLinkRefs: []
  name: STAGE_REVENUEBUDGETSPD
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
