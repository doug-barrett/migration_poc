fileVersion: 1
id: 024a2928-ecd7-4540-96bf-7778d450f618
name: DIM_MOTHER_AS_PATIENT
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: "Used in maternity where the mother is also a patient and not just next of kin"
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1bbdfd97-1730-4e9f-bc1f-f73f2187cd6c
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        isSurrogateKey: true
        name: DIM_MOTHER_AS_PATIENT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9962a01b-5f3d-4c1a-b371-997edef38d0f
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6c34eaa1-dc13-4d52-b949-9769406a233a
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Internal unique identifier for a patient from the Patient Management System
        name: PATIENT_REFERENCE_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 702dfc9d-df5e-42d8-86f8-9e68f29c462c
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c7f60d5f-a0f2-4d48-8733-0447cc3c06d9
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: Patient Title
        name: MOTHER_PATIENT_TITLE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9afc76f7-9f87-4d30-b871-47c72c4e79d3
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 647ffd30-56b3-44a9-a8c8-29e452613c26
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: Patient Forename
        name: MOTHER_PATIENT_FORENAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b98a3792-6bac-403e-bd05-454d4fc16cfe
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4be2983e-748c-4bc2-b978-31d00e0d33d7
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: Patient surname
        name: MOTHER_PATIENT_SURNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4a78f9dc-a830-44bc-ac89-df633fbf4647
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 869b64d6-76b4-4199-a0ef-bd4575beaa51
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: Patient_Preferred_Forename
        name: MOTHER_PATIENT_PREFERRED_FORENAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dd3940ac-6f62-4e0f-a7ca-63a841fde833
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e69bbec3-08d8-49f3-b1e6-c3bb2ec40820
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(60)
        defaultValue: ""
        description: The surname and preferred forename of the patient in the format (SURNAME, PREFERRED_NAME)
        name: MOTHER_PATIENT_FULLNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 271e4fae-c1a4-4ebf-8ba4-75dfe9c95440
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 945099ed-c289-4aa4-b1e2-16b9687ad143
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: The date the patient was born
        name: MOTHER_PATIENT_DATE_OF_BIRTH
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7f201416-ac35-4870-a0c1-0836d1b9e5b7
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9cfd8ef3-5669-4b85-ac60-5499c018b3e7
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: The date that the patient died
        name: MOTHER_PATIENT_DATE_OF_DEATH
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b5c2ff38-a66e-4814-80ba-d041584351af
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 10fbef57-71d7-431f-bd57-a05d0f028b88
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: The NHI is a unique 7-character identification number assigned to a healthcare user by the National Health Index (NHI) database.   There is a verification algorithm which ensures that the NHI number is in the correct format and is valid.     Also known as National Health Index, HCU identifier, NHI, HCU, HCU Number, Healthcare User identifier,   HCU identification number, NMPI number, Hospital Number, Patient Number.
        isBusinessKey: true
        name: MOTHER_PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 985f0ba0-97cf-4152-a49b-7e86cb71409e
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2adb3beb-7d94-48f5-ab23-6b6c9a46f094
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: Biological Sex of the patient
        name: MOTHER_PATIENT_GENDER_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e90b8c91-0f3d-484a-bc28-b5373313fb17
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a5e29ac2-37e7-412d-ae04-b7ef65852fb6
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: Ethnicity Group1 Description
        name: MOTHER_ETHNICITY_GROUP1_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 22b5c60e-b500-48a5-90e0-75dd7ee7519e
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0b79a227-2859-4720-b1ee-d94d8a3a0125
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(3)
        defaultValue: ""
        description: Ethnicity Group1 code
        name: MOTHER_ETHNICITY_GROUP1_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4fe3054b-a26a-42c5-8c1f-14ff466d1773
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1b9e5ec6-22ba-4429-bf0b-b54eb9dc2cfb
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: Ethnicity Group2 Description
        name: MOTHER_ETHNICITY_GROUP2_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f068d033-b012-492d-a3d7-a45bf173409a
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f3cc7681-97d9-4be4-82f4-f400b4943a44
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(3)
        defaultValue: ""
        description: Ethnicity Group2 code
        name: MOTHER_ETHNICITY_GROUP2_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6bd5e022-02fe-4198-acb2-48c0d9e132b6
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 14f26a10-f2f7-41ba-9bba-4a15deb8f52e
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: Ethnicity Group3 Description
        name: MOTHER_ETHNICITY_GROUP3_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 62d3de24-4129-4d94-a6b0-6b7c64173b6e
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 78d315a4-27c9-453a-84d2-cd330ba183af
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(3)
        defaultValue: ""
        description: Ethnicity Group3 Code
        name: MOTHER_ETHNICITY_GROUP3_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: afe6f1fa-d2ac-46e2-ae81-420e076c3c39
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 13eb0b44-3949-4669-a9f3-9a47acfdeb1c
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(3)
        defaultValue: ""
        description: Ethnicity_Highest_Priority
        name: MOTHER_ETHNICITY_HIGHEST_PRIORITY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2925f7f9-b1f7-4a95-ac04-cd48a365ecd5
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8287449a-0d3f-4302-ba74-3e3b069d96dc
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: Prioritised Ethnicity Code
        name: MOTHER_PRIORITISED_ETHNICITY_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 212c39a9-dcc7-43bb-a1ab-fa8189ae7f26
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f6fd887d-bac4-4eab-bfed-3793ec8efd6d
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: Prioritised Ethnicity Description
        name: MOTHER_PRIORITISED_ETHNICITY_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c5061051-92c8-42b7-82c0-027023c42776
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7b9448b9-ff7e-4a80-a138-358d713790c2
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: Prioritised_Ethnicity Level0 Description
        name: MOTHER_PRIORITISED_ETHNICITY_LEVEL0_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3d4dff83-e876-453f-a5d1-307a9931e97a
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b8650c47-647c-43f1-9c59-6fbd8ece4c3e
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: Prioritised Ethnicity Level1 Description
        name: MOTHER_PRIORITISED_ETHNICITY_LEVEL1_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 020b979f-0b5b-4a0e-bac7-979edd1f59c5
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 717e67df-67db-4055-82e5-7b9391e786b1
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: Prioritised Ethnicity Alt1 Level1 Description
        name: MOTHER_PRIORITISED_ETHNICITY_ALT1_LEVEL1_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d44555dc-8e6f-4083-acbd-129c7c1035ae
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d2554a68-269d-47c6-868a-2e758d961cad
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: Prioritised Ethnicity Alt2 Level1 Description
        name: MOTHER_PRIORITISED_ETHNICITY_ALT2_LEVEL1_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bee79653-cf9c-4c54-a82c-45532f217400
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4f6a38be-0871-40d2-a5d8-0ba3f668977d
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: ""
        name: MOTHER_DOMICILE_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cddc3796-07e6-4514-b226-f4663d017e6c
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1426482f-b13e-4295-8ba8-0103bf33261a
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: MOTHER_AREA_UNIT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fd0341f4-4654-4973-9431-c6b074ab0bd9
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2203c390-d074-49e0-9d67-917d1b31edf6
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: DHB of Domicile
        name: MOTHER_DHB_AREA
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4b70ca83-5532-43c3-929f-d50ecdc3cf6a
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9f47db23-ccb9-42f4-90bc-9c87c9e7a88a
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: Description of the DHB of Domicile
        name: MOTHER_DHB_DESCRIPTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fbf3f468-8ef4-4198-acda-4a2019618222
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1f25a997-d962-43ac-8cf0-925f5299f443
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Inter District Flow Class
        name: MOTHER_IDF_CLASS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 469885dc-5bcc-4883-9cde-c89b07ac8997
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d4ae10f7-5539-4854-9400-b3474ab2ce5a
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(25)
        defaultValue: ""
        description: Resident flag Y/N/U Yes, No or Unknown
        name: MOTHER_RESIDENT_FLAG
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 52d74c4d-6451-4934-bf1c-ef715949306f
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e4e9dc7e-c79c-44e3-8e65-4013842bc0b3
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: ""
        name: MOTHER_DOMICILE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 13e3f44a-7125-438f-b00f-42c54a307c05
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 524bda50-d573-4276-9bd8-cdf434b9a479
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: MOTHER_SMOKING_STATUS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7959fc16-8bb4-4b41-a6ed-bcf0ed6ac6a9
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 896939ac-ef1b-4a44-b58b-63025c3e0877
          stepCounter: 024a2928-ecd7-4540-96bf-7778d450f618
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 807d2b45-98b5-4f2a-8453-37adc7757a20
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          DIM_PATIENT: d52dd438-7899-4242-9e38-539d2a1447df
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: DIM_PATIENT
        join:
          joinCondition: FROM {{ ref('TGT','DIM_PATIENT') }}
        name: DIM_MOTHER_AS_PATIENT
        noLinkRefs: []
  name: DIM_MOTHER_AS_PATIENT
  overrideSQL: false
  schema: ""
  sqlType: Dimension
  type: sql
  version: 1
type: Node
