fileVersion: 1
id: df4f5709-602f-4379-a7e8-96419c32c63a
name: DIM_NASC_NEEDS_ASSESSMENT
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: "Junk Dimension for NASC Needs Assessment descriptors"
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dd274ca2-a09c-40dd-993a-66d170bd1e2c
          stepCounter: df4f5709-602f-4379-a7e8-96419c32c63a
        config: {}
        dataType: INTEGER IDENTITY(1,1)
        defaultValue: ""
        description: Generated artificial key
        name: DIM_NASC_NEEDS_ASSESSMENT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: af70f1c3-53d3-4a81-a099-20bd7c2659c5
          stepCounter: df4f5709-602f-4379-a7e8-96419c32c63a
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: CSC_CARD_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8fa18f47-0bd2-454b-9910-38d736a4347e
                stepCounter: f584a610-5628-456a-a45f-eac66678a76e
            transform: DISTINCT IFNULL(s_needs_assessment_NASC_10.CSC_card_flag,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 837d138c-ee6f-4149-885a-88abc9138a0d
          stepCounter: df4f5709-602f-4379-a7e8-96419c32c63a
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: LIVING_SITUATION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 32c8da2a-1a84-46f9-82bf-6067bd6bfad4
                stepCounter: f584a610-5628-456a-a45f-eac66678a76e
            transform: IFNULL(s_needs_assessment_NASC_10.living_situation,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9700f5ba-7639-4c9d-9118-2abd4013f3b2
          stepCounter: df4f5709-602f-4379-a7e8-96419c32c63a
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: WHERE_THEY_LIVE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d41db2a0-1164-40d6-95c2-aac38ef50872
                stepCounter: f584a610-5628-456a-a45f-eac66678a76e
            transform: IFNULL(s_needs_assessment_NASC_10.where_they_live,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 689516df-d0b2-4e10-9c40-87fbffae87ad
          stepCounter: df4f5709-602f-4379-a7e8-96419c32c63a
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: SPA_BAND
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: da4f7da4-b076-417d-97a3-efeadbb779c4
                stepCounter: f584a610-5628-456a-a45f-eac66678a76e
            transform: IFNULL(s_needs_assessment_NASC_10.SPA_band,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ec66a8ae-989c-4283-bd23-2130b46d31fe
          stepCounter: df4f5709-602f-4379-a7e8-96419c32c63a
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: ASSESSMENT_LOCATION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7690f420-0667-424b-aa24-c354462689dd
                stepCounter: f584a610-5628-456a-a45f-eac66678a76e
            transform: IFNULL(s_needs_assessment_NASC_10.assessment_location,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 92a55a12-6f9b-48bf-9a8f-3093e1b16b29
          stepCounter: df4f5709-602f-4379-a7e8-96419c32c63a
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: OUTCOME_ACTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0d624fd8-8a52-4e06-9aef-cf353f89c830
                stepCounter: f584a610-5628-456a-a45f-eac66678a76e
            transform: IFNULL(s_needs_assessment_NASC_10.outcome_action,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1bcbb520-ce5a-422f-b3f0-aab8e5bc008a
          stepCounter: df4f5709-602f-4379-a7e8-96419c32c63a
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: EXIT_REASON
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 00197cf2-ec84-43e4-b38c-be913df6842a
                stepCounter: f584a610-5628-456a-a45f-eac66678a76e
            transform: IFNULL(s_needs_assessment_NASC_10.exit_reason,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5149a95d-c17b-45bf-be42-219caa1fa0c4
          stepCounter: df4f5709-602f-4379-a7e8-96419c32c63a
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: ASSESSMENT_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9a6197b1-e926-47ce-9518-ce6b04bf8316
                stepCounter: f584a610-5628-456a-a45f-eac66678a76e
            transform: IFNULL(s_needs_assessment_NASC_10.assessment_type,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 401cc461-895b-49e5-ab95-ed12318790ad
          stepCounter: df4f5709-602f-4379-a7e8-96419c32c63a
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: TRANSFER_NASC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3f5a5406-3316-426c-bd08-adc076d23f50
                stepCounter: f584a610-5628-456a-a45f-eac66678a76e
            transform: IFNULL(s_needs_assessment_NASC_10.transfer_NASC,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 58395268-f79d-4ee3-9723-bdada8e921f5
          stepCounter: df4f5709-602f-4379-a7e8-96419c32c63a
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: TRANSFER_DHB
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 42e01970-f0c7-4ef0-9a3a-b1654f4511b4
                stepCounter: f584a610-5628-456a-a45f-eac66678a76e
            transform: IFNULL(s_needs_assessment_NASC_10.transfer_DHB,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e42ddd2a-d54f-47be-999d-d338db1e7567
          stepCounter: df4f5709-602f-4379-a7e8-96419c32c63a
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: TRANSFER_REASON
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8c03c554-7636-4dfc-a15c-d904cccb0331
                stepCounter: f584a610-5628-456a-a45f-eac66678a76e
            transform: IFNULL(s_needs_assessment_NASC_10.transfer_reason,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 88145e69-0bc9-4404-badd-a10fec70fd7a
          stepCounter: df4f5709-602f-4379-a7e8-96419c32c63a
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: TRANSFER_OUT_RESIDENTIAL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a99019b1-6ed8-4c7a-8d44-35ebfe4ebe1f
                stepCounter: f584a610-5628-456a-a45f-eac66678a76e
            transform: IFNULL(s_needs_assessment_NASC_10.transfer_out_residential,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1d57a782-4622-4a1f-8eaa-0308ef452c85
          stepCounter: df4f5709-602f-4379-a7e8-96419c32c63a
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: TRANSFER_OUT_DHB
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fd25267b-712f-4017-9f6b-e2c236c23556
                stepCounter: f584a610-5628-456a-a45f-eac66678a76e
            transform: IFNULL(s_needs_assessment_NASC_10.transfer_out_DHB,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1ace40fd-4557-4eda-9e6c-82c5fc220118
          stepCounter: df4f5709-602f-4379-a7e8-96419c32c63a
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: PATIENT_PROGRAMME_STATUS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 865d01c5-a819-44e5-adae-016332b0c111
                stepCounter: f584a610-5628-456a-a45f-eac66678a76e
            transform: IFNULL(s_needs_assessment_NASC_10.programme_status,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5837f2a1-76f9-43d0-a32f-8e56612ea4e3
          stepCounter: df4f5709-602f-4379-a7e8-96419c32c63a
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: OBSERVATION_REPORT_STATUS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 81500a58-4e65-41c2-8b58-d32853606a48
                stepCounter: f584a610-5628-456a-a45f-eac66678a76e
            transform: IFNULL(s_needs_assessment_NASC_10.observation_report_status,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 84474337-e70b-442a-b5b3-92474d186f5b
          stepCounter: df4f5709-602f-4379-a7e8-96419c32c63a
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies: []
        join:
          joinCondition: FROM [s_needs_assessment_NASC_10] s_needs_assessment_NASC_10
        name: DIM_NASC_NEEDS_ASSESSMENT
        noLinkRefs: []
  name: DIM_NASC_NEEDS_ASSESSMENT
  overrideSQL: false
  schema: ""
  sqlType: Dimension
  type: sql
  version: 1
type: Node
