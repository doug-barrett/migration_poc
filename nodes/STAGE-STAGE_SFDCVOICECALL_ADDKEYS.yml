fileVersion: 1
id: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
name: STAGE_SFDCVOICECALL_ADDKEYS
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: STAGE
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 81c98171-9ec5-4b4f-b02c-cbb3da0971c7
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: VOICECALLSALESFORCEID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a50e6c55-7604-46d9-806d-228a26ef660d
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5b977ed4-fd0f-4463-8e83-1d01910a93b6
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CALLDISPOSITION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dbb7875c-9223-4109-98bf-a4dfbc8d0a4d
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: INITCAP(LOADSFDCVOICECALL.CALLDISPOSITION)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5835379a-8cf4-474e-88ea-0a3d6a5b8345
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: NUMBER
        defaultValue: ""
        description: ""
        name: CALLDURATIONINSECONDS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6f90318c-4f9e-4e12-bc0f-cf1453f578e7
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cc6fb879-ab69-4b24-92c6-59cfc5ed818d
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        name: CALLENDDATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f0313697-f219-400c-a702-a8b4fb80fef4
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a8d69db7-fbc6-417f-9110-207491fe9b3e
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CALLERIDTYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7cd0aa0d-2bb8-462f-b654-ef42adf47131
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 66de76cc-4c37-4a31-ad07-eac48b3cdc57
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        name: CALLSTARTDATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a3bd28aa-0b98-4fec-9a13-1c0ed95922c6
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b5546dc7-c1b0-4d33-9722-fe1ad024c4fd
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CALLTYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 14d86ab8-577b-4294-b346-e0324c07f003
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 234bba2d-c819-4a58-9c9d-c190ce87620b
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e36d9c38-b61c-4f16-b7d5-e22b9d1f4d7f
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fdc5387f-2b7e-4e31-b136-b9a6d556c9c5
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        name: CREATEDDATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a417a497-eadd-4dfe-8b1c-4b67ff356aeb
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8e5896ab-4cf0-420c-a0a0-763f2340e661
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: FROMPHONENUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bd58342b-29f0-40a7-924f-1c0f2f8e53a8
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4e8fa159-7f28-449f-b781-977014c41d37
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: BOOLEAN
        defaultValue: ""
        description: ""
        name: ISDELETED
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 36a779ed-5793-4766-832d-bf006db49cb1
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 770bea6d-bdad-43d4-8cfc-1d878bf7504b
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: BOOLEAN
        defaultValue: ""
        description: ""
        name: ISRECORDED
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 086e5ff1-b4cd-4859-8f25-8cb7183cad14
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 24bd8a61-534d-4002-bec2-b527baa3adf3
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        name: LASTMODIFIEDDATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 54516380-f612-49e4-999e-c14243d8ef3c
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dbd49c4d-c770-4a67-b650-6398b721ae94
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: TOPHONENUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 535747e9-7206-4304-bbda-5455b0a6b833
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 35121e3d-a612-4db8-94be-2188b86a77f9
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: VENDORTYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 46b401c5-68bc-41d0-8b31-165cf59aee73
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 61d424af-462c-4f7f-847a-56ea03ed87c4
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: RELATED_SALESFORCEID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 811f2dec-84d8-45fe-b7ca-e33e05e3f543
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cb7f9ab1-a05e-49c8-b7a1-97b687916f58
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: RELATED_RECORDTYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 98276168-6210-4599-9015-fec55cf3cc60
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: aa0e9c76-57a8-4606-bde2-83eb59cd72a8
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: RELATED_CONTACT_SALESFORCEID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a1baa375-ecbb-44a2-93dc-c6559a11e4e7
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1c558bd6-d607-4152-b1fe-94664ff585a7
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: RELATED_ACCOUNT_SALESFORCEID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 42d21cf7-1baa-4db9-9f48-180a706cc8d7
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e501dc8d-6529-46eb-9bf8-9dd0067f1856
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: RELATED_LEAD_SALESFORCEID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: da3816b7-620a-4660-9f36-42bdfb9cbb9b
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d3b671b2-0504-4eb8-a934-51fdc27089c3
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: TASK_SALESFORCEID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1710bac3-c8b3-4a35-80ef-11214abed53d
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f12b5b58-7958-4e74-b78f-193638a7a65a
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CALLOUTCOME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 233223bb-ec85-411a-a23d-5a1cb1f60674
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cee87ce3-e96c-4961-a6a6-324ebd9a12f9
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: STAGESFDCVOICECALL_ADDKEYS.RELATED_CONTACT_SALESFORCEID=CONTACT.CONTACTSALESFORCEID
        name: DIMCONTACTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 83cf9f2b-90d3-43c6-a6b1-c06956fa7f02
                stepCounter: 35f8d78b-6e7b-4fb6-a9b9-11bebbacf1ea
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b57cbc5a-5e12-439b-bc68-82177312691a
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: GENERATED ARTIFICIAL KEY
        name: ACCOUNTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9809deca-da5b-4fe0-a80a-ab6cafa8782e
                stepCounter: 745ecacb-59f4-457a-9a6f-e827d225494e
            transform: COALESCE(ACCOUNT.ACCOUNTKEY,0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c7bcecc2-37d0-4e7a-9938-f19a02477f08
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: STAGESFDCVOICECALL_ADDKEYS.RELATED_LEAD_SALESFORCEID=LEAD.LEAD_SALESFORCEID
        name: LEADKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ebd29bfd-da3b-46a8-a981-c3cea6e0dc03
                stepCounter: b745e0ca-bef7-43e0-b47b-e82d46070651
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6b730cf9-96c2-4b51-88fe-438cb2ffd72f
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: VARCHAR(64)
        defaultValue: ""
        description: RECORD SOURCE.
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 67566659-de12-4b64-8997-e0d6a81cf979
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f798bec2-58b7-4835-9ce3-74d12edfd662
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: LOAD DATE.
        name: DSS_LOAD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 771d457d-cef5-411e-9cd2-801321d75fbb
                stepCounter: 00395636-3597-41ab-a034-3f8f51115a87
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1811d9ef-001a-488e-83ff-3c5a3917c96b
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: DATE AND TIME THE ROW WAS CREATED IN THE DATA WAREHOUSE.
        name: DSSCREATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a44b5b60-c6f6-47a6-9fc2-e1c99b31fd0c
          stepCounter: da817fc2-fa9f-48b9-aca6-8789d7d1ff9e
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: DATE AND TIME THE ROW WAS UPDATED IN THE DATA WAREHOUSE.
        name: DSSUPDATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          ACCOUNT: 745ecacb-59f4-457a-9a6f-e827d225494e
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DIM
            nodeName: ACCOUNT
          - locationName: DIM
            nodeName: CONTACT
          - locationName: DIM
            nodeName: LEAD
          - locationName: LOAD
            nodeName: LOAD_SFDCVOICECALL
          - locationName: UNKNOWN
            nodeName: LOADSFDCVOICECALL
        join:
          joinCondition: |-
            FROM {{ ref('UNKNOWN','LOADSFDCVOICECALL') }} LOADSFDCVOICECALL
              LEFT JOIN {{ ref('DIM','ACCOUNT') }} ACCOUNT
                ON LOADSFDCVOICECALL.RELATED_ACCOUNT_SALESFORCEID = ACCOUNT.SALESFORCEID
        name: STAGESFDCVOICECALL_ADDKEYS
        noLinkRefs: []
  name: STAGE_SFDCVOICECALL_ADDKEYS
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
