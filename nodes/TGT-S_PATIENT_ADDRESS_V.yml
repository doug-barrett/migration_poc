fileVersion: 1
id: 2da7aae8-175b-4a39-a6f9-6845a7d85844
name: S_PATIENT_ADDRESS_V
operation:
  config:
    insertStrategy: UNION
    selectDistinct: false
  customOverride: false
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: view
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5b969ca7-e4b7-415b-b8f0-2dd76ff33e27
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: PATIENT_REFERENCE_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e3168b25-cb30-4c83-a789-50232c7bbc01
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 38fdae9e-7d9e-4143-b2f2-296772b7e574
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: ADDRESS_REFERENCE_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 06b3f0e1-03aa-4e62-b298-599c37aeaa4b
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9dee2a89-f1a3-4de3-a62c-6b6a22fef1af
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bb16ef77-db88-4448-90ce-68d8f174301a
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d7bee11f-16bb-4e8b-af86-f937c77caa27
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(25)
        defaultValue: ""
        description: ""
        name: ADDRESS_ROLE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 18cf83d3-716e-44ae-a901-d09aa44fd674
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b541a56c-f807-4d1a-b750-09c429c79ddb
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(5)
        defaultValue: ""
        description: ""
        name: ADDRESS_TYPE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bc5c19d6-40ac-4657-b87f-97b63495b556
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 639f706b-d573-4e8e-9ec7-2d59a3d99da9
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: ADDRESS_LINE1
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 465f5e24-9c8b-4f23-8990-274bb1abc81d
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 09bfbeeb-4bbf-4d27-892d-ee815f5295cb
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: ADDRESS_LINE2
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b5630c13-698a-40cc-9d61-d435d8b65431
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bb084ac6-4704-4a86-9aba-dc7d33eec533
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: ADDRESS_LINE3
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f33342a7-29d4-42db-bd84-6d730ed276c1
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 854894ba-2b10-473b-8c9f-ba400b00eef5
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: ADDRESS_LINE4
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dd78a8a9-40e7-4876-8216-bc7dacf27ffe
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f67ceabd-5b88-48a1-9cf7-b7d698093c8e
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(40)
        defaultValue: ""
        description: ""
        name: SUBURB
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 71e3e7c4-5700-4257-bebb-8fb0056ba749
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4ab0011c-3397-44b0-b53f-0234eb470dcf
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(5)
        defaultValue: ""
        description: ""
        name: STATE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8c550e71-958d-4944-9444-532809d2ea98
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f2e63f54-b23a-4a13-b2df-b2f472f31020
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: ""
        name: POSTAL_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f21a6ccb-109c-42db-83a5-cb29c3388f3e
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 87b74da4-b924-4404-83e8-47c775e03749
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: ""
        name: HEALTH_DISTRICT_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: aaf20f7f-ab20-4840-a12e-067947f91786
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 693cc621-9c73-46f5-b5ea-ffc5c4d1ebdb
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(25)
        defaultValue: ""
        description: ""
        name: COUNTRY_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 88ca8772-42bb-48fc-8b32-06d7d0ee3448
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f301a48c-c0b9-4624-b5bb-0cc802268835
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: ""
        name: COUNTRY_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1ae6eed6-d3fa-4c1c-93a9-ab6005f24797
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c4c3c4e6-8705-4049-8ec3-b3211d046f01
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: ""
        name: PLACE_OF_BIRTH
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 063d55f0-c4d9-49ac-b240-41d46837d765
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9067a29a-b46f-45bf-a8e2-7b729d096b90
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: ""
        name: DOMICILE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bc546f83-e620-4c91-8f01-894316dcd366
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: df01f356-efac-46c4-a017-6fcfc717179c
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: ""
        name: DOMICILE_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c0ed5061-c71b-448e-bb59-4facac42ed41
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 85e6b964-0635-4958-9a6f-287b21fc00b4
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: AREA_UNIT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7a65e9ca-1c78-49d3-938d-02c86f1ac1b6
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e1d30657-1709-4981-806c-83719c3b3d96
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: DHB_AREA
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e4091d7b-5e99-4d51-8dac-d4048c1d5426
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 28609a20-0fb7-430d-ad08-30eb71d2ee15
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: DHB_DESCRIPTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fe975f65-f1b1-4b72-b5df-e34a1915e6b6
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6592bbb3-e5ed-4d24-bca2-816dd00d8c05
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: IDF_CLASS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f31af318-cba7-47f7-95df-e0ad79d4cefd
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 30653bfd-e37f-438c-8531-a15c785da45a
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: REGION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b3f06ced-0d3e-4a62-b258-bb91eb4d18a7
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 354b7332-e8af-4a19-b418-8b18e4a40575
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: NORTHERN_REGION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f8a26ce2-caf8-4df5-b55a-d3cb71f3cd78
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8a2b7a34-7548-4d1f-96a8-f97067c03fef
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: ADDRESS_VALIDITY_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9e06655e-595b-4f95-8da8-3d1d342563e2
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5ce08baa-98e3-4748-8221-667bf0a61bf0
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: ADDRESS_VALIDITY_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0891a387-0240-4fd5-810c-8c4558c73e4e
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0c8becbe-cfa3-484b-9600-240495e96a91
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: 'row number identifying superseded addresses for a patient '
        name: ADDRESS_ROW_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 60e48ad0-2165-48a0-8bb3-a1cd7889009b
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 751a96bd-279a-4af4-af31-27b71d94d5c8
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: 'row number identifying duplicated addresses (multiple address-roles) for a patient '
        name: ADDRESS_DUP_ROW_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 46dcc911-4d5c-489e-82d3-4227af28c7fa
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 54ec4727-c46e-4bb5-9079-5701c5aff4e9
          stepCounter: 2da7aae8-175b-4a39-a6f9-6845a7d85844
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 62708bbd-fb96-457c-95ca-587456639347
                stepCounter: 54d16b29-357f-44cb-add6-3fc9e48f1900
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          S_PATIENT_ADDRESS: 54d16b29-357f-44cb-add6-3fc9e48f1900
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_PATIENT_ADDRESS
        join:
          joinCondition: |-
            FROM {{ ref('TGT','S_PATIENT_ADDRESS') }}
             WHERE address_type_code = 'POSTL'
               AND address_role_code = 'HOME'
        name: S_PATIENT_ADDRESS_V
        noLinkRefs: []
  name: S_PATIENT_ADDRESS_V
  overrideSQL: false
  schema: ""
  sqlType: View
  type: sql
  version: 1
type: Node
