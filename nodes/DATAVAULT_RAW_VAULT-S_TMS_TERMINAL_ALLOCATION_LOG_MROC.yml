fileVersion: 1
id: feba6e7b-a930-467f-9825-95803431c2bb
name: S_TMS_TERMINAL_ALLOCATION_LOG_MROC
operation:
  config:
    disable_hwm: false
    distinct: true
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: DATAVAULT_RAW_VAULT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a25f312f-3fe0-452b-86a6-237adffe44bb
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config:
          is_hk: true
        dataType: BINARY(16)
        defaultValue: ""
        description: ""
        name: HK_H_TMS_TERMINAL_ALLOCATION
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 789081a4-ee87-4b9d-8250-237754e55fff
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 11ab311a-11ae-449c-acb9-19f103800aea
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: Locale identifier
        isBusinessKey: true
        name: LOCALE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d847b6d2-13bc-45a8-afeb-58f4cfbb93d9
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f8b1d72e-3ce7-470f-a218-04b56b0349ae
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: VARCHAR(9)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: MERCHANT_NUMBER_ACI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f28263ac-3077-40fe-9480-737e70c955ea
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c10d8afb-89b2-46ac-acc6-eea31ee44754
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: TIMESTAMP(9)
        defaultValue: ""
        description: ""
        name: FILE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 721bca52-cb18-4545-a7ab-6de154df8a4b
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 84ad3997-7dce-444e-8cf7-967be7ebe79a
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: VARCHAR(19)
        defaultValue: ""
        description: ""
        name: DEVICE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 99aacb3a-70f0-44f7-94fe-7728968e3afb
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a7de5359-4c7d-4239-bd9c-6275fa47887b
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Merchant number associated with the Locale
        name: MERCHANT_NUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dfeed83b-d69e-4fb9-8495-36063911f399
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bc70146a-3ee5-45c5-8ce7-99f9569c2b49
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: ACTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f3028c04-7e57-457b-8779-43342754bb12
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 61685951-e22a-4632-a4db-8791af7902ef
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: ""
        name: USER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fc290da4-eaff-4ad8-8bce-d556bcef2f8b
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a48e64f7-0acd-47a4-85b1-e0f6c0bf1b2d
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: |-
          Indicates the interface that performed the action:

          - 1: Terminal

          - 2: TMS Interface

          - 3: Merchant Direct

          - 4: Gift & Loyalty

          - 5: OMS-Boarding Interface

          - 6: Scheduler Interface

          - 7: GO Portal Interface

          - 8: MFS Interface

          - 9: Boarding Migration
        name: RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3414c258-152a-40fa-ad1d-9ee156bc4ff5
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ae7f3c3b-ab1c-4bab-a6e1-bf88b0ea64f9
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: TIMESTAMP_NTZ(3)
        defaultValue: ""
        description: ""
        name: CREATION_TS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2e8a9d87-8e69-47f5-9acb-b844d0a9f397
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0ecd9368-94a4-4582-b807-b2cd2a1c8225
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: NUMBER(38,0)
        defaultValue: ""
        description: ""
        name: DEVICE_SLOT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8e0eaad1-61af-42db-97a3-1e7bc67e9aa6
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f985a848-9454-4815-8a44-b159d2d64843
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: CREATED_BY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c34d8f37-439b-4d08-b458-d697e7442ba5
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8d8c6412-6aae-40b3-8374-f117c234a265
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: TIMESTAMP_NTZ(3)
        defaultValue: ""
        description: ""
        name: CREATED_AT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b7efabf6-82e6-45b6-a461-350a183ab7df
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: db8a815d-6575-4e67-8ec8-d7f039a9abe3
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: UPDATED_BY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0f2431c8-b1f7-4f7c-88cb-daf73e47ee52
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6ebabe1f-6c31-4238-8c36-a33ab6f669ff
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: TIMESTAMP_NTZ(3)
        defaultValue: ""
        description: ""
        name: UPDATED_AT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ef7a0319-3d5c-4e89-8883-4f2f47312ff9
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6bfac010-f1f8-4a8c-942f-13c74c9f6a2f
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: VARCHAR(500)
        defaultValue: ""
        description: ""
        name: RUN_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8f4872b2-6c9f-448a-b10c-784c849f1760
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b000fc61-c70a-47b6-b0b1-232e9d2e917a
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config:
          is_hd: true
        dataType: BINARY(16)
        defaultValue: ""
        description: The changing hash
        name: DSS_CHANGE_HASH
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8ec86362-520e-40fc-afa6-3a46a2163806
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 583bb1c7-23c5-4b23-b4d4-c8af6e40ef19
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: Record source
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2ebb6087-1422-4c41-a0bb-835eea7a6a88
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ede1ecce-402c-450a-8b4d-37dc297d3418
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was loaded in the data vault
        name: DSS_LOAD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 419ef526-5b10-47ad-b652-8530603d2947
                stepCounter: e011d24d-890c-47a9-a360-a96f33198956
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 90100557-6e5b-41ac-b39b-cccaa607f671
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row started in the data vault
        isSystemStartDate: true
        name: DSS_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0bbd32e8-f916-4c09-b861-cc5a37e8564e
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: NUMBER(38)
        defaultValue: ""
        description: Version number of a business key in the data vault
        isSurrogateKey: true
        isSystemVersion: true
        name: DSS_VERSION
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ed988546-dd18-461b-901b-7ed6accf7ebb
          stepCounter: feba6e7b-a930-467f-9825-95803431c2bb
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was inserted in the data vault
        isSystemCreateDate: true
        name: DSS_CREATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          STAGE_TMS_TERMINAL_ALLOCATION_SNOWFLAKE_RAW_1: e011d24d-890c-47a9-a360-a96f33198956
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DATAVAULT_STAGING
            nodeName: STAGE_TMS_TERMINAL_ALLOCATION_SNOWFLAKE_RAW_1
        join:
          joinCondition: FROM {{ ref('DATAVAULT_STAGING','STAGE_TMS_TERMINAL_ALLOCATION_SNOWFLAKE_RAW_1') }} stage_tms_terminal_allocation_snowflake_raw_1
        name: S_TMS_TERMINAL_ALLOCATION_LOG_MROC
        noLinkRefs: []
  name: S_TMS_TERMINAL_ALLOCATION_LOG_MROC
  overrideSQL: false
  schema: ""
  sqlType: Data-Vault:::8
  type: sql
  version: 1
type: Node
