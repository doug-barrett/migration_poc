fileVersion: 1
id: 293df9b1-0107-4be4-998f-914103045348
name: S_EVENTS_DEPENDANT_RESOURCES_10
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 765b4f7f-8604-41a8-8fce-69c5a5f0c521
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: DECIMAL(10)
        defaultValue: ""
        description: ""
        name: EVENT_DEPENDENT_RESOURCE_REFERENCE_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 186ce5e9-6401-4ecb-bce9-732c4706df52
                stepCounter: a0bb63d1-fac2-4cd5-bb5d-f780a7dbab61
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c552b64e-ce06-49fc-97cf-9e3121db2452
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: DECIMAL(10)
        defaultValue: ""
        description: ""
        name: SOURCE_ENCOUNTER_REFERENCE_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b1067620-c913-46e6-a9b2-1180bb85080b
                stepCounter: a0bb63d1-fac2-4cd5-bb5d-f780a7dbab61
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2c541608-7d98-4f8e-96e0-ce7a032dd028
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: SOURCE_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b1067620-c913-46e6-a9b2-1180bb85080b
                stepCounter: a0bb63d1-fac2-4cd5-bb5d-f780a7dbab61
            transform: |-
              CASE WHEN s_pims_dependant_resources_05.source_encounter_type_code = 'SCHDL' THEN 'T' + cast(s_pims_dependant_resources_05.source_encounter_reference_no AS varchar)
                          WHEN s_pims_dependant_resources_05.source_encounter_type_code = 'WLIST' THEN 'W'+ cast(s_pims_dependant_resources_05.source_encounter_reference_no AS varchar)
                          ELSE NULL
                           END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5e640856-87ae-4190-9542-e8b62020ff26
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: VARCHAR(5)
        defaultValue: ""
        description: ""
        name: SOURCE_ENCOUNTER_TYPE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1f6a7fc8-3271-4f7c-b57f-efb6ac8df7bb
                stepCounter: a0bb63d1-fac2-4cd5-bb5d-f780a7dbab61
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 988ca819-0d24-4c92-9d8e-68477d481cf0
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: EVENT_DEPENDANT_RESOURCES_CREATE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6f7ce58c-03d5-4dc8-9cac-17cce5c097eb
                stepCounter: a0bb63d1-fac2-4cd5-bb5d-f780a7dbab61
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7f1fd699-c562-4763-8bc7-7f85f0f0eb79
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: EVENT_DEPENDANT_RESOURCES_MODIFIED_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8f420138-7cc6-41d1-b148-54115321730c
                stepCounter: a0bb63d1-fac2-4cd5-bb5d-f780a7dbab61
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 75d685d6-4dec-4765-a23d-61e6a373d321
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: ""
        name: EVENT_DEPENDANT_RESOURCES_ARCHIVED_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: af1c9f7b-6e84-45a6-93cf-80cffd4fc046
                stepCounter: a0bb63d1-fac2-4cd5-bb5d-f780a7dbab61
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7bc6c546-01ed-46a8-8de6-56a75229658e
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: DECIMAL(10)
        defaultValue: ""
        description: ""
        name: EVENT_DEPENDANT_RESOURCES_PRIOR_POINTER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4c9eb4b9-a211-4eb8-834c-f230a46d99bf
                stepCounter: a0bb63d1-fac2-4cd5-bb5d-f780a7dbab61
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1a1c8d71-7e1b-461b-b243-416b1dbab639
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: ""
        name: EVENT_DEPENDANT_RESOURCES_ENFORCE_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8788f9f6-0115-40a5-8d87-809c62625acc
                stepCounter: a0bb63d1-fac2-4cd5-bb5d-f780a7dbab61
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b6437571-bf94-4d02-a61f-4f575128e75f
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: VARCHAR(5)
        defaultValue: ""
        description: ""
        name: EVENT_DEPENDANT_RESOURCES_OPERATOR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5ae1958e-0c24-4b67-be07-935a781a71d4
                stepCounter: a0bb63d1-fac2-4cd5-bb5d-f780a7dbab61
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f37944fa-be83-43a2-8cfd-0821da91b162
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: EVENT_DEPENDANT_RESOURCES_EXTERNAL_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e2ff2e0a-b26e-49a9-8005-c718b701a890
                stepCounter: a0bb63d1-fac2-4cd5-bb5d-f780a7dbab61
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2c9ecd6c-9e0e-412c-b599-c0effef0169c
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: ""
        name: EVENT_DEPENDANT_RESOURCES_CREATE_USER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: eb392bd0-344a-4078-a977-34620950fcf1
                stepCounter: a0bb63d1-fac2-4cd5-bb5d-f780a7dbab61
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e38c0167-abdc-4be6-838b-71b4c1793061
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: DECIMAL(10)
        defaultValue: ""
        description: ""
        name: OWNER_HEALTH_ORGANISATION_REFERENCE_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b4a57bd2-a71d-497c-8125-6e0f09a08ea8
                stepCounter: a0bb63d1-fac2-4cd5-bb5d-f780a7dbab61
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ffa78bec-0b44-4b78-869e-0872749fe782
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: ""
        name: EVENT_DEPENDANT_RESOURCES_LAST_MODIFIED_USER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7a9fa55e-9a7a-4ace-a024-8694ac577595
                stepCounter: a0bb63d1-fac2-4cd5-bb5d-f780a7dbab61
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4f54e4b5-7e60-4378-bbbd-c51c2803e8b7
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_events_dependant_resources_10.event_dependant_resources_create_user=dim_create_user_login.create_user_login_code
        name: DIM_CREATE_USER_LOGIN_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2dfe5e14-cc2f-4748-8352-a6d1621289af
                stepCounter: 70bd6ed5-e21b-440f-9079-7fe305bc4f30
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e682284c-ca31-4ced-bac9-a745a1af7bc3
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: DECIMAL(10)
        defaultValue: ""
        description: ""
        name: DEPENDENT_RESOURCE_REFERENCE_VALUE_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 82f9860c-ed12-40ac-9d6d-319d3ea863d1
                stepCounter: a0bb63d1-fac2-4cd5-bb5d-f780a7dbab61
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 75e77efc-6953-4f5c-82db-6af42402cd4b
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_events_dependant_resources_10.event_dependant_resources_last_modified_user=dim_modify_user_login.modify_user_login_code
        name: DIM_MODIFY_USER_LOGIN_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ceaa34a6-dd0b-40fb-bc61-9df93cc05e7b
                stepCounter: bef0768d-dddb-4d02-af8d-03160de42b62
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b71d5c62-3bd3-4fd7-939a-c846afe17cd6
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_events_dependant_resources_10.dependent_resource_reference_value_no=dim_dependent_resource.dependent_resource_reference_value_no
        name: DIM_DEPENDENT_RESOURCE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6fef2c2f-3b83-4fcf-b317-4dff7b3fa59a
                stepCounter: 21b97931-bafc-48e8-9f76-db53b8cb9430
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 69d6c7fc-9336-458b-b423-e649a53ecc14
          stepCounter: 293df9b1-0107-4be4-998f-914103045348
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          S_PIMS_DEPENDANT_RESOURCES_05: a0bb63d1-fac2-4cd5-bb5d-f780a7dbab61
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_PIMS_DEPENDANT_RESOURCES_05
        join:
          joinCondition: FROM {{ ref('TGT','S_PIMS_DEPENDANT_RESOURCES_05') }}
        name: S_EVENTS_DEPENDANT_RESOURCES_10
        noLinkRefs: []
  name: S_EVENTS_DEPENDANT_RESOURCES_10
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
