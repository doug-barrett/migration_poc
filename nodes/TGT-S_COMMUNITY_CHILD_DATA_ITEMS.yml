fileVersion: 1
id: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
name: S_COMMUNITY_CHILD_DATA_ITEMS
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e1c7c0c4-de77-4df9-9b35-fa912ccf77f8
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: CHILD_ATOMIC_OBSERVATION_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: baa3b3d6-e543-4dc3-b84a-55a246480691
                stepCounter: 0cc768e4-b69e-4baa-9432-679eecbdb350
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7b4e07da-c301-4b53-9975-66b84a46f008
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: ATOMIC_OBSERVATION_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 856db204-3ed9-4a82-bcf4-adfe39a089d6
                stepCounter: 0cc768e4-b69e-4baa-9432-679eecbdb350
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 135c9811-2a79-4eeb-8e7d-27bca2e6a4e2
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: ROW_INDEX
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 430a4b79-a120-402d-bfd2-a7bb0768a67f
                stepCounter: 0cc768e4-b69e-4baa-9432-679eecbdb350
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f1b2e00a-3a9d-43f5-b8d5-950706a5d9ff
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: ""
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0984ce49-be87-444f-803d-6847a44a9749
                stepCounter: 0cc768e4-b69e-4baa-9432-679eecbdb350
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: be9bdca5-93b6-49d8-9e18-92e462927e60
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: ""
        name: REFERRAL_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7e8e8313-28d5-4d5c-ba84-4b1d522447ad
                stepCounter: 0cc768e4-b69e-4baa-9432-679eecbdb350
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 64e10452-ba4d-4af8-b281-6de74c9b5675
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        name: DATE_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a7eeb8a3-c63b-4fa5-bccf-052bd2ab26c5
                stepCounter: 0cc768e4-b69e-4baa-9432-679eecbdb350
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 05ad94bc-2b44-4981-a09a-04a1960438ad
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: ""
        name: TEXT_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6200be83-f3a8-41f1-b2c4-f735dbfaeb0d
                stepCounter: 0cc768e4-b69e-4baa-9432-679eecbdb350
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 211d9dff-5b3e-4a32-bd25-596209d4ce78
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        name: DATE_COMPLETED
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d49dc6e5-1914-40d1-a3b8-df68f7bc0269
                stepCounter: 0cc768e4-b69e-4baa-9432-679eecbdb350
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ee56de25-a1c2-4206-84df-437cf5fdcb70
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: NUMERIC(18)
        defaultValue: ""
        description: ""
        name: FORM_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 32a5b574-7d02-4da9-ad7b-268c810cf8d0
                stepCounter: 0cc768e4-b69e-4baa-9432-679eecbdb350
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 817a816e-1a47-4bf3-9d7c-6848c0ec3e51
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: NUMERIC(18)
        defaultValue: ""
        description: ""
        name: DATATYPE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f0214930-42be-4520-8133-3c27ff00b311
                stepCounter: 0cc768e4-b69e-4baa-9432-679eecbdb350
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 69fe73fc-1438-4689-9ad0-e7bda4d28f95
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: OBSERVATION_REPORT_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0ce59986-b7ea-4e55-900c-3b57caf61764
                stepCounter: 0cc768e4-b69e-4baa-9432-679eecbdb350
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0f912426-6e7f-464b-967e-451a55359d95
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: VARCHAR(1)
        defaultValue: ""
        description: ""
        name: OBSERVATION_REPORT_STATUS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3a646cec-a131-4afd-b21f-0425056d0703
                stepCounter: 0cc768e4-b69e-4baa-9432-679eecbdb350
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4822ebb2-3895-4221-8d9c-00c82c201de4
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: NUMERIC(18)
        defaultValue: ""
        description: ""
        name: TASKTYPE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3936c39b-1fab-452d-a417-9516d619d786
                stepCounter: 0cc768e4-b69e-4baa-9432-679eecbdb350
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3b02c272-1ca9-4011-ac5c-4cd69948e123
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: NUMERIC(18)
        defaultValue: ""
        description: ""
        name: PROGRAMME_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c9f2ae0f-1135-421f-94f0-609bf2a99a4d
                stepCounter: 0cc768e4-b69e-4baa-9432-679eecbdb350
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: efa88cb8-8ece-499b-981b-9988a4d085dd
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_community_child_data_items.datatype_id=dim_community_data_type.data_type_id  s_community_child_data_items.form_id=dim_community_data_type.form_id
        name: DIM_COMMUNITY_DATA_TYPE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 28ac0fd4-fd85-40ad-842a-d23df47164e4
                stepCounter: a2fe2fc2-b5e5-4c50-9cb1-94b18b805fb1
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 08929212-0f6e-4de5-a79d-93ea97fc01e3
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_community_child_data_items.programme_id=dim_community_programme.programme_id
        name: DIM_COMMUNITY_PROGRAMME_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1447701e-b431-47bc-9f74-ecc4d7d4fa85
                stepCounter: e51d8b6d-72a3-4062-ab25-a52c4b289aa5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5268a910-8694-40b5-954e-f8bbb82ec162
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_community_child_data_items.observation_report_status=dim_community_report_status.observation_report_status
        name: DIM_COMMUNITY_REPORT_STATUS_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 97a01c03-78ba-4c60-baac-e1ebda8e3e51
                stepCounter: fe9db425-e454-40c8-a154-2c67b372c639
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cca8817f-4096-4e4a-8af1-85d7ec5aed5c
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_community_child_data_items.tasktype_id=dim_community_task_type.task_type_id
        name: DIM_COMMUNITY_TASK_TYPE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f0cc6c52-e7bc-48a1-8b99-012274d955e6
                stepCounter: 98a41686-c1f0-4280-96a6-310e21b626e1
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4c5463ff-9c00-4fbe-824c-dcc9ed7d72bb
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        name: DIM_PATIENT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9962a01b-5f3d-4c1a-b371-997edef38d0f
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: IFNULL(dim_patient.dim_patient_key, 0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a1f28974-9ed0-4abc-a219-f1f66372c57d
          stepCounter: b67e4e2c-37a9-4b4a-bdeb-5a80a8107ed2
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          DIM_PATIENT: d52dd438-7899-4242-9e38-539d2a1447df
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_COMMUNITY_CHILD_DATA_ITEMS_10
          - locationName: TGT
            nodeName: DIM_PATIENT
        join:
          joinCondition: |-
            FROM s_community_child_data_items_10
              LEFT OUTER JOIN {{ ref('TGT','DIM_PATIENT') }}
                ON dim_patient.patient_NHI = s_community_child_data_items_10.patient_NHI
               AND dim_patient.NHI_sequence = 1
        name: S_COMMUNITY_CHILD_DATA_ITEMS
        noLinkRefs: []
  name: S_COMMUNITY_CHILD_DATA_ITEMS
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
