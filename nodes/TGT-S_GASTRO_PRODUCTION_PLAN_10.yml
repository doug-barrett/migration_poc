fileVersion: 1
id: 6ff0b464-bfb4-4efa-b278-535179a407b5
name: S_GASTRO_PRODUCTION_PLAN_10
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 94b057fb-9381-4178-b90a-e31873fa1336
          stepCounter: 6ff0b464-bfb4-4efa-b278-535179a407b5
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: ROWID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6499c3e9-4e82-46be-9540-23af53949a4a
                stepCounter: 4bab4744-98be-44f3-a9a6-52e682dc8838
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 82f919ee-20f1-4cf4-bfb5-61e832e12b92
          stepCounter: 6ff0b464-bfb4-4efa-b278-535179a407b5
        config: {}
        dataType: NVARCHAR(255)
        defaultValue: ""
        description: ""
        name: LIST_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 13366f50-de0c-4092-af8e-9c7681ca112d
                stepCounter: 4bab4744-98be-44f3-a9a6-52e682dc8838
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 72c78c66-90e5-4205-91d3-c8c0ba40b9a1
          stepCounter: 6ff0b464-bfb4-4efa-b278-535179a407b5
        config: {}
        dataType: VARCHAR(5)
        defaultValue: ""
        description: facility split betwen North Shore , Waitakere and Other
        name: FACILITY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e39f6725-f479-4618-98b2-2d3af7da0721
                stepCounter: 4bab4744-98be-44f3-a9a6-52e682dc8838
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ee395d7f-94c7-41c2-b3c2-f74be3c42e75
          stepCounter: 6ff0b464-bfb4-4efa-b278-535179a407b5
        config: {}
        dataType: NVARCHAR(255)
        defaultValue: ""
        description: ""
        name: DESCRIPTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 30c65ccf-8b40-4871-bea5-ae64105a51b1
                stepCounter: 4bab4744-98be-44f3-a9a6-52e682dc8838
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 15ba7833-eb5d-45cb-acf8-0bae53d32ac8
          stepCounter: 6ff0b464-bfb4-4efa-b278-535179a407b5
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: PRIORITY_REFERENCE_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c2dcb93b-81ff-4137-8c71-41d829c6b0d9
                stepCounter: 4bab4744-98be-44f3-a9a6-52e682dc8838
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b3aab71e-2732-4fe0-b899-310f64d071f2
          stepCounter: 6ff0b464-bfb4-4efa-b278-535179a407b5
        config: {}
        dataType: VARCHAR(15)
        defaultValue: ""
        description: ""
        name: PRIORITY_DESCRIPTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 76c5cd5d-1256-4c8b-8ccf-05e8c2b7085d
                stepCounter: 4bab4744-98be-44f3-a9a6-52e682dc8838
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7a08b9bc-2b14-4432-b545-7c4c02237469
          stepCounter: 6ff0b464-bfb4-4efa-b278-535179a407b5
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: PURCHASE_UNIT_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7fc3057a-6131-427d-bcec-6d22823abebb
                stepCounter: 4bab4744-98be-44f3-a9a6-52e682dc8838
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d1b97799-5446-473f-b65a-d013598a5b64
          stepCounter: 6ff0b464-bfb4-4efa-b278-535179a407b5
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: RC_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7e369815-830f-43ea-aa7a-ef738d245e9b
                stepCounter: 4bab4744-98be-44f3-a9a6-52e682dc8838
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1005ddd3-8191-438a-a5cf-141eebf9aa34
          stepCounter: 6ff0b464-bfb4-4efa-b278-535179a407b5
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: MEASURE_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9ca9673b-3018-41a9-afa8-0f6acf29deb7
                stepCounter: 4bab4744-98be-44f3-a9a6-52e682dc8838
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ba2b0c6b-8a25-4ee9-8fbf-4d148c71ca9c
          stepCounter: 6ff0b464-bfb4-4efa-b278-535179a407b5
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        name: DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: eee626ff-d70a-45e8-bffd-27537eeadb26
                stepCounter: 4bab4744-98be-44f3-a9a6-52e682dc8838
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 09d4dd4c-f9ee-42d3-9ea3-e20f79014c83
          stepCounter: 6ff0b464-bfb4-4efa-b278-535179a407b5
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_gastro_production_plan_10.priority_reference_value=dim_waitlist_priority.waitlist_priority_reference_no
        name: DIM_WAITLIST_PRIORITY_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d5d3320e-8dee-425b-b8a6-f51afefb4ad4
                stepCounter: 44358bb9-9c05-480c-80fc-1195de9552b3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f49e2d61-2a37-43ad-b1bb-c30a23ce23d6
          stepCounter: 6ff0b464-bfb4-4efa-b278-535179a407b5
        config: {}
        dataType: INT
        defaultValue: ""
        description: s_gastro_production_plan_10.date=dim_planned_date.calendar_date
        name: DIM_PLANNED_DATE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1aaf74a8-4fb9-434e-8061-f71f64cdf768
                stepCounter: cabaac1b-01ff-4487-9cfa-7534304656bc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: eaf5f58a-2ec1-4b72-9524-dad5342f421a
          stepCounter: 6ff0b464-bfb4-4efa-b278-535179a407b5
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_gastro_production_plan_10.list_name=dim_gastro_production_list_name.list_name  s_gastro_production_plan_10.priority_description=dim_gastro_production_list_name.priority_description  s_gastro_production_plan_10.facility=dim_gastro_production_list_name.facility  s_gastro_production_plan_10.purchase_unit_code=dim_gastro_production_list_name.purchase_unit_code  s_gastro_production_plan_10.RC_code=dim_gastro_production_list_name.RC_code
        name: DIM_GASTRO_PRODUCTION_LIST_NAME_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9003ed7a-6a23-4c1b-b6f2-d0a62f03e3a6
                stepCounter: becda575-69fd-49ed-9ef4-c39f3af8f862
            transform: IFNULL(dim_gastro_production_list_name.dim_gastro_production_list_name_key,0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b3af9a8b-687b-4a20-a061-9c9266ccc143
          stepCounter: 6ff0b464-bfb4-4efa-b278-535179a407b5
        config: {}
        dataType: NVARCHAR(255)
        defaultValue: ""
        description: ""
        name: PRODUCTION_PLAN_GROUP
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7e50cf23-c603-474e-9989-9dcddd12cadd
                stepCounter: 4bab4744-98be-44f3-a9a6-52e682dc8838
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bd9271f8-d162-445b-8b23-b55d2d229110
          stepCounter: 6ff0b464-bfb4-4efa-b278-535179a407b5
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: PLANNED_VOLUME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fbfb1f3c-f78f-4916-bd01-764609b963a1
                stepCounter: 4bab4744-98be-44f3-a9a6-52e682dc8838
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f8165998-bbe6-48c9-ba82-33efb7c26bc2
          stepCounter: 6ff0b464-bfb4-4efa-b278-535179a407b5
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: Record source.
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d84f9c93-2b9e-4fd0-b802-9db96806cd1d
                stepCounter: 4bab4744-98be-44f3-a9a6-52e682dc8838
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1236adf4-2e22-4b29-9f45-cb52f7d59c7f
          stepCounter: 6ff0b464-bfb4-4efa-b278-535179a407b5
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Load date.
        name: DSS_LOAD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b2c79aeb-0d9a-487c-b8d7-3f4723a4b2fa
                stepCounter: 4bab4744-98be-44f3-a9a6-52e682dc8838
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1d5d64a4-ca9d-4fa5-afab-30cc3bfc8099
          stepCounter: 6ff0b464-bfb4-4efa-b278-535179a407b5
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          L_REFERENCE_GASTRO_PRODUCTION_PLAN: 4bab4744-98be-44f3-a9a6-52e682dc8838
          DIM_GASTRO_PRODUCTION_LIST_NAME: becda575-69fd-49ed-9ef4-c39f3af8f862
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: L_REFERENCE_GASTRO_PRODUCTION_PLAN
          - locationName: TGT
            nodeName: DIM_GASTRO_PRODUCTION_LIST_NAME
        join:
          joinCondition: |-
            FROM {{ ref('TGT','L_REFERENCE_GASTRO_PRODUCTION_PLAN') }} l_reference_gastro_production_plan
              LEFT OUTER JOIN {{ ref('TGT','DIM_GASTRO_PRODUCTION_LIST_NAME') }}
                ON l_reference_gastro_production_plan.list_name = dim_gastro_production_list_name.list_name
               AND l_reference_gastro_production_plan.priority_description = dim_gastro_production_list_name.priority_description
               AND l_reference_gastro_production_plan.facility = dim_gastro_production_list_name.facility
               AND l_reference_gastro_production_plan.production_plan_group = dim_gastro_production_list_name.production_plan_group
               AND l_reference_gastro_production_plan.RC_code = dim_gastro_production_list_name.RC_code
        name: S_GASTRO_PRODUCTION_PLAN_10
        noLinkRefs: []
  name: S_GASTRO_PRODUCTION_PLAN_10
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
