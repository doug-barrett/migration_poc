fileVersion: 1
id: 91fdb675-02b6-4c5d-9eda-b5150ae42beb
name: S_EDS_MEDICATION_DIM
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 50935134-1502-4ae7-980e-cf46d27d423b
          stepCounter: 91fdb675-02b6-4c5d-9eda-b5150ae42beb
        config: {}
        dataType: NVARCHAR(5)
        defaultValue: ""
        description: ""
        name: DRUG_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f3f459cf-149e-414b-8723-f0dfba363bcc
                stepCounter: 797bf373-5d43-4c44-93aa-d9b8e12ca393
            transform: IFNULL(s_EDS_Medication_10.drug_type,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d431bded-1905-47ea-a48c-4eb59c42447b
          stepCounter: 91fdb675-02b6-4c5d-9eda-b5150ae42beb
        config: {}
        dataType: NVARCHAR(250)
        defaultValue: ""
        description: ""
        name: DRUG_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a9278f83-32f5-41a2-9cf6-1b98dbf4ac5a
                stepCounter: 797bf373-5d43-4c44-93aa-d9b8e12ca393
            transform: IFNULL(s_EDS_Medication_10.drug_code,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f619c958-e247-4476-be94-3d964f53a7bd
          stepCounter: 91fdb675-02b6-4c5d-9eda-b5150ae42beb
        config: {}
        dataType: NVARCHAR(250)
        defaultValue: ""
        description: ""
        name: DRUG_CODING_SYSTEM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d5a9e3da-6328-4da3-9892-2eb16a90e975
                stepCounter: 797bf373-5d43-4c44-93aa-d9b8e12ca393
            transform: IFNULL(s_EDS_Medication_10.drug_coding_system,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b8166df5-3fc6-44b1-ae79-a5c807aaac80
          stepCounter: 91fdb675-02b6-4c5d-9eda-b5150ae42beb
        config: {}
        dataType: NVARCHAR(255)
        defaultValue: ""
        description: ""
        name: DRUG_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 72743352-6ecc-444e-b989-56889eeff729
                stepCounter: 797bf373-5d43-4c44-93aa-d9b8e12ca393
            transform: IFNULL(s_EDS_Medication_10.drug_name,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fca96ce6-073b-486d-a5e9-b2ef4c13acda
          stepCounter: 91fdb675-02b6-4c5d-9eda-b5150ae42beb
        config: {}
        dataType: NVARCHAR(MAX)
        defaultValue: ""
        description: ""
        name: DRUG_GENERIC_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b0b937bf-e152-40a9-b065-ad2ba203ffd9
                stepCounter: 797bf373-5d43-4c44-93aa-d9b8e12ca393
            transform: IFNULL(s_EDS_Medication_10.drug_generic_name,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7e90e3fb-6112-48b9-8829-f9d8de9b90a9
          stepCounter: 91fdb675-02b6-4c5d-9eda-b5150ae42beb
        config: {}
        dataType: BIT
        defaultValue: ""
        description: ""
        name: CONTROLLED_DRUG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 57045312-1e7a-4a39-9479-a39dc3d6d7c5
                stepCounter: 797bf373-5d43-4c44-93aa-d9b8e12ca393
            transform: IFNULL(s_EDS_Medication_10.controlled_drug,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 34cfa179-1ac6-4d65-9a16-98dd194b9fe3
          stepCounter: 91fdb675-02b6-4c5d-9eda-b5150ae42beb
        config: {}
        dataType: NVARCHAR(255)
        defaultValue: ""
        description: ""
        name: DRUG_BRAND_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bf61a0e3-4834-43c2-af3f-3a911b9b2cff
                stepCounter: 797bf373-5d43-4c44-93aa-d9b8e12ca393
            transform: IFNULL(s_EDS_Medication_10.drug_brand_name,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9fdf6686-c0b4-464e-a4a3-748a8b46548c
          stepCounter: 91fdb675-02b6-4c5d-9eda-b5150ae42beb
        config: {}
        dataType: NVARCHAR(250)
        defaultValue: ""
        description: ""
        name: DRUG_BRAND_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cf85cd87-7cd2-4854-90bf-1a8f4b2b722c
                stepCounter: 797bf373-5d43-4c44-93aa-d9b8e12ca393
            transform: IFNULL(s_EDS_Medication_10.drug_brand_code,'')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3e53c913-492f-478a-b6e8-f412bad55ad4
          stepCounter: 91fdb675-02b6-4c5d-9eda-b5150ae42beb
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_EDS_MEDICATION_10
        join:
          joinCondition: |-
            FROM (
                    SELECT DISTINCT IFNULL(s_EDS_Medication_10.drug_type,'') drug_type,
                           IFNULL(s_EDS_Medication_10.drug_code,'') drug_code,
                           IFNULL(s_EDS_Medication_10.drug_coding_system,'') drug_coding_system,
                           IFNULL(s_EDS_Medication_10.drug_name,'') drug_name,
                           IFNULL(s_EDS_Medication_10.drug_generic_name,'') drug_generic_name,
                           IFNULL(s_EDS_Medication_10.controlled_drug,'') controlled_drug,
                           IFNULL(s_EDS_Medication_10.drug_brand_name,'') drug_brand_name,
                           IFNULL(s_EDS_Medication_10.drug_brand_code,'') drug_brand_code
                      FROM [s_EDS_Medication_10] s_EDS_Medication_10
                    EXCEPT SELECT DISTINCT dim_eds_medication.drug_type,
                           dim_eds_medication.drug_code,
                           dim_eds_medication.drug_coding_system,
                           dim_eds_medication.drug_name,
                           dim_eds_medication.drug_generic_name,
                           dim_eds_medication.controlled_drug,
                           dim_eds_medication.drug_brand_name,
                           dim_eds_medication.drug_brand_code
                      FROM dim.dim_eds_medication dim_eds_medication
                   ) s_EDS_Medication_10
        name: S_EDS_MEDICATION_DIM
        noLinkRefs: []
  name: S_EDS_MEDICATION_DIM
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
