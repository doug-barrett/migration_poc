fileVersion: 1
id: 0da73b1b-3e78-4ed5-84be-e734da25f749
name: S_ALLIED_HEALTH_USER_10
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: "Get details of all users set up in Allied Health. Source table for dim_allied_health_user."
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f3c20ab7-14f6-48a7-9b68-addd2686dd00
          stepCounter: 0da73b1b-3e78-4ed5-84be-e734da25f749
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: Alphanumeric code that uniquely identifies a user in Allied Health.
        name: USER_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d9bbe6c0-92d2-4bd6-821a-b52eb96c9c93
                stepCounter: cef1eb27-7ee4-4cce-9ded-489a49917460
            transform: RTRIM(seSignonCode)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 85ba6a37-1291-4117-8f98-96d2033eeb3c
          stepCounter: 0da73b1b-3e78-4ed5-84be-e734da25f749
        config: {}
        dataType: VARCHAR(60)
        defaultValue: ""
        description: Surname for the user in Allied Health.
        name: USER_SURNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4c2b02c6-d3cf-4bf2-9ae2-69be8d2ceda3
                stepCounter: cef1eb27-7ee4-4cce-9ded-489a49917460
            transform: RTRIM(seSurname)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2405bd2e-161c-444b-a279-60cc44f371e0
          stepCounter: 0da73b1b-3e78-4ed5-84be-e734da25f749
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: Given names for the user in Allied Health. Is sometimes set to the user's full name.
        name: USER_GIVEN_NAMES
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f6b06b93-c3ab-4d40-b5b9-91894c52a535
                stepCounter: cef1eb27-7ee4-4cce-9ded-489a49917460
            transform: RTRIM(seGivenNames)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7e8b9bb2-9d1f-4fa7-a313-136e6a5d30bb
          stepCounter: 0da73b1b-3e78-4ed5-84be-e734da25f749
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: Combines values in given name and surname columns to provide a full name.
        name: USER_FULL_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f6b06b93-c3ab-4d40-b5b9-91894c52a535
                stepCounter: cef1eb27-7ee4-4cce-9ded-489a49917460
            transform: |-
              CASE WHEN CHARINDEX(RTRIM(seSurname), RTRIM(seGivenNames)) > 0 THEN RTRIM(seGivenNames)
                          ELSE RTRIM(seGivenNames) + ' ' + RTRIM(seSurname)
                           END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ceeefb13-9ee2-4660-ace5-c307dcfa7069
          stepCounter: 0da73b1b-3e78-4ed5-84be-e734da25f749
        config: {}
        dataType: VARCHAR(1)
        defaultValue: ""
        description: YN flag indicating whether the user is active in Allied Health.
        name: USER_ACTIVE_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b6fe5b43-fdd4-4d33-88fc-b620875661cc
                stepCounter: cef1eb27-7ee4-4cce-9ded-489a49917460
            transform: |-
              CASE WHEN l_tcare_Secur.seIsActive = 1 THEN 'Y'
                          ELSE 'N'
                           END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3b855470-09eb-42ad-9fec-5086c3d8581d
          stepCounter: 0da73b1b-3e78-4ed5-84be-e734da25f749
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          L_TCARE_SECUR: cef1eb27-7ee4-4cce-9ded-489a49917460
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: L_TCARE_SECUR
        join:
          joinCondition: FROM {{ ref('TGT','L_TCARE_SECUR') }}
        name: S_ALLIED_HEALTH_USER_10
        noLinkRefs: []
  name: S_ALLIED_HEALTH_USER_10
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
