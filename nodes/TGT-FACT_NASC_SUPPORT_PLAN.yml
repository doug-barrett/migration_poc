fileVersion: 1
id: c66327a0-f510-4003-b5d9-80550cd5d0ff
name: FACT_NASC_SUPPORT_PLAN
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 530dcd1b-aa91-4a99-a111-05579d5a2669
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: INTEGER IDENTITY(1,1)
        defaultValue: ""
        description: ""
        name: FACT_NASC_SUPPORT_PLAN_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7b606e07-8115-46d7-96be-93bb1822b292
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: CONTACT_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: da3c4868-514e-4c33-8892-93455bbc052f
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 82228a00-d36d-4285-a4a3-a704520cf390
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_support_plan_NASC_20.contact_encounter_type_code=dim_encounter_type.encounter_type_code
        name: DIM_ENCOUNTER_TYPE_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f435b81b-b8d5-4b1f-be2a-f43673361d16
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 08663489-fc21-45ff-b809-6130e5cafc3a
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: TASK_REQUEST_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 57b13d83-81e1-493a-b9f0-ec47ae2276ff
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6e866e52-6001-4f7f-9531-b6740434563c
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: BIGINT
        defaultValue: ""
        description: ""
        name: PROGRAMME_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 06258f13-6c73-4ef3-9be3-8915d3293039
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cd9d8a04-c3cd-4746-b340-1e51fdf2fb6d
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: ""
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a2af4d0d-3c1e-43ea-a6b2-f8a9e54a468c
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: eae40a72-cbb7-466b-b1e6-29974876786e
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_support_plan_NASC_20.patient_NHI=dim_patient.patient_reference_no
        name: DIM_PATIENT_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bda3c91f-365f-4b0a-92d0-a1f23a3efcb9
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6ffe1d6f-dd5c-4492-9292-e8151b74bc67
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_support_plan_NASC_20.patient_age_at_contact_years=dim_age_group.age_years
        name: DIM_AGE_GROUP_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 18bfabd7-19aa-4de0-9ce7-aa560645bce6
                stepCounter: 3d5ba8a8-80ec-4848-b58a-d31b34cc53ed
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3316a91d-ae57-4851-bb7f-cc17e2b038cf
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_support_plan_NASC_20.domicile_code=dim_domicile.domicile_code
        name: DIM_DOMICILE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4e049fc8-a2a3-4bad-9b91-11b9d158b35e
                stepCounter: 330ad0aa-b8b1-4da9-ab37-b4fe8f889452
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4ce9da32-33d8-4eff-b9c8-f96947e65f44
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_support_plan_NASC_20.health_org_reference_no=dim_health_organisation.health_org_reference_no
        name: DIM_HEALTH_ORG_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0e225003-66b0-4364-977c-c7484ea8462d
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d781d006-07ef-4f23-96df-8ec453b93f4b
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: ""
        name: SEEN_BY_CLINICIAN_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f05fdcd9-e513-4ecc-90b7-dbd9d0b3ff8d
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 07a4017d-59ed-459b-9476-b29da51e2b83
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_support_plan_NASC_20.seen_by_clinician_reference_no=dim_seen_by_clinician.seen_by_clinician_reference_no
        name: DIM_SEEN_BY_CLINICIAN_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9fbbde85-374c-4961-916c-88e1bfeb572a
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5647a814-9028-4e15-8731-57f6fc133e2e
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: REFERRAL_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8855c718-3465-40e8-8e9f-7692db99b13d
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c226bd78-905b-4492-ade7-342a8493bd40
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_support_plan_NASC_20.provider_id=dim_provider_community.provider_id
        name: DIM_PROVIDER_COMMUNITY_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 397df3a7-a2c4-4158-8751-1388dea3d708
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ac480561-40f7-4964-80a3-c708d8ffadad
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_support_plan_NASC_20.programme_role_code=dim_role_community.role_code
        name: DIM_ROLE_COMMUNITY_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 75a09b37-3f7e-4c62-9a03-215dc4b327a7
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9bc972dc-604e-437f-8eb3-550b066a34da
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: TASK_REQUEST_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 72a6b3b1-d9ec-4cf4-a13d-82dd94f47e22
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5d66b49b-2ab0-4ebe-b7f1-84f3c948f093
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_support_plan_NASC_20.CONVERT(date,s_support_plan_NASC_10.task_request_date)=dim_request_date.request_calendar_date
        name: DIM_REQUEST_DATE_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: af2d99de-84c4-4c93-8aa4-60c4c4762308
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 592e369f-fc02-4211-a236-ec2016a07442
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: EPISODE_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9ec5b2d7-3e76-4621-9664-6f2a0fa63bbf
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 15cd8073-06d8-4cde-8ffd-b499fad27465
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: PLAN_COMPLETED_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 342e4960-16ec-458d-a9c8-c408167f608d
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 297f458c-63ca-4fe0-b448-7d898b07d887
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: REVIEW_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 09bd8771-e2b7-4ed3-b45a-5064b807e463
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e638895a-db0d-4ee3-8b8a-fe0a91dc1108
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: EXIT_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 87bd57d6-5ded-45c2-a7ca-b6407c1476d7
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fbefcc4a-6554-473d-a5f0-a6c183c6d376
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: SCID_MIGRATED_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b622b795-d5df-4529-bf5a-a84ea443f59f
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: de8e80d4-970b-452b-aff2-25d29bfda155
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_support_plan_NASC_20.observation_report_status=dim_support_plan_NASC.observation_report_status  s_support_plan_NASC_20.transfer_internal_NASC=dim_support_plan_NASC.transfer_internal_NASC  s_support_plan_NASC_20.transfer_out_DHB=dim_support_plan_NASC.transfer_out_DHB  s_support_plan_NASC_20.transfer_out_residential=dim_support_plan_NASC.transfer_out_residential  s_support_plan_NASC_20.exit_reason=dim_support_plan_NASC.exit_reason  s_support_plan_NASC_20.review_type=dim_support_plan_NASC.review_type  s_support_plan_NASC_20.outcome=dim_support_plan_NASC.outcome  s_support_plan_NASC_20.placement_source=dim_support_plan_NASC.placement_source  s_support_plan_NASC_20.placement_type=dim_support_plan_NASC.placement_type  s_support_plan_NASC_20.residential_placement_reason=dim_support_plan_NASC.residential_placement_reason  s_support_plan_NASC_20.residential_placement_flag=dim_support_plan_NASC.residential_placement_flag  s_support_plan_NASC_20.service_gaps_ATO_id=dim_support_plan_NASC.service_gaps_ATO_id  s_support_plan_NASC_20.NASC_service_ATO_id=dim_support_plan_NASC.NASC_service_ATO_id
        name: DIM_NASC_SUPPORT_PLAN_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: deb56930-f9d1-4836-b474-63c580769681
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 38e14a9a-4ba2-449e-b8ee-d6ae9d478b4b
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: ""
        name: FIRST_SUPPORT_PLAN_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e892f928-7e6b-49da-ab3a-620943f742f9
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a50a2d0d-1e31-4120-a002-d1d7dcd2198e
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: ""
        name: CURRENT_SUPPORT_PLAN_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 90d18f4a-4c8d-4ea3-b46f-b742af313801
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f3ce3879-6b6b-4ff6-8404-e9ecccfb7f63
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: OBSERVATION_REPORT_DUE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c407ccd1-bf7f-40c7-904d-34aed3740998
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7e2d9c4e-8947-4756-bba6-badea87c7a4f
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: OBSERVATION_REPORT_COMPLETION_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 671434b3-9743-435d-98e3-9c39dde21147
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fb40acc4-5ecf-43e4-8cd8-f183539d2eb2
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: PATIENT_SUPPORT_PLAN_SEQ_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6dd57ee4-68d1-4c2d-9563-1a60c66899ef
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 62dec25b-4cce-41a6-adf7-bfe183cf583c
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: PATIENT_SUPPORT_PLAN_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ce6cc968-c7f8-40c0-b254-d5ae4d5881e2
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b11214bd-021c-44c5-99cd-1e0ade76c207
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: SUPPORT_PLAN_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 81c4e962-7785-4545-b5dc-0d80284143e1
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 62909484-dcd0-4027-a090-4ddcd651c830
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: CREATE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f3343dc5-6bc8-43bd-ab21-fe000ac5f0a1
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e4e36fd4-e06b-4215-8dea-1766a0126fa7
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_support_plan_NASC_20.create_user_login_name=dim_user_login_concerto.user_name
        name: DIM_USER_LOGIN_CONCERTO_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b63d1177-7ac1-45f5-8950-f22ed4bff26b
                stepCounter: e6749599-cb6a-4aa9-bd65-13e7848e8c22
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3352e6fe-2c5e-4198-8f34-961deb499e54
          stepCounter: c66327a0-f510-4003-b5d9-80550cd5d0ff
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies: []
        join:
          joinCondition: ""
        name: FACT_NASC_SUPPORT_PLAN
        noLinkRefs: []
  name: FACT_NASC_SUPPORT_PLAN
  overrideSQL: false
  schema: ""
  sqlType: Fact
  type: sql
  version: 1
type: Node
