fileVersion: 1
id: 05124f6b-03d4-4085-a228-d5794b89e92b
name: S_EDSHIFTS_SHIFTWORKED
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 80dbc4fb-a645-46c3-be42-4f369aab5e0a
          stepCounter: 05124f6b-03d4-4085-a228-d5794b89e92b
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: ROWID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 62d9da72-03ed-43db-9df3-acb3802937c4
                stepCounter: 2aa8cbcc-5f47-4c02-906e-b2be2eee8583
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: de2f6d1f-f743-42a8-9391-4af3a865410e
          stepCounter: 05124f6b-03d4-4085-a228-d5794b89e92b
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: AUDIT_FLAG
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9aa90c75-ac3b-4500-badb-ee0ede460f9d
                stepCounter: 2aa8cbcc-5f47-4c02-906e-b2be2eee8583
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6499e2aa-9328-49e0-a21f-7f075a70b0fd
          stepCounter: 05124f6b-03d4-4085-a228-d5794b89e92b
        config: {}
        dataType: VARCHAR(3)
        defaultValue: ""
        description: NSH or WTH depending on location allows linking to PiMS code
        name: SHIFT_LOCATION_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: |-
              CASE WHEN l_edshifts_location.locationid = 2 THEN 'WTH'
                          ELSE 'NSH'
                           END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 39f2e8ce-95be-42ab-83e9-ab578418384f
          stepCounter: 05124f6b-03d4-4085-a228-d5794b89e92b
        config: {}
        dataType: INT
        defaultValue: ""
        description: Location of emergency department the shift worked for
        name: SHIFT_LOCATION_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b2438f1b-a6aa-4682-8c5c-5cd70dd811e0
                stepCounter: 2aa8cbcc-5f47-4c02-906e-b2be2eee8583
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9e36e459-73c4-40a7-90f5-f11802764ec3
          stepCounter: 05124f6b-03d4-4085-a228-d5794b89e92b
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: Description of the Emergency department the shift was worked in
        name: SHIFT_LOCATION_DESCRIPTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 155284c6-00c9-4e31-b84e-d1532a4d23d4
                stepCounter: cd811190-5008-4979-8111-8a72aa5cce51
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 78eb0d88-d763-4734-85a0-75ecf01e661c
          stepCounter: 05124f6b-03d4-4085-a228-d5794b89e92b
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: SHIFT_STAFF_MEMBER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1bba4aa5-a7dc-4cc1-a0ea-de49ddf3b198
                stepCounter: 2aa8cbcc-5f47-4c02-906e-b2be2eee8583
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6b8df1b3-118c-4a6a-9b60-26b7e61b7a91
          stepCounter: 05124f6b-03d4-4085-a228-d5794b89e92b
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: SHIFT_STAFFMEMBER_CONCERTO_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bb0e5755-48e7-4a36-b90c-237b5b06186a
                stepCounter: 64212214-a136-4b83-a45e-eca87a7b754d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 907bf6a0-cb0c-4533-bb83-40533ab2816c
          stepCounter: 05124f6b-03d4-4085-a228-d5794b89e92b
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: ""
        name: SHIFT_STAFF_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cd46bf55-958b-4e01-934a-7ce95ba7208b
                stepCounter: 64212214-a136-4b83-a45e-eca87a7b754d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c0a93aee-5bf9-4f15-b9a2-07e317cb6e3d
          stepCounter: 05124f6b-03d4-4085-a228-d5794b89e92b
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: SHIFT_DEPARTMENT_ROLE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c07565ec-8794-472d-8362-8a8173d21d13
                stepCounter: 2aa8cbcc-5f47-4c02-906e-b2be2eee8583
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8dee44a1-5188-4693-bcd0-baa423c89c56
          stepCounter: 05124f6b-03d4-4085-a228-d5794b89e92b
        config: {}
        dataType: VARCHAR(200)
        defaultValue: ""
        description: ""
        name: SHIFT_DEPARTMENT_ROLE_DESCRIPTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dcaaebf8-5672-45c5-912b-0e26c582b9a4
                stepCounter: 123b8c7f-3c38-4298-8148-1b5cd04cc81d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 242ce4c5-0b27-457f-954a-94a6413c4858
          stepCounter: 05124f6b-03d4-4085-a228-d5794b89e92b
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: SHIFT_PATTERN_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dea1d506-1733-441a-ae9d-3e85443aad7c
                stepCounter: 2aa8cbcc-5f47-4c02-906e-b2be2eee8583
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5a528f03-7ff8-40c4-be91-ff8e18a3fa7f
          stepCounter: 05124f6b-03d4-4085-a228-d5794b89e92b
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: SHIFT_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fcfff5a1-0270-4744-af37-7bdb8a42824b
                stepCounter: 2aa8cbcc-5f47-4c02-906e-b2be2eee8583
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c04e47d2-ae43-4254-9ec1-9b1c7f0debe6
          stepCounter: 05124f6b-03d4-4085-a228-d5794b89e92b
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: SHIFT_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8dbea993-0560-4ce5-8281-0ca04eaa0a35
                stepCounter: 2aa8cbcc-5f47-4c02-906e-b2be2eee8583
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 64c0266d-754f-4716-bd2d-394bd30b151d
          stepCounter: 05124f6b-03d4-4085-a228-d5794b89e92b
        config: {}
        dataType: BIT
        defaultValue: ""
        description: ""
        name: LOCUM_SHIFT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 22910343-c3bd-4a1c-a9fe-1cf60feaf236
                stepCounter: 2aa8cbcc-5f47-4c02-906e-b2be2eee8583
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 774621ce-1de7-4b89-b5a0-6b794a960c2f
          stepCounter: 05124f6b-03d4-4085-a228-d5794b89e92b
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: L_EDSHIFTS_SHIFTWORKED
        join:
          joinCondition: |-
            FROM l_edshifts_shiftworked
              JOIN l_edshifts_location
                ON l_edshifts_shiftworked.locationid = l_edshifts_location.locationid
              JOIN l_edshifts_staffmember
                ON l_edshifts_shiftworked.staffmemberid = l_edshifts_staffmember.staffmemberid
              JOIN l_edshifts_departmentrole
                ON l_edshifts_shiftworked.departmentroleid = l_edshifts_departmentrole.departmentroleid
        name: S_EDSHIFTS_SHIFTWORKED
        noLinkRefs: []
  name: S_EDSHIFTS_SHIFTWORKED
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
