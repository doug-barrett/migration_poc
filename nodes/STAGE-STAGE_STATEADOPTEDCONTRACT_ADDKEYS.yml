fileVersion: 1
id: cdb9b458-4223-4158-9750-c8f3862dc0a4
name: STAGE_STATEADOPTEDCONTRACT_ADDKEYS
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: "STATE_ADOPTION_CONTRACT"
  isMultisource: false
  locationName: STAGE
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5543cef3-c874-48c6-bcaf-fb2e97f3716f
          stepCounter: cdb9b458-4223-4158-9750-c8f3862dc0a4
        config: {}
        dataType: VARCHAR(18)
        defaultValue: ""
        description: ""
        name: STATEADOPTEDCONTRACTSALESFORCEID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5aa15727-94b2-431e-8815-d64de74f47a5
                stepCounter: a18af164-dba0-4eff-a156-ea4a22e6f7d3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 27b3cd7e-0dac-4a2e-b092-71d8e429e052
          stepCounter: cdb9b458-4223-4158-9750-c8f3862dc0a4
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: STATECONTRACTNUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e97babe1-ae6d-47f3-a821-d51902e5d4a0
                stepCounter: a18af164-dba0-4eff-a156-ea4a22e6f7d3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a385675f-e377-43cb-918f-619c79b135c3
          stepCounter: cdb9b458-4223-4158-9750-c8f3862dc0a4
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: ""
        name: SALESFORCERECORDNUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bb7ace70-3823-4c31-a1e7-023ff4a74128
                stepCounter: a18af164-dba0-4eff-a156-ea4a22e6f7d3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e3717729-d099-42aa-8157-7c9d5d4bd091
          stepCounter: cdb9b458-4223-4158-9750-c8f3862dc0a4
        config: {}
        dataType: VARCHAR(121)
        defaultValue: ""
        description: ""
        name: OWNER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4c017b44-6f11-4ce2-9416-176fd42f590a
                stepCounter: a18af164-dba0-4eff-a156-ea4a22e6f7d3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cbf84654-722d-4101-82de-741bcbbd7d1e
          stepCounter: cdb9b458-4223-4158-9750-c8f3862dc0a4
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: GENERATED ARTIFICIAL KEY
        name: ACCOUNTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1b17fba0-9db5-4ba8-9eeb-d24027f151eb
                stepCounter: cf63e7ee-ad3f-42c5-9d06-e2eea3cdc91e
            transform: IFNULL(ACCOUNT.ACCOUNTKEY,0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4d2002fb-0b02-4e20-b088-e5759ed04a45
          stepCounter: cdb9b458-4223-4158-9750-c8f3862dc0a4
        config: {}
        dataType: VARCHAR(18)
        defaultValue: ""
        description: ""
        name: ACCOUNTSALESFORCEID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5572b51a-a128-4ead-b261-66a9e334918d
                stepCounter: a18af164-dba0-4eff-a156-ea4a22e6f7d3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3e13a3e0-8524-48ec-a789-e90d82db5b7e
          stepCounter: cdb9b458-4223-4158-9750-c8f3862dc0a4
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: GENERATED ARTIFICIAL KEY
        name: CONTRACTKEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2695753d-6f1a-4e8d-9172-3bccc50d7c6a
                stepCounter: 84116e71-ebf6-4262-b818-71628fbd5079
            transform: IFNULL(CONTRACT.CONTRACTKEY,0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f2d40378-cd7a-4fad-b096-2c2334e538d6
          stepCounter: cdb9b458-4223-4158-9750-c8f3862dc0a4
        config: {}
        dataType: VARCHAR(18)
        defaultValue: ""
        description: ""
        name: CONTRACTSALESFORCEID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e52f8dc3-4502-4147-84cf-ff28c5aef0e1
                stepCounter: a18af164-dba0-4eff-a156-ea4a22e6f7d3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3dcb3233-c864-4e97-a4ca-40678d231f12
          stepCounter: cdb9b458-4223-4158-9750-c8f3862dc0a4
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        name: STATEADOPTEDSTARTDATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 31490be2-c40b-487e-b119-88a7a712fcb3
                stepCounter: a18af164-dba0-4eff-a156-ea4a22e6f7d3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6ec0090e-d17e-42d1-a9c2-3f3216b01e3d
          stepCounter: cdb9b458-4223-4158-9750-c8f3862dc0a4
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        name: STATEADOPTEDENDDATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8febd2e9-caac-438f-b517-19141dddf3ae
                stepCounter: a18af164-dba0-4eff-a156-ea4a22e6f7d3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7e87add2-241c-41ed-b57d-53fdebfb9e69
          stepCounter: cdb9b458-4223-4158-9750-c8f3862dc0a4
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: STATUS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 85256b4c-95eb-45c7-820c-924fbb0b3e16
                stepCounter: a18af164-dba0-4eff-a156-ea4a22e6f7d3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 657986f4-a8f2-4185-b642-0ec297d05889
          stepCounter: cdb9b458-4223-4158-9750-c8f3862dc0a4
        config: {}
        dataType: VARCHAR(500)
        defaultValue: ""
        description: ""
        name: NOTES
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 304af023-4a84-452b-af3a-87c41b663076
                stepCounter: a18af164-dba0-4eff-a156-ea4a22e6f7d3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 14dd46e6-5855-41a5-8ec2-529329da45a3
          stepCounter: cdb9b458-4223-4158-9750-c8f3862dc0a4
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: STAGECONTRACT_ADDKEYS.SUPPLIERID=SUPPLIER.SUPPLIERID
        name: SUPPLIERKEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cc0cef1f-3af8-4dd2-8564-4bec2c8984e2
                stepCounter: 84116e71-ebf6-4262-b818-71628fbd5079
            transform: IFNULL(CONTRACT.SUPPLIERKEY,0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 14a88ca7-9def-40c8-9103-8aa70bcfd549
          stepCounter: cdb9b458-4223-4158-9750-c8f3862dc0a4
        config: {}
        dataType: VARCHAR(64)
        defaultValue: ""
        description: RECORD SOURCE.
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3b817f76-0a82-4867-936b-20c95486b7b3
                stepCounter: a18af164-dba0-4eff-a156-ea4a22e6f7d3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2464f6ba-43aa-4552-9977-be6ab03bf05b
          stepCounter: cdb9b458-4223-4158-9750-c8f3862dc0a4
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: LOAD DATE.
        name: DSS_LOAD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 899bfa0f-eaa8-4381-a325-5fd599a81b08
                stepCounter: a18af164-dba0-4eff-a156-ea4a22e6f7d3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d6b912cc-aa8e-433f-95be-ad156aff87d7
          stepCounter: cdb9b458-4223-4158-9750-c8f3862dc0a4
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: DATE AND TIME THE ROW WAS CREATED IN THE DATA WAREHOUSE.
        name: DSSCREATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 484bb800-826b-4657-bbce-331bb70c9524
          stepCounter: cdb9b458-4223-4158-9750-c8f3862dc0a4
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: DATE AND TIME THE ROW WAS UPDATED IN THE DATA WAREHOUSE.
        name: DSSUPDATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          STAGE_STATEADOPTEDCONTRACT: a18af164-dba0-4eff-a156-ea4a22e6f7d3
          ACCOUNT: cf63e7ee-ad3f-42c5-9d06-e2eea3cdc91e
          CONTRACT: 84116e71-ebf6-4262-b818-71628fbd5079
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DIM
            nodeName: ACCOUNT
          - locationName: DIM
            nodeName: CONTRACT
          - locationName: STAGE
            nodeName: STAGE_STATEADOPTEDCONTRACT
        join:
          joinCondition: |-
            FROM {{ ref('STAGE','STAGE_STATEADOPTEDCONTRACT') }} STAGE_STATEADOPTEDCONTRACT
              LEFT JOIN {{ ref('DIM','ACCOUNT') }} ACCOUNT
                ON STAGE_STATEADOPTEDCONTRACT.ACCOUNTSALESFORCEID = ACCOUNT.SALESFORCEID
              LEFT JOIN {{ ref('DIM','CONTRACT') }} CONTRACT
                ON STAGE_STATEADOPTEDCONTRACT.CONTRACTSALESFORCEID = CONTRACT.CONTRACTSALESFORCEID
        name: STAGESTATEADOPTEDCONTRACT_ADDKEYS
        noLinkRefs: []
  name: STAGE_STATEADOPTEDCONTRACT_ADDKEYS
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
