fileVersion: 1
id: e572366e-1b2c-468a-8848-ec74dc6fbdc9
name: STAGE_STATEADOPTEDCONTRACT_ADDKEYS
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: "STATE_ADOPTION_CONTRACT"
  isMultisource: false
  locationName: STAGE
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 78059997-7680-474a-9913-f07964660018
          stepCounter: e572366e-1b2c-468a-8848-ec74dc6fbdc9
        config: {}
        dataType: VARCHAR(18)
        defaultValue: ""
        description: ""
        name: STATEADOPTEDCONTRACTSALESFORCEID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e97da8a8-1c4a-411f-abd6-8377375647b4
                stepCounter: fd33f62a-ce9a-4b19-819c-3fc885a312ad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e275fc80-9611-4cc1-8195-13a53d24f16a
          stepCounter: e572366e-1b2c-468a-8848-ec74dc6fbdc9
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: STATECONTRACTNUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8dada97f-31cf-4b0b-8571-9b4318367696
                stepCounter: fd33f62a-ce9a-4b19-819c-3fc885a312ad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 83c2033a-bee6-4db3-9e94-6e11eef5ec96
          stepCounter: e572366e-1b2c-468a-8848-ec74dc6fbdc9
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: ""
        name: SALESFORCERECORDNUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 15082ebf-a0ff-4077-9b21-d5df7b924421
                stepCounter: fd33f62a-ce9a-4b19-819c-3fc885a312ad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e89bc3a5-4714-487e-9c41-bea0440d42ae
          stepCounter: e572366e-1b2c-468a-8848-ec74dc6fbdc9
        config: {}
        dataType: VARCHAR(121)
        defaultValue: ""
        description: ""
        name: OWNER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 198486c5-7b3a-42f9-b45e-092a92e64494
                stepCounter: fd33f62a-ce9a-4b19-819c-3fc885a312ad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6994d3a4-66c9-41b7-85bb-c562366ae609
          stepCounter: e572366e-1b2c-468a-8848-ec74dc6fbdc9
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: GENERATED ARTIFICIAL KEY
        name: ACCOUNTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9809deca-da5b-4fe0-a80a-ab6cafa8782e
                stepCounter: 745ecacb-59f4-457a-9a6f-e827d225494e
            transform: IFNULL(ACCOUNT.ACCOUNTKEY,0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e16402fe-6059-4a50-aad2-cedad4dff498
          stepCounter: e572366e-1b2c-468a-8848-ec74dc6fbdc9
        config: {}
        dataType: VARCHAR(18)
        defaultValue: ""
        description: ""
        name: ACCOUNTSALESFORCEID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 319f4209-d7d2-41fc-a32a-075c406568cc
                stepCounter: fd33f62a-ce9a-4b19-819c-3fc885a312ad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ad72393e-8415-4d39-8b24-65982f58e7ea
          stepCounter: e572366e-1b2c-468a-8848-ec74dc6fbdc9
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: GENERATED ARTIFICIAL KEY
        name: CONTRACTKEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dd104e19-ca47-41af-94d4-cca1548f548e
                stepCounter: a550c43a-4d5a-4a69-aa48-4cefa3de4b21
            transform: IFNULL(CONTRACT.CONTRACTKEY,0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c9351369-544c-4c67-ada9-44fdef8d8230
          stepCounter: e572366e-1b2c-468a-8848-ec74dc6fbdc9
        config: {}
        dataType: VARCHAR(18)
        defaultValue: ""
        description: ""
        name: CONTRACTSALESFORCEID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 63e1e2cb-df4f-448e-b811-69d07110b701
                stepCounter: fd33f62a-ce9a-4b19-819c-3fc885a312ad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8f8c37ef-8b04-4b7f-a582-d1fd3b52cd16
          stepCounter: e572366e-1b2c-468a-8848-ec74dc6fbdc9
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        name: STATEADOPTEDSTARTDATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9997a5bc-b6ef-463a-afd9-3edcc948479e
                stepCounter: fd33f62a-ce9a-4b19-819c-3fc885a312ad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c7d8c71e-9a42-4a4b-af71-4b832b8ec4fb
          stepCounter: e572366e-1b2c-468a-8848-ec74dc6fbdc9
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        name: STATEADOPTEDENDDATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 501c967f-2b17-4d18-a4df-e175310fedd1
                stepCounter: fd33f62a-ce9a-4b19-819c-3fc885a312ad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 628c3712-e7c8-48fb-965b-5e0d04b8b855
          stepCounter: e572366e-1b2c-468a-8848-ec74dc6fbdc9
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: STATUS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2c77c40f-911f-495b-b695-0b77b6f30e94
                stepCounter: fd33f62a-ce9a-4b19-819c-3fc885a312ad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ba6e6de9-2f10-45c0-a1cd-269e3ce96133
          stepCounter: e572366e-1b2c-468a-8848-ec74dc6fbdc9
        config: {}
        dataType: VARCHAR(500)
        defaultValue: ""
        description: ""
        name: NOTES
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6f18dee0-a185-4bcc-8ad0-954cb0922095
                stepCounter: fd33f62a-ce9a-4b19-819c-3fc885a312ad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 068b6156-b145-4121-9ad0-916c46402b0c
          stepCounter: e572366e-1b2c-468a-8848-ec74dc6fbdc9
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: STAGECONTRACT_ADDKEYS.SUPPLIERID=SUPPLIER.SUPPLIERID
        name: SUPPLIERKEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2aa55bd1-f8be-4d08-ade3-2ff2c3000b9a
                stepCounter: a550c43a-4d5a-4a69-aa48-4cefa3de4b21
            transform: IFNULL(CONTRACT.SUPPLIERKEY,0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bca0f542-e375-47b5-8e6f-5e666ab9231e
          stepCounter: e572366e-1b2c-468a-8848-ec74dc6fbdc9
        config: {}
        dataType: VARCHAR(64)
        defaultValue: ""
        description: RECORD SOURCE.
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 54b41391-ba06-414e-ac9b-9ac81cb88319
                stepCounter: fd33f62a-ce9a-4b19-819c-3fc885a312ad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 69814f8f-3b48-43e8-9e71-b245189bf8a9
          stepCounter: e572366e-1b2c-468a-8848-ec74dc6fbdc9
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: LOAD DATE.
        name: DSS_LOAD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fc5fd8af-dd92-47a2-9194-88d3b4b74985
                stepCounter: fd33f62a-ce9a-4b19-819c-3fc885a312ad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 855e363a-b445-4da7-9718-b35821a9adf2
          stepCounter: e572366e-1b2c-468a-8848-ec74dc6fbdc9
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: DATE AND TIME THE ROW WAS CREATED IN THE DATA WAREHOUSE.
        name: DSSCREATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e9217750-6365-4d2b-a955-11b3aa76dade
          stepCounter: e572366e-1b2c-468a-8848-ec74dc6fbdc9
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: DATE AND TIME THE ROW WAS UPDATED IN THE DATA WAREHOUSE.
        name: DSSUPDATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          ACCOUNT: 745ecacb-59f4-457a-9a6f-e827d225494e
          CONTRACT: a550c43a-4d5a-4a69-aa48-4cefa3de4b21
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DIM
            nodeName: ACCOUNT
          - locationName: DIM
            nodeName: CONTRACT
          - locationName: STAGE
            nodeName: STAGE_STATEADOPTEDCONTRACT
          - locationName: UNKNOWN
            nodeName: STAGESTATEADOPTEDCONTRACT
        join:
          joinCondition: |-
            FROM {{ ref('UNKNOWN','STAGESTATEADOPTEDCONTRACT') }} STAGESTATEADOPTEDCONTRACT
              LEFT JOIN {{ ref('DIM','ACCOUNT') }} ACCOUNT
                ON STAGESTATEADOPTEDCONTRACT.ACCOUNTSALESFORCEID = ACCOUNT.SALESFORCEID
              LEFT JOIN {{ ref('DIM','CONTRACT') }} CONTRACT
                ON STAGESTATEADOPTEDCONTRACT.CONTRACTSALESFORCEID = CONTRACT.CONTRACTSALESFORCEID
        name: STAGESTATEADOPTEDCONTRACT_ADDKEYS
        noLinkRefs: []
  name: STAGE_STATEADOPTEDCONTRACT_ADDKEYS
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
