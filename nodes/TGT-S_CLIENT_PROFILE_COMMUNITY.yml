fileVersion: 1
id: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
name: S_CLIENT_PROFILE_COMMUNITY
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6c27d3e9-3811-43b0-9a7d-9845feae8a93
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: TASK_REQUEST_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 612a1331-c81c-488b-9d1e-f678804940f7
                stepCounter: bd08e340-c243-4faa-895f-5085cf932eaf
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4f1467d1-d5da-4aca-acb9-36e423ff023a
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: CLIENT_PROFILE_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7b76072f-3180-484b-8876-41ffb6d5f60b
                stepCounter: bd08e340-c243-4faa-895f-5085cf932eaf
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f57e70ae-298f-4fb9-9e3b-ec1769b22c2b
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: BIGINT
        defaultValue: ""
        description: ""
        name: PROGRAMME_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 89fd690f-ae8f-4934-8cd1-a7893c607815
                stepCounter: bd08e340-c243-4faa-895f-5085cf932eaf
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0b75ff22-d125-4c61-b9d2-e476d52a2887
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: DIM_PATIENT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9962a01b-5f3d-4c1a-b371-997edef38d0f
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: IFNULL(dim_patient.dim_patient_key,0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3ed151e2-c246-4d8a-9502-8fb3169c049f
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: ""
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0fc8febc-ab78-4b45-9c7d-d7601572c158
                stepCounter: bd08e340-c243-4faa-895f-5085cf932eaf
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 02565769-283c-4d3f-8767-d55276d6d27d
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: REFERRAL_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 96187864-e34b-4cc0-af91-a01cf0aff052
                stepCounter: bd08e340-c243-4faa-895f-5085cf932eaf
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 04c9d493-a7d8-4788-9ce7-388f14856768
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: ROLE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 783e2f7d-3a25-445d-8760-bac00e61dbb5
                stepCounter: bd08e340-c243-4faa-895f-5085cf932eaf
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 86fda780-1903-4586-8a6f-5707c6f046d3
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: DEPARTMENT_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7429b49b-5a50-4d4f-8b41-111e183d6b02
                stepCounter: bd08e340-c243-4faa-895f-5085cf932eaf
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 82c04241-e3c2-425e-886c-48b83e42ab8b
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: SERVICE_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4db2446e-d0a8-4c95-9106-7c7a71172d00
                stepCounter: bd08e340-c243-4faa-895f-5085cf932eaf
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5c5c4712-ece7-4648-8c41-f64062d36190
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: VARCHAR(15)
        defaultValue: ""
        description: ""
        name: SEEN_BY_CLINICIAN_REFERENCE_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e542fba2-332a-4ebe-ace3-eac4f0c77b43
                stepCounter: bd08e340-c243-4faa-895f-5085cf932eaf
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 09e04f0b-bd51-4e01-ab65-01d982bbee60
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: TASK_REQUEST_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 893dd19a-092c-4e52-8b53-06e12bb68598
                stepCounter: bd08e340-c243-4faa-895f-5085cf932eaf
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7d291980-927e-4557-8b49-4157b1049b81
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: EPISODE_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 13e937d0-1c53-4f60-ac19-fd3a3770db5e
                stepCounter: bd08e340-c243-4faa-895f-5085cf932eaf
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 30b1cc13-c3ef-41c0-bf66-ee8d27ad208f
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: OBSERVATION_REPORT_DUE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dbccef97-684e-4ff8-ae69-bfe97f00f8e3
                stepCounter: bd08e340-c243-4faa-895f-5085cf932eaf
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e92e24cf-10ea-4884-80bb-4477e429b450
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: OBSERVATION_REPORT_COMPLETION_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 289915c5-f796-42dc-bb9a-e3f1e600d747
                stepCounter: bd08e340-c243-4faa-895f-5085cf932eaf
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3b1ed6b4-6ead-4f09-9238-675987a15c56
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: CARE_COMPLEXITY_TOTAL_SCORE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 70c2cffe-e8ed-42a2-b76a-091f45433e39
                stepCounter: bd08e340-c243-4faa-895f-5085cf932eaf
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e58c14f4-0102-4265-b1e2-ee16657ca46e
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date score is to be reviewed
        name: REVIEW_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a1266e8e-641b-49cd-b856-03d9c27cc64c
                stepCounter: bd08e340-c243-4faa-895f-5085cf932eaf
            transform: try_convert(datetime, s_client_profile_community_v.review_date,103)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 47f7176e-f0d2-4d8a-ac29-68dda44f9d7d
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: OBSERVATION_REPORT_STATUS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bb4e5364-a705-45c8-84fa-e0e07ef701ba
                stepCounter: bd08e340-c243-4faa-895f-5085cf932eaf
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cdc186ae-f925-40c4-a5a7-f94060732ffe
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: CREATE_USER_LOGIN_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ab8b3a16-ecb8-4f48-ad60-d8ed9477a3e6
                stepCounter: bd08e340-c243-4faa-895f-5085cf932eaf
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4e221229-5ace-4d67-9d29-c52f923b72f0
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: CREATE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: df48d19b-9ddd-4531-aa3f-89e52113cf6a
                stepCounter: bd08e340-c243-4faa-895f-5085cf932eaf
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2f04d82d-0007-4197-9f5e-16e2945e130c
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_client_profile_community.create_user_login_name=dim_user_login_concerto.user_name
        name: DIM_USER_LOGIN_CONCERTO_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 16f2ac98-6185-439c-9a15-757698e43d58
                stepCounter: 4bf64241-1d0b-4a30-8919-350bb5d33ed1
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ea05917f-5793-4432-80ff-0ff2feabb2dc
          stepCounter: 0ddf0763-dac1-4b74-b1e3-3a4c6fd7eae3
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          S_CLIENT_PROFILE_COMMUNITY_V: bd08e340-c243-4faa-895f-5085cf932eaf
          DIM_PATIENT: d52dd438-7899-4242-9e38-539d2a1447df
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_CLIENT_PROFILE_COMMUNITY_V
          - locationName: TGT
            nodeName: DIM_PATIENT
        join:
          joinCondition: |-
            FROM {{ ref('TGT','S_CLIENT_PROFILE_COMMUNITY_V') }}
              LEFT OUTER JOIN {{ ref('TGT','DIM_PATIENT') }}
                ON s_client_profile_community_v.patient_NHI = dim_patient.patient_NHI
               AND dim_patient.NHI_sequence = 1
        name: S_CLIENT_PROFILE_COMMUNITY
        noLinkRefs: []
  name: S_CLIENT_PROFILE_COMMUNITY
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
