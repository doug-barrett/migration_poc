fileVersion: 1
id: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
name: STAGE_FACT_SETTLED_TRANSACTIONS_TEST
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: DATAVAULT_STAGING
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e89519a0-c98f-4c67-a3ad-666c00288608
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: NUMBER(38,0)
        defaultValue: ""
        description: ""
        name: TRANSACTION_MERCHANT_INTERNAL_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e04b3b88-938c-4df1-b1a0-c0b864242eee
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 31d60fec-8a3d-45a1-bcd4-b60be73f2762
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: NUMBER(38)
        defaultValue: ""
        description: ""
        name: DIM_DATE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2c75e2e7-8f74-4c45-b835-90a4de9a131d
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 15178dfb-cc82-476b-9514-dcec78125d06
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        name: DIM_MERCHANT_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 966f68a1-b792-4d75-b7d9-3d4df703eb4d
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f7ee971f-fde9-4086-b2c3-ca25be0e55b7
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: VARCHAR(19)
        defaultValue: ""
        description: ""
        name: TERMINAL_SERIAL_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5abeb278-ad82-40c5-b021-892a17a5b994
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a5026849-affe-4728-943e-7153f6bbdd57
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        name: DIM_CURRENCY_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d0e2877c-3801-409b-85f2-88a210ce4d77
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 48752d18-104a-40c0-9bb4-e28ba754869c
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: NUMBER
        defaultValue: ""
        description: ""
        name: DIM_CARD_BRAND_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d03b6495-498f-4ab5-996b-db86b71df5f0
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 269a579c-c254-42ad-a567-53ce1f65244f
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        name: DIM_TRANSACTION_TYPE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e1cc5fd0-e207-4aeb-afb5-90ba48d5f22d
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7e7f8957-ce68-4c4d-ab4b-c8c7d4aeb61e
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: NUMBER(38)
        defaultValue: ""
        description: ""
        name: MONTH_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3bd96ee6-1962-44cc-82a3-961d9b826c80
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8904d370-0515-41d1-802f-febc5385b418
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: NUMBER(18,0)
        defaultValue: ""
        description: ""
        name: DIM_PRODUCT_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 045d30f0-5526-4e20-b95c-5f262e429160
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8f936107-c22a-4a85-a46e-7d60039a08ae
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: RECID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3cac4465-a145-493e-be6b-3bc1b9c1ca8a
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fd201e85-7948-43a3-9be8-e68b076ea468
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: NUMBER(38)
        defaultValue: ""
        description: ""
        name: SETTLEMENT_TRANSACTION_PROCESS_DATE_ID
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7a14f8dd-99cd-4ff3-bb84-be8951f4ab46
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b479217e-be83-4982-9d10-8a8931d3d267
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: NUMBER(19,2)
        defaultValue: ""
        description: The total amount of the transaction expressed in the settlement currency (unsigned). This will be the amount that will be settled.
        name: SETTLEMENT_TRANSACTION_AMOUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bc5fa3ba-0c2b-4a6b-a38c-b71596f229a8
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bb68f8cf-df69-4b39-806b-a7564a549942
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: The total amount of the transaction expressed in the settlement currency (unsigned). This will be the amount that will be settled.
        name: SETTLEMENT_TRANSACTION_TOTAL_AMOUNT_CAD
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 77c93fed-633b-472e-b8c7-dc470efd2dc7
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3ca0d67c-621f-4a59-836c-298386b7c38d
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: The unique Acquirer Reference Number of the transaction
        name: DCC_USED_INDICATOR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f920ec81-5b7e-4da3-8048-89e9bb140f34
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9528ece0-5c10-4a53-9857-bf7697d551d6
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        name: DIM_MERCHANT_ID2
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 435ef0b7-fae2-42c6-a903-881ef34ca1a6
                stepCounter: 47efa677-7996-4551-9dec-b7b4d9cedb8d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0a94126a-4f3b-40be-8e1f-cbb44f42174f
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: CONVERSION_RATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e7352fb3-309d-430c-96ea-9a23690b3b3d
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ba4c9392-1b8d-4687-b703-81968ccd2894
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: FEES_AMOUNT_CAD
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4ddcd4e2-88b6-4e32-b3d1-f1c64a73c2ce
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4ee7ee22-0ebb-421f-af23-e48b0aee6ec5
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: USER_AGENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4b5a6504-45be-4bdf-a051-29f286c7a020
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: adf0f197-ff7b-43b5-8bf1-2de02204cc0d
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: VARCHAR(256)
        defaultValue: ""
        description: ""
        name: REF_URL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d8bb738d-171b-4e90-b0b6-ab767fd0e648
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dc102539-93ce-4aab-ade6-133824cdbb42
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: CARD_TYPE_CODE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2e84e320-3bb3-4144-9712-3d14482cd1a4
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3cd0f4e1-5f9b-42b5-93ef-9bbb5f3a62e6
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: TRANSACTION_TYPE_CODE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ff3191a5-c77e-4d98-8e99-f01208309fa4
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bbc32d43-a68a-4b17-853c-792be0533d45
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: VARCHAR(3)
        defaultValue: ""
        description: ""
        name: SETTLEMENT_CURRENCY_CODE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b85812a6-65b4-46ad-acf4-a4d8736c5977
                stepCounter: d106ee49-1641-4abf-b703-5c66e735fe44
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 63461f8e-8d54-4cca-afe1-79f6812bd007
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was created in the data warehouse.
        isSystemCreateDate: true
        name: DSS_CREATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1b59844d-70f2-4c9d-9b6d-f78f6857eedf
          stepCounter: 7e290c96-6a05-4d14-b6ac-9d740fd4e24b
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          VIEW_FACT_SETTLED_TRANSACTIONS: d106ee49-1641-4abf-b703-5c66e735fe44
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DATAVAULT_BUSINESS_VAULT
            nodeName: VIEW_FACT_SETTLED_TRANSACTIONS
          - locationName: DATAVAULT_INFORMATION_MART
            nodeName: DIM_MERCHANT
        join:
          joinCondition: FROM {{ ref('DATAVAULT_BUSINESS_VAULT','VIEW_FACT_SETTLED_TRANSACTIONS') }}
        name: STAGE_FACT_SETTLED_TRANSACTIONS_TEST
        noLinkRefs: []
  name: STAGE_FACT_SETTLED_TRANSACTIONS_TEST
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
