fileVersion: 1
id: 5eeb5736-faed-419e-90e6-78a74e4ce209
name: STAGE_FACT_SETTLED_TRANSACTIONS_TEST
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: DATAVAULT_STAGING
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d974025c-6715-45d4-8f30-f2c790703ac5
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: NUMBER(38,0)
        defaultValue: ""
        description: ""
        name: TRANSACTION_MERCHANT_INTERNAL_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c38b60f7-bbb6-4e3d-8770-c18a2f75277d
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7ac0b47b-18ca-4428-b572-92b327cf2d2c
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: NUMBER(38)
        defaultValue: ""
        description: ""
        name: DIM_DATE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: da731b4e-affd-44ba-b950-1d896612696b
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7f284e20-46d5-48d7-94d4-ed310941c79d
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        name: DIM_MERCHANT_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fc65ecc9-cc4d-4d41-8e29-93f184c69a86
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9189502f-4d11-4bdf-9b1c-19f4b48474f9
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: VARCHAR(19)
        defaultValue: ""
        description: ""
        name: TERMINAL_SERIAL_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 75d6caba-2bb4-42d1-bf8e-f60ab3fd4094
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 318fb128-dad9-4a89-8855-d743f4ae0866
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        name: DIM_CURRENCY_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 37a527fe-13c7-4d7a-a8e6-fce18a6757fb
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cd27ed2c-1062-44b7-9d48-286aa0eb9175
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: NUMBER
        defaultValue: ""
        description: ""
        name: DIM_CARD_BRAND_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 19f4e1d7-0bad-4e82-9f4e-2746f09ac3db
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f017fe3a-3f4f-4c0d-88e0-7ff9b32d7aa3
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        name: DIM_TRANSACTION_TYPE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0f320e89-3829-4f4b-af45-4a5627ad0624
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: abfd8a8c-82c8-4c36-b469-debabde4eec8
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: NUMBER(38)
        defaultValue: ""
        description: ""
        name: MONTH_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c675de27-1d3e-441f-a4a3-e909cb7a7ffa
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dfeb327e-0f34-46d6-8b61-df9612d65655
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: NUMBER(18,0)
        defaultValue: ""
        description: ""
        name: DIM_PRODUCT_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cc2ceb6a-ebc0-4ed9-9b44-3c5d5a9aaab8
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 219f61e9-cc96-4319-a131-c3ceb7cfb6aa
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: RECID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 00ef014a-3ef4-4600-8bd6-92d5fe4edbe8
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8f40edfb-0264-4b55-9da6-0c8a78887212
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: NUMBER(38)
        defaultValue: ""
        description: ""
        name: SETTLEMENT_TRANSACTION_PROCESS_DATE_ID
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bf053d68-7327-4096-8f66-743a9d71e270
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4e2a5aa4-e25d-40d8-ac5c-e96ada8b43df
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: NUMBER(19,2)
        defaultValue: ""
        description: The total amount of the transaction expressed in the settlement currency (unsigned). This will be the amount that will be settled.
        name: SETTLEMENT_TRANSACTION_AMOUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8b291197-17e4-49fa-82c8-8a22e93b30f4
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 845a8d9f-96b5-4103-907f-4eb11c0a9c76
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: The total amount of the transaction expressed in the settlement currency (unsigned). This will be the amount that will be settled.
        name: SETTLEMENT_TRANSACTION_TOTAL_AMOUNT_CAD
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e11ead1b-8bec-43fb-b029-51808082d349
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8581fff6-5b4f-4028-bef9-5be06f806e0d
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: The unique Acquirer Reference Number of the transaction
        name: DCC_USED_INDICATOR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e5241aa7-f42a-4a28-9d26-dd0e903bdb11
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bc026d8c-532a-4745-89dd-d41db87d356a
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        name: DIM_MERCHANT_ID2
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fdc82a12-ac55-4e04-ad8d-29f1db24533b
                stepCounter: 84dffcd0-9390-473b-bb8a-2b250cfdf762
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f3da5d6f-9180-44d5-86cf-6c96cc2fdcc0
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: CONVERSION_RATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ba5cfc4f-9a76-43a4-887b-5b0c0699bed9
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: eb908493-e5d6-4f99-a515-906d1aef333d
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: FEES_AMOUNT_CAD
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5722c749-d5ab-4720-a647-11df9969dee9
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7ceea5a3-75df-41bd-b4ff-235afd83e602
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: USER_AGENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fc56593a-e837-4f25-adfb-f2b3a4610daa
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a9d55ab6-e158-42f1-b257-524cd0285913
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: VARCHAR(256)
        defaultValue: ""
        description: ""
        name: REF_URL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ec0a4d3b-0d89-49c8-8028-d5839b4d537f
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0ab70ca4-1a36-459b-bc6d-aa3a6fb25c01
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: CARD_TYPE_CODE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e3bb9f19-c906-4203-b61d-172be53e874a
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2bb7a045-6620-43fc-a8e4-04280c46358c
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: TRANSACTION_TYPE_CODE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bfa406d8-b705-4592-ac18-ca771f363140
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 63a45e3d-7cf5-4cda-883c-3d203f826f2c
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: VARCHAR(3)
        defaultValue: ""
        description: ""
        name: SETTLEMENT_CURRENCY_CODE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 12e5635d-1317-4977-878b-8f10a5669dd2
                stepCounter: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 54a90439-da0c-4e27-a574-1284294fc1c1
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was created in the data warehouse.
        isSystemCreateDate: true
        name: DSS_CREATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7597ab37-0715-4d21-b2d2-9d8568ab3d68
          stepCounter: 5eeb5736-faed-419e-90e6-78a74e4ce209
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          VIEW_FACT_SETTLED_TRANSACTIONS: c16d1ce9-d3dc-4ec8-9f4f-27a2123732c6
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DATAVAULT_BUSINESS_VAULT
            nodeName: VIEW_FACT_SETTLED_TRANSACTIONS
          - locationName: DATAVAULT_INFORMATION_MART
            nodeName: DIM_MERCHANT
        join:
          joinCondition: FROM {{ ref('DATAVAULT_BUSINESS_VAULT','VIEW_FACT_SETTLED_TRANSACTIONS') }}
        name: STAGE_FACT_SETTLED_TRANSACTIONS_TEST
        noLinkRefs: []
  name: STAGE_FACT_SETTLED_TRANSACTIONS_TEST
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
