fileVersion: 1
id: 94527cff-ab41-440e-8de3-e7da6726bc81
name: DS_SHARED_ED_ATTENDANCE
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: "Combine all source data required to build the ED Attendance Fact"
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 98e7bbf9-19d9-4ad3-9762-fc48190944fa
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Encounter unique identifier
        name: ENCOUNTER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 77e99427-5fe6-4e97-8940-b4f48534d3e9
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f105f398-1042-471d-ba39-935c000ef834
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Attendance ref no.
        isBusinessKey: true
        name: AEATT_REFNO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0b4ce3fc-9b06-4f16-961b-09e89a07736d
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 607e1d92-8895-4962-a382-8f9bf18d0d79
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: PIMS health organisation ref no
        name: HEORG_REFNO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0b0d135f-2378-46af-a734-b70da817bcf3
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d738d0ff-4a44-4a6f-8113-fe1750dbf3df
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: PIMS service point ref no
        name: SPONT_REFNO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3e9fb673-2020-4949-b948-255a77f54a4f
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e7e926bf-5c30-4064-a2df-9b2fd69159e4
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Service_Point_Code
        name: SERVICE_POINT_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 556cb63b-5b2f-42e6-834b-231c5323e462
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 91ffbce1-63b0-4fc6-accb-79ec28037c7b
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: health_org_code
        name: HEALTH_ORG_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1e837b65-a18e-4fbb-a9e4-12533669fb04
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0193af51-0c9d-40d9-9fa5-472f8d2e60f8
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Intended specialty ref no.
        name: INTENDED_SPECT_REFNO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 030df6b6-77ba-4d04-a7e9-a736e4a93ebc
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 662697ec-c773-4224-a540-21a14bd62d2b
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Referral ref no.
        name: REFRL_REFNO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c464b9e5-d7eb-45aa-bf7f-c2358b2a6bc5
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a89deb48-364c-4f53-bdc5-442e98eea59d
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Referral date and time.
        name: REFERRAL_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6924d954-18b4-44aa-a6de-0fcabdcbec43
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 50f8e45e-6bbe-4ab4-b10f-c2c21a2fabfb
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Visit date and time.
        name: ARRIVED_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9202bec5-11bd-4833-8326-4cf968fd2e2b
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7336d1a4-8c0b-4d69-aea3-ab2ed99d57ba
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time patient discharged.
        name: DEPARTED_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 92fce85f-60cc-4c42-bdaa-cedd07a813a5
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4e9e2a84-16db-47bb-a1bb-92e7d30ebd75
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Medical discharge date.
        name: MEDICAL_DISCHARGE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4e83e1ee-9673-4787-9b7e-1d45c2b1e12f
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 32018e16-9ee3-494b-b6ab-38dc3895bd62
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: discharge_destination_reference_no
        name: DISCHARGE_DESTINATION_REFERENCE_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8ff847ca-ab81-4273-a005-e4331771f7a1
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b2c7c6bf-5e4a-4ec9-b130-7a472baaa347
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: VARCHAR(25)
        defaultValue: ""
        description: Discharge destination.
        name: DISCHARGE_DESTINATION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6bc997da-a105-48c9-ac11-8fa533e0503f
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 91000b7b-f068-46df-b7be-2c4a334d77ee
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: discharge_reason_reference_no
        name: DISCHARGE_REASON_REFERENCE_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5e45c79d-39ae-4dcd-9308-934bb93e742b
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b156df08-0e30-4854-bba4-931d0fc0cff8
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: VARCHAR(25)
        defaultValue: ""
        description: Reason for discharge code
        name: DISCHARGE_REASON_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 06634be7-d15c-4f82-a4ca-6302635121e5
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6a3deb8f-3a25-4751-8212-95b137edb182
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: YN flag indicating whether patient self-discharged.
        name: SELF_DISCHARGE_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: abb11e74-897a-410f-bfd2-b0cdc99b5248
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e2beab26-6243-4755-a444-086415723d37
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: DECIMAL(10)
        defaultValue: ""
        description: ""
        name: ARMOD_REFNO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6ae9a696-220d-4683-8777-566869b662a1
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 31987dac-3d20-4035-a638-3bd5fd234123
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Attendance category ref no
        name: ATCAT_REFNO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1c685b58-e537-4a96-8960-77555b90ddf5
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f8d7a970-eb27-4711-8daf-ad9ac97a9c2b
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: VARCHAR(25)
        defaultValue: ""
        description: attendance_category code.
        name: ATTENDANCE_CATEGORY_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3b615b71-59df-4e9e-9da4-6124b816c1ba
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: adfdd7f9-db8a-4012-bd5e-53d8bf74dcd9
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: Y/N flag indicating whether this is a planned return visit.
        name: PLANNED_RETURN_VISIT_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 28db4c6e-a35b-4dce-ab72-d7ab8e8f47f6
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ccc5b70b-93b2-4083-8a6a-640bcf63f44e
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Patient ref no.
        name: PATNT_REFNO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7b8b329b-57a3-42c0-b8d9-e2789f196cf7
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2a4df437-3fd4-444d-9f8a-48fd0fe237e7
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Patient National Health Index (NMPI)
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3d43ebf7-e3ec-4774-8097-dd3dc2143801
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 27f35118-9dcf-4971-8a3e-92c55c31efab
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Patient_Date_Of_Birth
        name: PATIENT_DATE_OF_BIRTH
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f73c69d3-f37c-4aa4-9267-226eb3d6149c
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9953158b-3969-40a6-aaba-022c192d5ce7
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: NVARCHAR(30)
        defaultValue: ""
        description: ""
        name: DOMICILE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 42f1c104-0a0c-4b5e-9385-0970390acd4f
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6894a960-4b85-4ac3-8b77-c4bd4dcb2031
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: patient_age_on_arrival_years
        name: PATIENT_AGE_ON_ARRIVAL_YEARS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5df147c0-3c53-404f-ba6e-3dc28bcab084
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ec05f7c5-f602-4bf4-b814-e6b5bb95b71f
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: patient_age_on_arrival_months
        name: PATIENT_AGE_ON_ARRIVAL_MONTHS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b650e703-ac2e-4304-ac19-325472f51f1a
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 84c63b0a-4b04-4cbd-88d1-fd5535971698
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: patient_visit_num
        name: PATIENT_VISIT_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6b393a2e-0879-4185-8815-2a53f96be07a
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4626c56b-2c1b-4ac2-8b22-646265b31c6d
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: patient_visit_count
        name: PATIENT_VISIT_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 40528882-a89f-4db1-8532-83981d9d83fa
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2040732b-30a6-4967-9684-d0565f6f4b79
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: CREATE_DTTM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 31f8df92-c116-4401-a1dd-fcc177d3cdc3
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 550d8577-9040-4bdb-b6fd-5386704a08b0
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: ""
        name: USER_CREATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2ad95b25-5d9f-4687-830e-316c75a61b00
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0af3e531-c057-445b-9e6a-87a64f3b4547
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: MODIF_DTTM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 02d36cc6-740b-4321-8173-179bda70a4c2
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 899d6141-3a92-4863-9440-2bbfdacea541
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: ""
        name: USER_MODIF
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0c5b286f-bdba-41ff-8938-5b09ca5367b2
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c2ef785c-5d49-4249-80f2-fd340593073b
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: ""
        name: NURSE_SEEN_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 74190e44-8392-4264-9ed6-586436641c62
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9a89ce6d-3364-4983-8aee-4f640fe6733c
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: NURSE_SEEN_DTTM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 07dbe8df-239b-4f94-924c-6238ed8ad5c4
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 19db2258-194b-49e3-b2a6-c5c14d37a95c
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: DECIMAL(10)
        defaultValue: ""
        description: ""
        name: NEREF_REFNO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fd308b41-816b-4693-9c33-0578276dd633
                stepCounter: a897fff0-7b74-4ac0-a946-ac1ae26faebc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 52131d11-59bf-4611-ada0-39abd05f9d21
          stepCounter: 94527cff-ab41-440e-8de3-e7da6726bc81
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          S_SHARED_ED_ATTENDANCE_05: a897fff0-7b74-4ac0-a946-ac1ae26faebc
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_SHARED_ED_ATTENDANCE_05
        join:
          joinCondition: FROM {{ ref('TGT','S_SHARED_ED_ATTENDANCE_05') }} s_shared_ed_attendance_05
        name: DS_SHARED_ED_ATTENDANCE
        noLinkRefs: []
  name: DS_SHARED_ED_ATTENDANCE
  overrideSQL: false
  schema: ""
  sqlType: '38'
  type: sql
  version: 1
type: Node
