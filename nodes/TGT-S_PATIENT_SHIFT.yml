fileVersion: 1
id: bddb1fa8-6d5d-4901-91d7-38a0454cd0e8
name: S_PATIENT_SHIFT
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 46dc6459-84fe-417a-85c1-1bb4760c638a
          stepCounter: bddb1fa8-6d5d-4901-91d7-38a0454cd0e8
        config: {}
        dataType: INT
        defaultValue: ""
        description: Unique identifies each patient shift row.
        name: PATIENT_SHIFT_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 79001a49-fdfe-46b0-b59c-6c9e7c22abde
                stepCounter: c1b3f6f5-d921-4f6a-955f-82b950660b66
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 952f8b4a-a9a7-475c-a30a-dbbcadb6d710
          stepCounter: bddb1fa8-6d5d-4901-91d7-38a0454cd0e8
        config: {}
        dataType: NVARCHAR(12)
        defaultValue: ""
        description: ""
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 74d026f5-2020-45bf-bbb7-c58adcb62444
                stepCounter: c1b3f6f5-d921-4f6a-955f-82b950660b66
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f1c45bb4-53e8-4f68-99fe-a9d53a656d7c
          stepCounter: bddb1fa8-6d5d-4901-91d7-38a0454cd0e8
        config: {}
        dataType: NVARCHAR(12)
        defaultValue: ""
        description: ""
        name: EVENT_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 93140b7e-3f80-423a-868e-d33ce0420406
                stepCounter: c1b3f6f5-d921-4f6a-955f-82b950660b66
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8f5f344d-2a66-4fd4-9d67-7e8b4de19f98
          stepCounter: bddb1fa8-6d5d-4901-91d7-38a0454cd0e8
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        name: SHIFT_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2b77bd7a-4fcf-48ab-9cd3-ed4400fb8411
                stepCounter: c1b3f6f5-d921-4f6a-955f-82b950660b66
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2ec8e8c0-e4f2-4704-a5bc-4f74a1cc14c6
          stepCounter: bddb1fa8-6d5d-4901-91d7-38a0454cd0e8
        config: {}
        dataType: NVARCHAR(1)
        defaultValue: ""
        description: ""
        name: SHIFT_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 41df6f60-0ac4-43f0-88f8-62e9698df41c
                stepCounter: c1b3f6f5-d921-4f6a-955f-82b950660b66
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 59c901a5-f712-48f3-bcac-c0e67a029207
          stepCounter: bddb1fa8-6d5d-4901-91d7-38a0454cd0e8
        config: {}
        dataType: NUMERIC(10,5)
        defaultValue: ""
        description: ""
        name: SHIFT_START_TIME_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c7ada90d-bde1-4055-9e50-b1bce8e0ef43
                stepCounter: c1b3f6f5-d921-4f6a-955f-82b950660b66
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6a9a6277-c3d3-45af-a1cb-56f4dc968f61
          stepCounter: bddb1fa8-6d5d-4901-91d7-38a0454cd0e8
        config: {}
        dataType: NUMERIC(10,5)
        defaultValue: ""
        description: ""
        name: SHIFT_LENGTH_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 57728431-08cb-48fd-bf99-7b7de84e3d2b
                stepCounter: c1b3f6f5-d921-4f6a-955f-82b950660b66
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5f3cd8dc-d553-409c-9646-592c09f607b2
          stepCounter: bddb1fa8-6d5d-4901-91d7-38a0454cd0e8
        config: {}
        dataType: NVARCHAR(3)
        defaultValue: ""
        description: ""
        name: WARD_CODE_TRENDCARE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 40cbacaf-ed82-47c1-8f75-33176b0642ba
                stepCounter: c1b3f6f5-d921-4f6a-955f-82b950660b66
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 49f9bc5b-4dfb-4503-a10f-b9483e960647
          stepCounter: bddb1fa8-6d5d-4901-91d7-38a0454cd0e8
        config: {}
        dataType: NVARCHAR(5)
        defaultValue: ""
        description: ""
        name: BED_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 455de298-2147-4f65-b55a-4a330d15a809
                stepCounter: c1b3f6f5-d921-4f6a-955f-82b950660b66
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2127d439-2732-4b00-b6cf-e199bf2bf4b9
          stepCounter: bddb1fa8-6d5d-4901-91d7-38a0454cd0e8
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: ACUITY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 47d93530-fd85-4ee4-a28b-92c199d44bb5
                stepCounter: c1b3f6f5-d921-4f6a-955f-82b950660b66
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f67b1997-e3ab-47c0-9603-398ec6ab9a4c
          stepCounter: bddb1fa8-6d5d-4901-91d7-38a0454cd0e8
        config: {}
        dataType: INT
        defaultValue: ""
        description: Generated artificial key
        name: DIM_PATIENT_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9962a01b-5f3d-4c1a-b371-997edef38d0f
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: IFNULL(dim_patient.dim_patient_key, 0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bb69e9f0-4223-4769-80ce-6138d139bf64
          stepCounter: bddb1fa8-6d5d-4901-91d7-38a0454cd0e8
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_patient_shift.shift_date=dim_shift_date.shift_date
        name: DIM_SHIFT_DATE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cb31e2af-1aa3-4fca-9c4c-bf46baf49ccc
                stepCounter: 0de1de98-baa4-467a-bd1f-b588439ad5c2
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 52b54c50-e589-40d4-9629-909809433c49
          stepCounter: bddb1fa8-6d5d-4901-91d7-38a0454cd0e8
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_patient_shift.ward_code=dim_ward.ward_code
        name: DIM_WARD_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d31838a1-aaff-4b64-aeea-8897644a9063
                stepCounter: c1b3f6f5-d921-4f6a-955f-82b950660b66
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 755dec6f-5387-42dd-9274-523a3077e55a
          stepCounter: bddb1fa8-6d5d-4901-91d7-38a0454cd0e8
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_patient_shift.ward_code_trendcare=dim_ward_shift.trendcare_ward_code  s_patient_shift.shift_code=dim_ward_shift.shift_code  s_patient_shift.shift_start_time_num=dim_ward_shift.shift_start_time_num  s_patient_shift.shift_length_num=dim_ward_shift.shift_length_num
        name: DIM_WARD_SHIFT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a5a8484b-f571-48ee-a895-e7f36f1ef0e3
                stepCounter: c7b9919b-23c1-4a21-8d4b-b6c7eb4647bd
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 57941351-cff1-412e-b781-2dc93fd26cbc
          stepCounter: bddb1fa8-6d5d-4901-91d7-38a0454cd0e8
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_patient_shift.ward_code_trendcare=dim_ward_trendcare.ward_code_trendcare
        name: DIM_WARD_TRENDCARE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 17dede82-d4b5-4d73-843e-d9a24dbec0a2
                stepCounter: 7cf2c591-4306-485b-a3da-931cd7460e13
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 072929ed-d7ac-42ce-ada8-4d09bd571e3d
          stepCounter: bddb1fa8-6d5d-4901-91d7-38a0454cd0e8
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          S_PATIENT_SHIFT_10: c1b3f6f5-d921-4f6a-955f-82b950660b66
          DIM_PATIENT: d52dd438-7899-4242-9e38-539d2a1447df
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_PATIENT_SHIFT_10
          - locationName: TGT
            nodeName: DIM_PATIENT
        join:
          joinCondition: |-
            FROM {{ ref('TGT','S_PATIENT_SHIFT_10') }} s_patient_shift_10
              LEFT OUTER JOIN {{ ref('TGT','DIM_PATIENT') }} dim_patient
                ON dim_patient.patient_NHI = s_patient_shift_10.patient_NHI
               AND dim_patient.NHI_sequence = 1
        name: S_PATIENT_SHIFT
        noLinkRefs: []
  name: S_PATIENT_SHIFT
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
