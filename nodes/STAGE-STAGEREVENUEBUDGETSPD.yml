fileVersion: 1
id: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
name: STAGEREVENUEBUDGETSPD
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: "SEE NOTES"
  isMultisource: false
  locationName: STAGE
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b955a5b0-b573-4731-afc5-a12190fdb803
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: STAGECONTRACT_ADDKEYS.SUPPLIERID=SUPPLIER.SUPPLIERID
        name: SUPPLIERKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4ddcfa98-9457-429a-934c-5d263e6bb527
                stepCounter: 930a330f-3276-4f21-bd05-9ed55fd63528
            transform: IFNULL(CONTRACT.SUPPLIERKEY,0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 358d1c2f-cbbe-4648-b74e-64ab59461b12
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: SUPPLIERID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e720d4e6-cec9-4e42-a4b7-e293f66612b1
                stepCounter: 930a330f-3276-4f21-bd05-9ed55fd63528
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6dfebfa1-0507-4bda-9b14-30cd554faaaa
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: IS THE NAME OF A SUPPLIER WHO OWNS A CONTRACT, AS IT EXISTS FROM THE SOURCE SYSTEM. YOU PROBABLY WANT TO USE REPORTINGSUPPLIERNAME INSTEAD.
        name: SUPPLIERNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f50c6b22-26f9-48a3-87d3-a5cbd15e3146
                stepCounter: 46ab7310-f206-4d38-93fc-0dcfb497301d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a556eaac-f3e0-4e52-8ffe-7e54ceb02f4a
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: IS THE PREFERRED, CLEANED UP NAME OF THE SUPPLIER. THIS IS THE ONE YOU WANT TO USE FOR REPORTS
        name: REPORTINGSUPPLIERNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 31c1b4fe-3d3b-4797-a3f6-bcbe9f79c947
                stepCounter: 46ab7310-f206-4d38-93fc-0dcfb497301d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 33521eda-612b-477e-944b-51f242f1449b
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: PD_VP
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 48f485b3-af12-470a-acf7-4958f84a6ab0
                stepCounter: 46ab7310-f206-4d38-93fc-0dcfb497301d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 77b2ba6f-aefc-43b7-8a1d-f8ad24af5720
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: PD_DIRECTOR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 83871044-1730-4cfe-b632-0f3239943709
                stepCounter: 46ab7310-f206-4d38-93fc-0dcfb497301d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 05efe0b9-206a-4a40-86f1-d26cb3247a29
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: GENERATED ARTIFICIAL KEY
        name: CONTRACTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 012a8445-b992-4874-a802-ad1b6196a28d
                stepCounter: 930a330f-3276-4f21-bd05-9ed55fd63528
            transform: IFNULL(CONTRACT.CONTRACTKEY,-1)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e5fe996a-b64d-405b-998d-a8b0a558094f
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: CONTRACTID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dacaff40-c7ea-42e4-af66-9cf198a070e6
                stepCounter: c53d2b14-afd1-42c0-bb03-86f754c7425f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 03dec3c1-684b-46ed-81a4-c2d08b082bd5
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: INT
        defaultValue: ""
        description: STAGEREVENUEBUDGETSPD.BUDGETDATE=DIMBUDGETDATE.BUDGETDATE
        name: BUDGETDATEKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e7b85210-6802-44d7-b3cd-d4123f77ad4e
                stepCounter: 64797b99-919d-44e8-9897-e768b1d377bc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8f8f0ed6-c80d-4be1-8c37-9ee07764aea1
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: BUDGETDATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 387d2854-60fb-40d9-ae7e-022d7dd56e06
                stepCounter: c53d2b14-afd1-42c0-bb03-86f754c7425f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4ecfe7d6-1b55-4895-a97f-8e923ca38fc5
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: BUDGETSALESAMOUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6feae6b4-e43b-4213-94fd-f37d9883492c
                stepCounter: c53d2b14-afd1-42c0-bb03-86f754c7425f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c6ed9e96-7084-4e63-a435-a72d2a97af8a
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: BUDGETREVENUEAMOUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: abc44c79-89ca-413f-aff7-7fc167568ce4
                stepCounter: c53d2b14-afd1-42c0-bb03-86f754c7425f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 59faf202-b37a-4dd7-bcc8-42048706c8dc
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: BUDGETSALESAMOUNTBOARD
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ea9342ea-f8e3-4aff-939e-b14a7f89be1a
                stepCounter: c53d2b14-afd1-42c0-bb03-86f754c7425f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1572fa1e-13eb-4003-851c-690f9cd6246b
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: BUDGETREVENUEAMOUNTBOARD
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5004c154-97ba-4300-bc23-8cb25a76dd1b
                stepCounter: c53d2b14-afd1-42c0-bb03-86f754c7425f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f6dc68c7-f229-4c3e-b84c-15e00578915f
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: BUDGETSALESAMOUNTMODEL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7d1a9284-4383-4103-b670-4985a7cd127c
                stepCounter: c53d2b14-afd1-42c0-bb03-86f754c7425f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d4e75051-3d0c-44d4-9bce-d64f680525e5
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: BUDGETREVENUEAMOUNTMODEL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 37c5b90a-a8ea-447d-9436-9202f63de615
                stepCounter: c53d2b14-afd1-42c0-bb03-86f754c7425f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8e4d9760-b2a3-4711-a4c2-c774ae680dd8
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: RECORD SOURCE.
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3a984298-c9b4-4b98-8000-430a114ce6f4
                stepCounter: c53d2b14-afd1-42c0-bb03-86f754c7425f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7dc0cd57-358c-46ea-b62c-9e46f6836b2d
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: LOAD DATE.
        name: DSS_LOAD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2cc2a2c9-9fd8-4121-8661-3a6c42652e52
                stepCounter: c53d2b14-afd1-42c0-bb03-86f754c7425f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6ebf6acc-bd56-40cd-a186-e3919e752bcd
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: DATE AND TIME THE ROW WAS CREATED IN THE DATA WAREHOUSE.
        name: DSSCREATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8a19c6bd-f1c7-42bb-92f3-40c4bdee4eac
          stepCounter: d8b3c851-83e3-4deb-abe1-c76029a1dbf7
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: DATE AND TIME THE ROW WAS UPDATED IN THE DATA WAREHOUSE.
        name: DSSUPDATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          LOADREVENUEBUDGETSPD_ALL: c53d2b14-afd1-42c0-bb03-86f754c7425f
          CONTRACT: 930a330f-3276-4f21-bd05-9ed55fd63528
          SUPPLIER: 46ab7310-f206-4d38-93fc-0dcfb497301d
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DIM
            nodeName: CONTRACT
          - locationName: DIM
            nodeName: DIMBUDGETDATE
          - locationName: DIM
            nodeName: SUPPLIER
          - locationName: LOAD
            nodeName: LOADREVENUEBUDGETSPD_ALL
        join:
          joinCondition: |-
            FROM {{ ref('LOAD','LOADREVENUEBUDGETSPD_ALL') }} LOADREVENUEBUDGETSPD_ALL
              LEFT JOIN {{ ref('DIM','CONTRACT') }} CONTRACT
                ON LOADREVENUEBUDGETSPD_ALL.CONTRACTID = CONTRACT.CONTRACTID
              LEFT JOIN {{ ref('DIM','SUPPLIER') }} SUPPLIER
                ON CONTRACT.SUPPLIERKEY = SUPPLIER.SUPPLIERKEY
        name: STAGEREVENUEBUDGETSPD
        noLinkRefs: []
  name: STAGEREVENUEBUDGETSPD
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
