fileVersion: 1
id: a64fcaaf-5866-4b21-9512-c581341b3d5d
name: STAGEREVENUEBUDGETSPD
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: "SEE NOTES"
  isMultisource: false
  locationName: STAGE
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 683dd0ff-70ee-4d37-b478-5c3cb9141731
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: STAGECONTRACT_ADDKEYS.SUPPLIERID=SUPPLIER.SUPPLIERID
        name: SUPPLIERKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 63de3923-ac93-4f74-bdaf-fba1a1c87ff6
                stepCounter: 59cadb79-2e03-4a1c-9c6e-7e6588e89674
            transform: IFNULL(CONTRACT.SUPPLIERKEY,0)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ff1681e4-45aa-4eab-b5a5-a6cfcf596a17
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: SUPPLIERID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 02728bac-9bb3-4dc7-a7c5-c7c3f1b083d3
                stepCounter: 59cadb79-2e03-4a1c-9c6e-7e6588e89674
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8d5331df-205c-4e96-b086-c21d0526995d
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: IS THE NAME OF A SUPPLIER WHO OWNS A CONTRACT, AS IT EXISTS FROM THE SOURCE SYSTEM. YOU PROBABLY WANT TO USE REPORTINGSUPPLIERNAME INSTEAD.
        name: SUPPLIERNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7ea48c1b-c631-424b-8736-a19579a43b89
                stepCounter: f82e9572-e5ea-45e1-991d-83ad35997403
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 31b30688-1516-46b0-bba2-03ed74016d6b
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: IS THE PREFERRED, CLEANED UP NAME OF THE SUPPLIER. THIS IS THE ONE YOU WANT TO USE FOR REPORTS
        name: REPORTINGSUPPLIERNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 420f43fd-4935-4703-8b0c-a99c9f011eec
                stepCounter: f82e9572-e5ea-45e1-991d-83ad35997403
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f8fb998b-78af-4180-a14f-01567a3e73e3
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: PD_VP
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3c4fb371-2991-4be1-970b-939e344fe3e2
                stepCounter: f82e9572-e5ea-45e1-991d-83ad35997403
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c9b6482b-e419-4f57-8f64-5d70e44d55ad
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: PD_DIRECTOR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0ca5c97d-cd75-4391-a24b-d0480a11f374
                stepCounter: f82e9572-e5ea-45e1-991d-83ad35997403
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 526df58d-a624-42d9-b63d-8b62f45d587e
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: GENERATED ARTIFICIAL KEY
        name: CONTRACTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9eecd6c8-6720-4938-83f9-9ebbd7c72ec7
                stepCounter: 59cadb79-2e03-4a1c-9c6e-7e6588e89674
            transform: IFNULL(CONTRACT.CONTRACTKEY,-1)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ed1884d5-5636-4e76-9423-a3885d8b3cd9
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: CONTRACTID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: da2b3ce6-986a-40d3-8379-ee2a273b9319
                stepCounter: c03f2381-729c-4dc4-a1ce-708a754d7be9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a0b66535-f3d6-499f-92bb-80af05d7e775
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: INT
        defaultValue: ""
        description: STAGEREVENUEBUDGETSPD.BUDGETDATE=DIMBUDGETDATE.BUDGETDATE
        name: BUDGETDATEKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c42f4c59-0fc8-49d9-82dd-50d19823c0b6
                stepCounter: a902137c-8d54-45f8-853b-239442cd36bb
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f55c86d1-f488-43fb-a178-d989fb34f6ee
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: DATE
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: BUDGETDATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b88aae96-0ccf-41ae-969d-03c46028a739
                stepCounter: c03f2381-729c-4dc4-a1ce-708a754d7be9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 02968f86-288c-4eec-be4c-23695fdc32fc
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: BUDGETSALESAMOUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f903053f-4dbf-412c-a2e9-795e52fd41fe
                stepCounter: c03f2381-729c-4dc4-a1ce-708a754d7be9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 34f38acb-c0ed-4e4f-a99a-d3058dfef919
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: BUDGETREVENUEAMOUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 765f762f-9583-4ae1-8bb4-59a27dfe34d4
                stepCounter: c03f2381-729c-4dc4-a1ce-708a754d7be9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2d5d5214-9b7e-4cc3-855f-849c3f12a731
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: BUDGETSALESAMOUNTBOARD
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 248d415b-72cb-4c75-888e-3857eb80b436
                stepCounter: c03f2381-729c-4dc4-a1ce-708a754d7be9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8bee777d-a654-4d40-9a62-81df4cf36901
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: BUDGETREVENUEAMOUNTBOARD
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8c6dd7f9-7fdf-44e1-aa93-3057da062f92
                stepCounter: c03f2381-729c-4dc4-a1ce-708a754d7be9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bf16b1b7-6d45-4a96-bc91-23b5bcb4e5bc
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: BUDGETSALESAMOUNTMODEL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 99c41601-c2da-4373-adaf-21eab5c6b3f5
                stepCounter: c03f2381-729c-4dc4-a1ce-708a754d7be9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b5197ddd-5ff3-4693-b622-10baeadbe59e
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: FLOAT
        defaultValue: ""
        description: ""
        name: BUDGETREVENUEAMOUNTMODEL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 57f3dc3a-d446-4535-ab70-8ff0a6b9d416
                stepCounter: c03f2381-729c-4dc4-a1ce-708a754d7be9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bf7ed5e8-93b0-4ece-b451-58292e0284e9
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: RECORD SOURCE.
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a473b6db-9be7-4160-b34a-9ffdab849581
                stepCounter: c03f2381-729c-4dc4-a1ce-708a754d7be9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8a39242d-b12b-4374-99f6-16b5bc5a2ee3
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: LOAD DATE.
        name: DSS_LOAD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4da3b7d1-28aa-49b9-b3b9-69cbb0abbea5
                stepCounter: c03f2381-729c-4dc4-a1ce-708a754d7be9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6be9fdf7-7b31-4cd1-96e0-91d604b306e7
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: DATE AND TIME THE ROW WAS CREATED IN THE DATA WAREHOUSE.
        name: DSSCREATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b8b54783-b812-4693-97c7-0d5799eae5b1
          stepCounter: a64fcaaf-5866-4b21-9512-c581341b3d5d
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: DATE AND TIME THE ROW WAS UPDATED IN THE DATA WAREHOUSE.
        name: DSSUPDATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          LOADREVENUEBUDGETSPD_ALL: c03f2381-729c-4dc4-a1ce-708a754d7be9
          CONTRACT: 59cadb79-2e03-4a1c-9c6e-7e6588e89674
          SUPPLIER: f82e9572-e5ea-45e1-991d-83ad35997403
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DIM
            nodeName: CONTRACT
          - locationName: DIM
            nodeName: DIMBUDGETDATE
          - locationName: DIM
            nodeName: SUPPLIER
          - locationName: LOAD
            nodeName: LOADREVENUEBUDGETSPD_ALL
        join:
          joinCondition: |-
            FROM {{ ref('LOAD','LOADREVENUEBUDGETSPD_ALL') }} LOADREVENUEBUDGETSPD_ALL
              LEFT JOIN {{ ref('DIM','CONTRACT') }} CONTRACT
                ON LOADREVENUEBUDGETSPD_ALL.CONTRACTID = CONTRACT.CONTRACTID
              LEFT JOIN {{ ref('DIM','SUPPLIER') }} SUPPLIER
                ON CONTRACT.SUPPLIERKEY = SUPPLIER.SUPPLIERKEY
        name: STAGEREVENUEBUDGETSPD
        noLinkRefs: []
  name: STAGEREVENUEBUDGETSPD
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
