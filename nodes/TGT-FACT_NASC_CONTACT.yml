fileVersion: 1
id: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
name: FACT_NASC_CONTACT
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 116288db-61bc-4667-bf48-0d60f829be9c
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: INTEGER IDENTITY(1,1)
        defaultValue: ""
        description: ""
        name: FACT_NASC_CONTACT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 379090eb-0154-4da1-a1bf-8d06ec7955d1
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: CONTACT_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 33959fb6-e6d0-45e2-8fa4-82a88f9bd730
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bab49bf4-a4c6-4b0e-b108-d3f86dd21a13
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: ""
        name: CONTACT_ENCOUNTER_TYPE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a2c0f395-972d-4dd0-8878-242dbcfaac29
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 662c4b87-9812-4382-bf8f-25eb063f6dd1
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_contact_NASC_20.contact_encounter_type_code=dim_encounter_type.encounter_type_code
        name: DIM_ENCOUNTER_TYPE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d3ba8df3-db2e-40a1-97dc-d5ad6a5186a7
                stepCounter: 1d0ea6a1-9563-4fb3-a1fa-9d43dbdf296e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d8d0924e-a990-4d31-8f74-765c07db8b23
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: BIGINT
        defaultValue: ""
        description: ""
        name: PROGRAMME_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8ff69660-9a16-4177-8754-78e29964cb70
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 26f844be-c59b-44c5-9a5f-136045b4de4c
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: patient_programme_status
        name: PROGRAMME_STATUS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1921aba5-9336-4e0b-a617-dbb09445cd9b
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ece92c65-0db9-4e09-8af4-68bc54f6c4b1
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: ""
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 65b6a3cc-86dd-4a67-8886-1e0782ebde46
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e16b0bf0-2174-4d3d-8c04-67bd820eff6f
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: Generated artificial key
        name: DIM_PATIENT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9962a01b-5f3d-4c1a-b371-997edef38d0f
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 824578b6-2cb1-4272-b920-bf6da48202a0
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_contact_NASC_20.patient_agege_at_contact_years=dim_age_group.age_years
        name: DIM_AGE_GROUP_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 18bfabd7-19aa-4de0-9ce7-aa560645bce6
                stepCounter: 3d5ba8a8-80ec-4848-b58a-d31b34cc53ed
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 84411174-bc8f-43c1-9361-cd67dc729464
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_contact_NASC_20.domicile_code=dim_domicile.domicile_code
        name: DIM_DOMICILE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4e049fc8-a2a3-4bad-9b91-11b9d158b35e
                stepCounter: 330ad0aa-b8b1-4da9-ab37-b4fe8f889452
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d063171f-e513-4f39-8cf2-395c4627dfc9
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: ""
        name: TASK_TYPE_DESC
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e8b9a745-dc6e-41a8-9956-ce9cb0f65b4f
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 86584ff0-b423-49f5-aa4f-50f2afb12236
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_contact_NASC_20.health_org_reference_no=dim_health_organisation.health_org_reference_no
        name: DIM_HEALTH_ORG_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 78290bb6-3cd5-4503-8179-d1f65525ba15
                stepCounter: 0790fdf4-e815-4587-a9cd-954ea13f53c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 05fb9276-3e2d-4034-93d8-7e11ca110595
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_contact_NASC_20.seen_by_clinician_reference_no=dim_seen_by_clinician.seen_by_clinician_reference_no
        name: DIM_SEEN_BY_CLINICIAN_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b6980c5e-497d-45d3-854e-f5d17228ad86
                stepCounter: 293e84bb-0ad7-4a27-96ab-0a0cb38c50c5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7e6f95a1-3083-4b3b-bbb0-c134dbce8d53
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: REFERRAL_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 17d1d4dc-379f-4da3-b9c7-d5d9d016dc33
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 34142be9-4150-421b-a812-763162de2983
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_contact_NASC_20.provider_id=dim_provider_community.provider_id
        name: DIM_PROVIDER_COMMUNITY_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 81b90d7a-0e1c-4ff6-a2e5-e32763dfcbcd
                stepCounter: fe333361-f763-4fd4-b86e-f42e95e81344
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6445b91b-2353-4cd4-8f5f-e930b439cdb7
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_contact_NASC_20.programme_role_code=dim_role_community.role_code
        name: DIM_ROLE_COMMUNITY_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: acff4fff-07f1-43da-966d-53a96d429471
                stepCounter: ab48ab83-7613-4d28-acbd-ba81b413fe84
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fb7b2fdc-7562-490a-be18-5f414c16e533
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_contact_NASC_20.purchase_unit_code=dim_purchase_unit.purchase_unit_code
        name: DIM_PURCHASE_UNIT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2d9c041f-76d6-44c7-8d88-936673dfd7a0
                stepCounter: d198650d-0f77-489d-92ec-0c0257cd5a43
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6c476984-39bf-4ab8-be2d-19634ef66e1f
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_contact_NASC_20.responsibility_centre_code=dim_responsibility_centre.responsibility_centre_code  s_contact_NASC_20.'01'=dim_responsibility_centre.company_code
        name: DIM_RESPONSIBILITY_CENTRE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7c9a966f-0750-4c8b-a92a-a034376ca161
                stepCounter: a84cf165-8cc6-4510-8bae-53366e2d4ff7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cb101c7b-94d4-4865-ad51-372cea0445f3
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: PURCHASE_UNIT_VOLUME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 18c1a0bb-fc2f-4b1b-adbc-b5583ca1b660
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6cecbeed-812b-42de-bc4b-cf8a9bdaf243
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: TASK_REQUEST_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8744bb6b-657d-4ca5-9909-ee021c447325
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6b54b197-775a-47a0-9f56-11713e0f8ac4
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_contact_NASC_20.CONVERT(date,s_contact_NASC_10.task_request_date)=dim_request_date.request_calendar_date
        name: DIM_REQUEST_DATE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 776fe4b8-0bb6-494d-a530-7fae3de7a539
                stepCounter: d1b797ef-4926-45af-a745-f75c3ed18b1f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1341ad71-6c23-4a25-ab50-399248604cb3
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: EPISODE_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 06e9b2ab-5172-43dd-97fb-b71d9d299a08
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d8b30283-a721-405d-90d4-32efe29adda6
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: OBSERVATION_REPORT_DUE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 872f23eb-552a-435a-8e31-d070f4117910
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 78a6d46d-55f3-42b0-bdf0-462e8b6315ac
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: OBSERVATION_REPORT_COMPLETION_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dab9c6fd-d330-4e44-8443-d36916e73c76
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2f2d0381-5685-4f32-b3d5-d883d83bd04a
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: OBSERVATION_REPORT_STATUS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fe906f07-8b34-49c8-b6b6-0923a7eac5ad
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 586539dc-e28a-41c8-a27d-2a36b97e9668
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: ""
        name: FIRST_CONTACT_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a1c67b54-b87a-4238-ac6e-99dd50dbafb1
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: caaa6dcd-3022-474d-b340-8beef96e2996
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: ""
        name: CURRENT_CONTACT_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e4b64ff7-de44-4ebe-b19f-a39f30f70ea8
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 73764dab-b1d7-4e0b-a286-aa39b71dd33e
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: PATIENT_CONTACT_SEQ_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: aeeeec49-ec1e-4d9d-a7f7-9d06edec52dc
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c951ed6b-0f52-4484-bbba-b193ee2cf34a
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: PATIENT_CONTACT_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a6ad81b2-3c6a-4f5c-b958-6b3f21030951
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b0d04c7a-285f-4b63-a36a-7a3885265e82
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: REFERRAL_CONTACT_SEQ_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0e91be53-d91c-46ce-8393-610b545229a3
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 727313dd-afb3-4a98-9bf2-8eba1125534d
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: REFERRAL_CONTACT_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f43a4297-22f2-4357-b3a5-72b818550de2
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 846605f2-c91a-4ab4-bf89-7f15fd7478f9
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: CREATE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8c229da4-4753-4137-a552-7f115a22df9c
                stepCounter: ffe7ae31-a9ff-4d91-9ff8-82716489f35c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a95cd68c-a55a-4e51-b397-3607bce1c77e
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_contact_NASC_20.create_user_login_name=dim_user_login_concerto.user_name
        name: DIM_USER_LOGIN_CONCERTO_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 16f2ac98-6185-439c-9a15-757698e43d58
                stepCounter: 4bf64241-1d0b-4a30-8919-350bb5d33ed1
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 33343983-d88d-4fad-907a-19a9e3c5a1ec
          stepCounter: a9ec1adb-33de-45de-b791-1b2b0d8d0d9c
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies: []
        join:
          joinCondition: ""
        name: FACT_NASC_CONTACT
        noLinkRefs: []
  name: FACT_NASC_CONTACT
  overrideSQL: false
  schema: ""
  sqlType: Fact
  type: sql
  version: 1
type: Node
