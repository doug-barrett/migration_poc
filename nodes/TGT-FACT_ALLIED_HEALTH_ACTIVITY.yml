fileVersion: 1
id: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
name: FACT_ALLIED_HEALTH_ACTIVITY
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: "Details of each Allied Health activity. Rows are uniquely defined by allied_health_id, shift_date, discipline_code, user_code, activity_code, activity_rating_code, activity_number."
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8e74d5d5-4400-47d0-b367-b30325c8f2ec
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Unique key that identifies an Activity row.
        name: FACT_ALLIED_HEALTH_ACTIVITY_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e6c3869e-f8c8-448d-90d4-5d37859ad33a
                stepCounter: 9c06ca24-7562-490a-86bf-fbe1b7dd192a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dc9521dd-7c6a-4423-b13c-1d16d861a37a
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: VARCHAR(9)
        defaultValue: ""
        description: Id that uniquely identifies the encounter in Allied Health.
        name: ALLIED_HEALTH_ID
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6f16a06e-7ddc-481c-9bd0-420c20b52a7c
                stepCounter: 9c06ca24-7562-490a-86bf-fbe1b7dd192a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: efd28b89-9804-4a55-a92d-5493b5c73044
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: VARCHAR(12)
        defaultValue: ""
        description: Unique business identifier for inpatient event.
        name: EVENT_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bff18fde-d151-461c-a38c-2e5cf6d9b1af
                stepCounter: 9c06ca24-7562-490a-86bf-fbe1b7dd192a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cb4d9e61-cbe5-4b96-96c9-014f488ca54e
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Patient NHI number.
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0c39ab68-e6b4-4e49-a973-81e7502dbe22
                stepCounter: 9c06ca24-7562-490a-86bf-fbe1b7dd192a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 66771c6b-2e8b-46c4-8417-717ba396f030
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: DATE
        defaultValue: ""
        description: Date when the Allied Health shift occurred.
        name: SHIFT_DATE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0b06b01c-f0ea-437c-bdfd-594d5e184a2e
                stepCounter: 9c06ca24-7562-490a-86bf-fbe1b7dd192a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 877af39b-a180-4036-a92f-41542cce532e
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: SMALLINT
        defaultValue: ""
        description: Numbers rows for each encounter ordered by shift date, discipline code and activity desc.
        name: ENCOUNTER_SEQ_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3d0a5ef3-10b3-48b6-b90f-d611af62fd78
                stepCounter: 9c06ca24-7562-490a-86bf-fbe1b7dd192a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d235db3d-057c-48bc-a180-bac8886cbbf8
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: SMALLINT
        defaultValue: ""
        description: Numbers rows for each encounter in descending shift date, discipline code, activity desc order.
        name: ENCOUNTER_SEQ_NUM_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: af16f912-aaca-4fe7-8ffc-990fa5da2c40
                stepCounter: 9c06ca24-7562-490a-86bf-fbe1b7dd192a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 85897af0-9bf1-49e7-b5c2-858861710fa7
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: SMALLINT
        defaultValue: ""
        description: Numbers rows for each encounter and discipline ordered by shift date and activity desc.
        name: DISCIPLINE_SEQ_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: af34f291-9eea-49a1-856d-6d9c9388cc98
                stepCounter: 9c06ca24-7562-490a-86bf-fbe1b7dd192a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 64c07da5-0380-407a-811f-627e5ee19c46
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: SMALLINT
        defaultValue: ""
        description: Numbers rows for each encounter and discipline in descending shift date and activity desc order.
        name: DISCIPLINE_SEQ_NUM_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9bc6d3e7-2f20-40a0-8372-6929a735439d
                stepCounter: 9c06ca24-7562-490a-86bf-fbe1b7dd192a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0340ef9b-f223-4c7f-942e-56d6242b6dc8
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: SMALLINT
        defaultValue: ""
        description: Set to 1 for most activities. May be set to a higher number to uniquely identify an activity
        name: ACTIVITY_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: aa1502db-7128-471e-a8ff-2723bf57ee8a
                stepCounter: 9c06ca24-7562-490a-86bf-fbe1b7dd192a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4ca21c14-37ba-4183-afe6-9fe5ee787880
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: NUMERIC(9,5)
        defaultValue: ""
        description: Actual activity time on the shift in hours e.g. 1.25 = 75 minutes.
        name: ACTUAL_ACTIVITY_HOURS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 23d25d2b-b9e0-491b-ac4b-208e30bea9fc
                stepCounter: 9c06ca24-7562-490a-86bf-fbe1b7dd192a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 54d30a9d-1c56-4850-9421-bfc3fc241734
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: SMALLINT
        defaultValue: ""
        description: Actual activity time on the shift converted to minutes.
        name: ACTUAL_ACTIVITY_MINS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f5376ac1-ad5a-4e17-b5a4-08efb048c653
                stepCounter: 9c06ca24-7562-490a-86bf-fbe1b7dd192a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7795dc23-c69c-44b9-bb37-c60cfffa3388
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Set to 1 if the activity is flagged as completed in Allied Health.
        name: ACTIVITY_COMPLETED_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 63337796-00b9-41bf-b42e-653895762721
                stepCounter: 9c06ca24-7562-490a-86bf-fbe1b7dd192a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 166a9922-91ce-4066-8f4d-a6aed770f41f
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: Set to 1 if the activity description contains the word 'declined'.
        name: ACTIVITY_DECLINED_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5b8e9566-4397-43fe-a315-7076c0469505
                stepCounter: 9c06ca24-7562-490a-86bf-fbe1b7dd192a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a9271e5e-bf40-4024-b843-06d06b74f9b0
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: VARCHAR(8)
        defaultValue: ""
        description: Alphanumeric code that, together with activity_revision, uniquely identifies an activity in Allied Health.
        name: ACTIVITY_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fd4197d7-7c8d-48dc-b09e-485a46acfb2f
                stepCounter: 9c06ca24-7562-490a-86bf-fbe1b7dd192a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dd32cd10-28cc-4ffa-8d53-44a5c711ddd4
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: TINYINT
        defaultValue: ""
        description: General counter always set to 1.
        name: ACTIVITY_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f349e5b7-4345-4395-9731-14e93cd75109
                stepCounter: 9c06ca24-7562-490a-86bf-fbe1b7dd192a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7bc09edd-549a-476f-8ab9-3cb25c799f8a
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_allied_health_activity.discipline_code=dim_allied_health_activity.discipline_code  s_allied_health_activity.activity_code=dim_allied_health_activity.activity_code  s_allied_health_activity.activity_revision_num=dim_allied_health_activity.activity_revision_num
        name: DIM_ALLIED_HEALTH_ACTIVITY_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7a79ffcf-1156-430b-a309-98e8e98d9036
                stepCounter: 3a25dbcb-ff16-48d8-9de1-a1d3696d30ab
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e3784c18-527d-4f20-99af-743f6c1a34ed
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_allied_health_activity.discipline_code=dim_allied_health_discipline.discipline_code
        name: DIM_ALLIED_HEALTH_DISCIPLINE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 665743fa-cad2-4d4a-90d4-2dd1f1119713
                stepCounter: 3326b8b2-6f82-45a8-922e-8a92158ade59
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 48eb9b11-d12a-426b-8e0e-5c69e1ed3754
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_allied_health_activity.activity_priority=dim_allied_health_priority.activity_priority
        name: DIM_ALLIED_HEALTH_PRIORITY_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 85a361b8-101f-4bcf-8d89-f60d3d105926
                stepCounter: 11c821d8-72a5-4034-a389-82f58623290b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e36f7476-0f5b-46a9-95d0-859b3ca4315c
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_allied_health_activity.activity_status_code=dim_allied_health_status.activity_status_code
        name: DIM_ALLIED_HEALTH_STATUS_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 81b8ec8e-6dde-4494-a1c7-445994f3a920
                stepCounter: 3db89361-e7e8-4585-ad0b-9b4add0a81c3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a9d2e140-efa9-432b-a595-c952af7fc5bc
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_allied_health_activity.user_code=dim_allied_health_user.user_code
        name: DIM_ALLIED_HEALTH_USER_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1e2a41f6-1f93-4b55-9bbf-9b0fa68c98d2
                stepCounter: c1c4225e-84e6-4424-84e6-a6fc9337746a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3b2b2ee4-a4c6-4386-9102-018b74db180d
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_tcare_activity.patient_reference_no=dim_patient.patient_reference_no
        name: DIM_PATIENT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9962a01b-5f3d-4c1a-b371-997edef38d0f
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 13bb9401-e7b9-4055-8fa6-c6d25c90ec23
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_tcare_activity.shift_date=dim_shift_date.shift_date
        name: DIM_SHIFT_DATE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cb31e2af-1aa3-4fca-9c4c-bf46baf49ccc
                stepCounter: 0de1de98-baa4-467a-bd1f-b588439ad5c2
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f30a5752-c3ac-4e39-a9c6-4cdf6d5b3621
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_allied_health_activity.ward_reference_no=dim_discharge_ward.discharge_ward_reference_no
        name: DIM_DISCHARGE_WARD_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6a25735e-86ed-4c2f-a186-3de54d64cd3b
                stepCounter: eb6e873e-8280-46c0-88b0-99a491465182
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d241e428-9df6-4e8f-982b-7ea9202c256e
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_allied_health_activity.discharge_ward_code=dim_ward.ward_code
        name: DIM_WARD_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6aa5e7b8-4dc5-4b87-a4c2-5013db0e1dfc
                stepCounter: 50c31151-9204-4154-9caf-5d28244bde1a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c9db0500-dd9f-41ab-bda5-72e532c8dc2a
          stepCounter: 109455e2-a90a-42a8-8f58-3f7d0b0ef799
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          S_ALLIED_HEALTH_ACTIVITY: 9c06ca24-7562-490a-86bf-fbe1b7dd192a
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_ALLIED_HEALTH_ACTIVITY
        join:
          joinCondition: FROM {{ ref('TGT','S_ALLIED_HEALTH_ACTIVITY') }}
        name: FACT_ALLIED_HEALTH_ACTIVITY
        noLinkRefs: []
  name: FACT_ALLIED_HEALTH_ACTIVITY
  overrideSQL: false
  schema: ""
  sqlType: Fact
  type: sql
  version: 1
type: Node
