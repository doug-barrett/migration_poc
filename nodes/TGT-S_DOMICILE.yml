fileVersion: 1
id: 127b7d1d-4f9b-418f-b525-a7dcf6544781
name: S_DOMICILE
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4d682232-eab6-409c-8baa-4683273c9453
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: NVARCHAR(30)
        defaultValue: ""
        description: ""
        name: DOMICILE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 228515a1-a04c-4089-8463-ad2aea6791b9
                stepCounter: 283949d0-53d0-4de1-a6c2-eb2852c50f7d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 152e3556-7420-43ce-81ef-bed72e07cf06
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: NVARCHAR(80)
        defaultValue: ""
        description: ""
        name: DOMICILE_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a5526f9a-56b1-4fe2-98c8-4cdb04552ef7
                stepCounter: 283949d0-53d0-4de1-a6c2-eb2852c50f7d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d9f98c71-5152-4b92-b0f1-c3c8291d84d0
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: NVARCHAR(30)
        defaultValue: ""
        description: ""
        name: TLA
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8cb8414e-1fb1-4a4d-8914-129654fe9fbf
                stepCounter: 283949d0-53d0-4de1-a6c2-eb2852c50f7d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: beb3b0c5-6d9c-4aa6-b6c0-5a6f61cadbd9
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: NVARCHAR(50)
        defaultValue: ""
        description: ""
        name: TLA_DESCRIPTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a36b2c00-9df9-4031-8eba-4d77a84f2dd1
                stepCounter: f0f165a3-07b9-4b12-beb9-c557fea86be2
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c0b7345b-fca5-4804-96e1-666a51523748
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: NVARCHAR(30)
        defaultValue: ""
        description: ""
        name: STATUS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bc8e4621-ea9f-42ff-9388-532c67875355
                stepCounter: 283949d0-53d0-4de1-a6c2-eb2852c50f7d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7f904df1-77ef-4025-827a-c8fbe26bc52c
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: NVARCHAR(30)
        defaultValue: ""
        description: ""
        name: YEAR_OF_CENSUS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: acd37d97-f999-4eab-855f-f7e07516fa0a
                stepCounter: 283949d0-53d0-4de1-a6c2-eb2852c50f7d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 48f01e50-3242-4834-8778-b8486d860e79
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: NVARCHAR(30)
        defaultValue: ""
        description: ""
        name: RETIRED_YEAR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fd00914d-791c-44e2-9567-a35092c01a1e
                stepCounter: 283949d0-53d0-4de1-a6c2-eb2852c50f7d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e1f11faf-001e-4b2f-b65a-3d831f26c749
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: NVARCHAR(30)
        defaultValue: ""
        description: ""
        name: AREA_UNIT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cce74d16-f8f6-4643-9e24-29f3606fce08
                stepCounter: 283949d0-53d0-4de1-a6c2-eb2852c50f7d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ae9998c5-7e93-4ef4-af57-4dc3beeddb9a
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: NVARCHAR(30)
        defaultValue: ""
        description: ""
        name: DHB_AREA_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fa344fa3-6f40-447f-ab93-2a6ee7acb706
                stepCounter: 283949d0-53d0-4de1-a6c2-eb2852c50f7d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7358a519-9ccc-4f3e-87be-be485ee19e87
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: NVARCHAR(255)
        defaultValue: ""
        description: ""
        name: DHB_AREA_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 16f045c7-434a-46c8-a665-3fc0a2548bdb
                stepCounter: 8e1da246-e978-4769-84e6-56526d77064b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 122ac951-504d-4782-96ba-90cbe04e854f
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: REGION_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 82be67f2-583e-4594-8b88-a0e1dbdd779b
                stepCounter: 8e1da246-e978-4769-84e6-56526d77064b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: da8c485f-c10b-401e-a500-61fb91600885
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: NORTHERN_REGION_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d1181fb2-83bc-476d-976d-34ce55cc7a2c
                stepCounter: 8e1da246-e978-4769-84e6-56526d77064b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e757689d-bd12-4596-b69b-eb3ebfc3654a
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: NVARCHAR(30)
        defaultValue: ""
        description: ""
        name: RHA
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 33e6030e-8277-4e4d-a946-69b84fdf6c19
                stepCounter: 283949d0-53d0-4de1-a6c2-eb2852c50f7d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3517b446-02f3-47f2-9054-ab4f58a9baa9
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: IDF_CLASS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9a79a624-9887-413a-8dca-b782f6327b11
                stepCounter: 8e1da246-e978-4769-84e6-56526d77064b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a0302a62-db89-4255-a81a-c133ca178ae2
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: NVARCHAR(255)
        defaultValue: ""
        description: ""
        name: LOCAL_AUTHORITY_WARD
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a0210b24-6189-4814-a494-fb5ef968fecd
                stepCounter: 283949d0-53d0-4de1-a6c2-eb2852c50f7d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7ddd78df-97f2-40aa-bf48-356d286f3028
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: ""
        name: WDHB_SUB_GROUP
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4570ffb9-519a-4db2-8810-d434bd381eb6
                stepCounter: 93f99856-5239-4e03-b6af-6d2a3840a7db
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4d2d97ce-9d60-4b01-8635-98ef329df049
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: CAU_AVERAGE_NZDEP2013
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fdec11a4-661d-44f6-adb7-51153ebe8ed7
                stepCounter: 93f99856-5239-4e03-b6af-6d2a3840a7db
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dccf4a7d-36e9-4e10-974a-776304099e85
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: AVERAGE_NZDEP2018
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 44b22564-ad88-4339-bc17-d8a2b7a713ec
                stepCounter: 93f99856-5239-4e03-b6af-6d2a3840a7db
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5983a9b6-a5ad-46a6-b7aa-845f0301a48c
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: WARD2015_LABEL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bc056fd5-8edf-4e59-8c49-da92c363446b
                stepCounter: 93f99856-5239-4e03-b6af-6d2a3840a7db
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6d6ac69d-6b68-4a02-99d7-aa4ec3042f96
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: ""
        name: DOMICILE_CLUSTER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 720c7d8c-6082-465e-a98f-66b7dee55d7e
                stepCounter: 957e4fb9-96f8-4073-b489-45c69ece2a48
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 967e7793-549b-4dbe-a38e-508942f67fec
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: IUR2021_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d6d8397e-7a1f-4e62-b0b3-712728f6bc3f
                stepCounter: 93f99856-5239-4e03-b6af-6d2a3840a7db
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8254714b-a4d0-4bef-8a57-5f8822fbdb82
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: IUA2021_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6bec645d-2646-46e6-9b53-8bfc54172fb7
                stepCounter: 93f99856-5239-4e03-b6af-6d2a3840a7db
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a510c995-a311-4263-b8cf-4f453df2c86e
          stepCounter: 127b7d1d-4f9b-418f-b525-a7dcf6544781
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          L_REFERENCE_EXT_DOMICILES: 93f99856-5239-4e03-b6af-6d2a3840a7db
          L_MAPPINGS_DOMICILES: 957e4fb9-96f8-4073-b489-45c69ece2a48
          L_REFERENCE_MOH_TLA: f0f165a3-07b9-4b12-beb9-c557fea86be2
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: L_REFERENCE_MOH_DOMICILE
          - locationName: TGT
            nodeName: L_REFERENCE_EXT_DOMICILES
          - locationName: TGT
            nodeName: L_MAPPINGS_DOMICILES
          - locationName: TGT
            nodeName: L_REFERENCE_MOH_TLA
        join:
          joinCondition: |-
            FROM l_reference_MOH_Domicile
             INNER JOIN l_reference_MOH_DHB
                ON l_reference_MOH_Domicile.dhb_area = l_reference_MOH_DHB.dhb
              LEFT OUTER JOIN {{ ref('TGT','L_REFERENCE_EXT_DOMICILES') }}
                ON l_reference_MOH_Domicile.dom = l_reference_Ext_Domiciles.dom
              LEFT OUTER JOIN {{ ref('TGT','L_MAPPINGS_DOMICILES') }}
                ON l_reference_MOH_Domicile.dom = l_mappings_Domiciles.Domicile
              LEFT JOIN {{ ref('TGT','L_REFERENCE_MOH_TLA') }}
                ON l_reference_MOH_Domicile.tla = l_reference_MOH_TLA.TLA
        name: S_DOMICILE
        noLinkRefs: []
  name: S_DOMICILE
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
