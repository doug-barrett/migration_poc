fileVersion: 1
id: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
name: STAGE_TMS_TERMINAL_ALLOCATION_SNOWFLAKE_PRD_PROD_RAW_1
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: DATAVAULT_STAGING
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d73e00ba-0c23-4621-97b4-498f41093ee7
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: BINARY(16)
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - columnCounter: 9d90eda3-aca1-499d-bfd2-ac9323e1287e
            stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
          - columnCounter: 56b2df54-0089-4423-b4dd-5a4ea13808cf
            stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        name: HK_H_TMS_TERMINAL_ALLOCATION
        nullable: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9d90eda3-aca1-499d-bfd2-ac9323e1287e
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: VARCHAR(9)
        defaultValue: ""
        description: ""
        name: MERCHANT_NUMBER_ACI
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: RIGHT(MERCHANT_ID, 9)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 56b2df54-0089-4423-b4dd-5a4ea13808cf
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: Locale identifier
        name: LOCALE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: faa658d8-a94d-463f-9f04-4c94110c23a8
                stepCounter: 57128521-ba87-43dc-90b8-672d5eef8a88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d6edd059-4365-435e-8ae4-1facd88b6d2b
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: TIMESTAMP(9)
        defaultValue: ""
        description: ""
        name: FILE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b90c61cd-84cc-497b-97a3-de9ea466451a
                stepCounter: 57128521-ba87-43dc-90b8-672d5eef8a88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 53e63a0f-f1a5-4bd6-9b63-54f796fc682f
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: VARCHAR(19)
        defaultValue: ""
        description: ""
        name: DEVICE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bde19cc3-17bb-4697-af70-6265c28d870f
                stepCounter: 57128521-ba87-43dc-90b8-672d5eef8a88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ee1c7802-7f28-42c1-a0ed-bfa23b411345
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Merchant number associated with the Locale
        name: MERCHANT_NUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8d70ab04-bc30-452b-b0bb-9e40f0a9d2b0
                stepCounter: 57128521-ba87-43dc-90b8-672d5eef8a88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 448208d9-4e94-4212-a1b8-7b1f897f2b85
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: ACTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4d28c100-52d0-4f9e-a7d5-febe7bcbaa94
                stepCounter: 57128521-ba87-43dc-90b8-672d5eef8a88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0b8c9e85-2b1f-4033-8d54-2d1e6f5e147d
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: ""
        name: USER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: aa73eb8c-82d2-46dc-9f8a-b026943bdfd1
                stepCounter: 57128521-ba87-43dc-90b8-672d5eef8a88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 68e04c0e-7f8c-46c3-b32b-727e1ccabc14
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: "Indicates the interface that performed the action:\n\n- 1: Terminal\n\n- 2: TMS Interface\n\n- 3: Merchant Direct\n\n- 4: Gift & Loyalty\n\n- 5: OMS-Boarding Interface\n\n- 6: Scheduler Interface\n\n- 7: GO Portal Interface\n\n- 8: MFS Interface\n\n- 9: Boarding Migration"
        name: RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 13d6c933-5a2d-4ce8-9ff9-f1a7dfd87b81
                stepCounter: 57128521-ba87-43dc-90b8-672d5eef8a88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 671ef0f8-6bfc-48eb-a25e-164cd66fcea4
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: NUMBER(38,3)
        defaultValue: ""
        description: ""
        name: CREATION_TS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 20317c92-4196-4bb5-bb37-c3ad29d4d00d
                stepCounter: 57128521-ba87-43dc-90b8-672d5eef8a88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 61dab4e1-b63c-4af6-9fe6-781522700939
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: NUMBER(38,0)
        defaultValue: ""
        description: ""
        name: DEVICE_SLOT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e13d1136-a3f5-441d-975a-f19341230160
                stepCounter: 57128521-ba87-43dc-90b8-672d5eef8a88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cf61091f-135e-496d-bde7-2c365348fe0b
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: CREATED_BY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: eba9201e-1b80-4a65-a8b2-3fa26e5bb822
                stepCounter: 57128521-ba87-43dc-90b8-672d5eef8a88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ea8e067f-360d-4fd7-8bf6-a2f38e2c4a8f
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: TIMESTAMP_NTZ(3)
        defaultValue: ""
        description: ""
        name: CREATED_AT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 08226214-985f-4f45-b2f3-fc037aa161b2
                stepCounter: 57128521-ba87-43dc-90b8-672d5eef8a88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d58d855d-58a6-4546-a3f3-7981da10b437
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: UPDATED_BY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1ada0720-7ad9-480b-8180-6f3d61dd987a
                stepCounter: 57128521-ba87-43dc-90b8-672d5eef8a88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cfd0c75f-c905-441a-8097-d48f740102b1
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: TIMESTAMP_NTZ(3)
        defaultValue: ""
        description: ""
        name: UPDATED_AT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 95cfee2f-77a0-46f2-993a-6a6484d9775e
                stepCounter: 57128521-ba87-43dc-90b8-672d5eef8a88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ecb00d3d-bde2-4f2c-ab4a-3093e3590300
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: VARCHAR(500)
        defaultValue: ""
        description: ""
        name: RUN_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3373f1e2-125d-4a8f-982d-84c68612fd9b
                stepCounter: 57128521-ba87-43dc-90b8-672d5eef8a88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d9a3e4af-5922-4389-b8ae-d31a0f869933
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: BINARY(16)
        defaultValue: ""
        description: The changing hash
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - columnCounter: d6edd059-4365-435e-8ae4-1facd88b6d2b
            stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
          - columnCounter: 53e63a0f-f1a5-4bd6-9b63-54f796fc682f
            stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
          - columnCounter: ee1c7802-7f28-42c1-a0ed-bfa23b411345
            stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
          - columnCounter: 448208d9-4e94-4212-a1b8-7b1f897f2b85
            stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
          - columnCounter: 0b8c9e85-2b1f-4033-8d54-2d1e6f5e147d
            stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
          - columnCounter: 68e04c0e-7f8c-46c3-b32b-727e1ccabc14
            stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
          - columnCounter: 671ef0f8-6bfc-48eb-a25e-164cd66fcea4
            stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
          - columnCounter: 61dab4e1-b63c-4af6-9fe6-781522700939
            stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
          - columnCounter: cf61091f-135e-496d-bde7-2c365348fe0b
            stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
          - columnCounter: ea8e067f-360d-4fd7-8bf6-a2f38e2c4a8f
            stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
          - columnCounter: d58d855d-58a6-4546-a3f3-7981da10b437
            stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
          - columnCounter: cfd0c75f-c905-441a-8097-d48f740102b1
            stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
          - columnCounter: ecb00d3d-bde2-4f2c-ab4a-3093e3590300
            stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        name: DSS_CHANGE_HASH_TMS_TERMINAL_ALLOCATION_LOG_MROC
        nullable: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bb5d790d-e074-41f7-b955-14642c28e807
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: Record source
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e8c875ca-cd81-43ec-be83-86bcc9d25208
                stepCounter: 57128521-ba87-43dc-90b8-672d5eef8a88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bc3e5f92-afc4-4ef4-988e-9fb12075bf52
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was loaded in the data vault
        name: DSS_LOAD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 375ce329-47a0-4391-aeda-799f75debba2
                stepCounter: 57128521-ba87-43dc-90b8-672d5eef8a88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 90b39c0e-220b-4c16-b406-adb525307976
          stepCounter: 78cfc3c2-e02e-4afb-aeb9-b1e23954a63a
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was inserted in the data vault
        isSystemCreateDate: true
        name: DSS_CREATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          LOAD_DEVICE_HISTORY_SNOWFLAKE_PRD_PROD_RAW: 57128521-ba87-43dc-90b8-672d5eef8a88
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DATAVAULT_LOAD
            nodeName: LOAD_DEVICE_HISTORY_SNOWFLAKE_PRD_PROD_RAW
        join:
          joinCondition: FROM {{ ref('DATAVAULT_LOAD','LOAD_DEVICE_HISTORY_SNOWFLAKE_PRD_PROD_RAW') }} load_device_history_snowflake_prd_prod_raw
        name: STAGE_TMS_TERMINAL_ALLOCATION_SNOWFLAKE_PRD_PROD_RAW_1
        noLinkRefs: []
  name: STAGE_TMS_TERMINAL_ALLOCATION_SNOWFLAKE_PRD_PROD_RAW_1
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
