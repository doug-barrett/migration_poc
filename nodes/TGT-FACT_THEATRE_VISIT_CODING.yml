fileVersion: 1
id: 730862be-91f8-4f46-a87a-ba8787c86eac
name: FACT_THEATRE_VISIT_CODING
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a1bc6f78-0044-49e0-8bb0-aa91b49728ac
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: THEATRE_VISIT_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: df83efa3-22e7-4ebd-bb62-a2535277de86
                stepCounter: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 703dbc30-b44b-42c3-92ad-bac1f897e729
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: VISIT_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3d947a4a-3e30-4ddb-ad7c-c7057a8d478e
                stepCounter: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6d159e46-a1da-414e-b310-924f5e52c0a3
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated key for the date dimension. Nominal format is YYYYMMDD, but DD equal to 0 and greater than 31 permited for special date handling.
        name: DIM_VISIT_START_DATE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 13234e71-2519-473a-af0d-7f73325182c3
                stepCounter: 484fdf1d-550f-43b0-8050-5734ec05d67b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f764a53f-d618-46f5-8ba9-1696435b7328
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: VISIT_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: abf30c29-aaed-407c-b232-92aec6eaded3
                stepCounter: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 72ee0f95-fb42-42c2-89b0-7af304fb8577
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated key for the date dimension. Nominal format is YYYYMMDD, but DD equal to 0 and greater than 31 permited for special date handling.
        name: DIM_VISIT_END_DATE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 08025052-688d-445e-bbd8-0354e67585c3
                stepCounter: 90bdc455-a671-42c7-840f-35c738a1f1f3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 50182582-575d-42c6-8fc0-c356c69a28a3
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: CODING_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 081e1ac7-507e-4705-b96d-608059607078
                stepCounter: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cdbb0ca6-8a7f-451e-be67-e3fae5230cf0
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: VARCHAR(15)
        defaultValue: ""
        description: ""
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ace40284-bbd3-44b0-9d53-195204a85b59
                stepCounter: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8235abd6-10b8-4810-84f3-878ea18c9784
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: MEDICAL_PROBLEM_LEVEL_NO
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e7c74976-4c39-45e8-9118-400d769e0832
                stepCounter: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8d13e52a-3527-43fa-8d9a-a3a611e0ba84
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_nexus_diagnostic_procedures_20.patient_reference_no=dim_patient.patient_reference_no
        name: DIM_PATIENT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9962a01b-5f3d-4c1a-b371-997edef38d0f
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3951725a-4d6b-45d9-bc53-937bb791cb5d
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: VARCHAR(25)
        defaultValue: ""
        description: ""
        name: MEDICAL_PROBLEM_LEVEL_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bcd2e640-0204-414f-ae29-d079af66a5f9
                stepCounter: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5332fb2d-eae4-4a23-84c0-ac944b097af0
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: VARCHAR(5)
        defaultValue: ""
        description: ""
        name: DIAGNOSIS_PROCEDURE_TYPE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 48530af0-a7cb-4b7b-bf10-2e0c1241688a
                stepCounter: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 336112e5-ce47-4cb4-bb32-5cc750030e53
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: VARCHAR(25)
        defaultValue: ""
        description: ""
        name: DIAGNOSIS_PROCEDURE_SUBTYPE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bb6c87d7-2764-42e2-87be-409d333374a7
                stepCounter: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 11f6ec07-5d8f-4378-99f0-fd088ad3e245
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: VARCHAR(25)
        defaultValue: ""
        description: ""
        name: CLINICAL_CLASSIFICATION_XREF_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: abb13418-3079-45f2-a68e-4ae81b481356
                stepCounter: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cba81b71-c1a8-4f2a-9641-94a3bb1f8b1f
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: VARCHAR(80)
        defaultValue: ""
        description: ""
        name: CLINICAL_CLASSIFICATION_XREF_DESC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e2b46df2-86f8-4bb4-9326-7f6a2a8fec0d
                stepCounter: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 378bb77e-6602-4466-9032-b0247fb8841d
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: DIAGNOSIS_PROCEDURE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: aa7843d6-4cef-45c2-bb52-8bb4a3d46f28
                stepCounter: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 51c19742-3062-4a74-82ae-251e5c27eb8e
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        name: DIM_THEATRE_PROCEDURE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d4f838b6-9e8c-408a-b036-3f02573753f6
                stepCounter: 840b1a44-55c1-4cbc-9199-4415e254bce4
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ae83e4cd-ec14-4ed9-84c1-1a7a6c24ae30
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: PATIENT_DIAGNOSIS_SEQ_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7d202ea9-b119-4b4b-8795-47d9de63eb48
                stepCounter: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ea0a05a4-d60a-4ab7-bde9-50cbec9cda00
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: PATIENT_DIAGNOSIS_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 15604053-056b-4550-b844-69f6f997d2c4
                stepCounter: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e7f77a7e-21a1-4bea-80e4-ae0b950012e8
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: PATIENT_PROCEDURE_SEQ_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0f6db178-42c9-417b-baf3-011cc1160caa
                stepCounter: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 667461c2-01c2-407e-8774-8155a0177568
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: PATIENT_PROCEDURE_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1e5403d9-4755-4d03-8b02-dd1149228f9a
                stepCounter: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e3e47c94-147d-4900-b290-f0f3dfab357b
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: CREATE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a1395ef1-8f27-4d65-a94a-7a0d39800f9a
                stepCounter: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: aad2f9ff-21e6-4a05-9167-962d13e366bb
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_nexus_diagnostic_procedures_20.create_user_login_code=dim_create_user_login.create_user_login_code
        name: DIM_CREATE_USER_LOGIN_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2dfe5e14-cc2f-4748-8352-a6d1621289af
                stepCounter: 70bd6ed5-e21b-440f-9079-7fe305bc4f30
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e79db9b8-668a-4bf9-9d24-8bcbf14f9091
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: MODIFY_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2d0c81bf-4aaf-40e1-894f-b4075b3f2e40
                stepCounter: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9a3d389a-6376-4da7-bc5a-c0eabe56df55
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_nexus_diagnostic_procedures_20.modify_user_login_code=dim_modify_user_login.modify_user_login_code
        name: DIM_MODIFY_USER_LOGIN_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ceaa34a6-dd0b-40fb-bc61-9df93cc05e7b
                stepCounter: bef0768d-dddb-4d02-af8d-03160de42b62
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a006692c-e7da-45c8-9cad-526885760b34
          stepCounter: 730862be-91f8-4f46-a87a-ba8787c86eac
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          S_CONSOLIDATE_CODING: 57c4efed-b4dd-47a0-b14e-bc5ed67fcfca
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_CONSOLIDATE_CODING
        join:
          joinCondition: |-
            FROM {{ ref('TGT','S_CONSOLIDATE_CODING') }} s_consolidate_Coding
             WHERE 1=1
               AND theatre_visit_encounter_id not like 'NX%'
        name: FACT_THEATRE_VISIT_CODING
        noLinkRefs: []
  name: FACT_THEATRE_VISIT_CODING
  overrideSQL: false
  schema: ""
  sqlType: Fact
  type: sql
  version: 1
type: Node
