fileVersion: 1
id: 368581c0-ec05-474d-b0df-3fb8e9642bcf
name: FACT_NASC_PLANNED_REVIEW
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 00e3c6fc-9d2c-4bd0-8918-bd67fdce063e
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: CONTACT_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 29cebfd2-e85d-4b3a-8764-1562913f96eb
                stepCounter: 638ce3e2-aa9c-4915-ab7e-b5eb5dc8daa0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7a1f25e4-f8b6-43a4-9b9f-f05866496e95
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_planned_review_NASC_20.contact_encounter_type_code=dim_encounter_type.encounter_type_code
        name: DIM_ENCOUNTER_TYPE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d3ba8df3-db2e-40a1-97dc-d5ad6a5186a7
                stepCounter: 1d0ea6a1-9563-4fb3-a1fa-9d43dbdf296e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 69515516-b2f4-4409-a926-a78489420db8
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: TASK_REQUEST_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 670521c7-5c4b-4004-945f-39635d576b68
                stepCounter: 638ce3e2-aa9c-4915-ab7e-b5eb5dc8daa0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0a67a503-5b1f-4385-9716-ec12faf51982
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: ""
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c74b38c4-fe8c-49ec-bfce-68bc2b81bc33
                stepCounter: 638ce3e2-aa9c-4915-ab7e-b5eb5dc8daa0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e386ccbb-7329-4f16-9489-6b5c6c4b3877
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_planned_review_NASC_20.patient_NHI=dim_patient.patient_reference_no
        name: DIM_PATIENT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9962a01b-5f3d-4c1a-b371-997edef38d0f
                stepCounter: d52dd438-7899-4242-9e38-539d2a1447df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 24065b3a-a2ab-4548-aae8-3292cecb0a30
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_planned_review_NASC_20.patient_age_at_contact_years=dim_age_group.age_years
        name: DIM_AGE_GROUP_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 18bfabd7-19aa-4de0-9ce7-aa560645bce6
                stepCounter: 3d5ba8a8-80ec-4848-b58a-d31b34cc53ed
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 20780b01-005e-4a87-b2cc-8f7ee8eca68a
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_planned_review_NASC_20.domicile_code=dim_domicile.domicile_code
        name: DIM_DOMICILE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4e049fc8-a2a3-4bad-9b91-11b9d158b35e
                stepCounter: 330ad0aa-b8b1-4da9-ab37-b4fe8f889452
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d26a929f-49e0-42de-ae94-643b77e60971
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: BIGINT
        defaultValue: ""
        description: patient_programme_id
        name: PROGRAMME_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 219b9cd2-d906-49ca-953c-6765612a3b0a
                stepCounter: 638ce3e2-aa9c-4915-ab7e-b5eb5dc8daa0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2e4aece9-6882-40a0-a9d9-1038bad74976
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_planned_review_NASC_20.planned_review_type=dim_planned_review_NASC.planned_review_type  s_planned_review_NASC_20.programme_status=dim_planned_review_NASC.patient_programme_status
        name: DIM_NASC_PLANNED_REVIEW_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9387ba03-ffd4-4c80-9907-6f305cb9d20a
                stepCounter: 8113afe5-9cdb-464b-ad3b-c6366989c176
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d5cd4b12-a0e9-4da2-a299-abe93ec4e14e
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_planned_review_NASC_20.health_org_reference_no=dim_health_organisation.health_org_reference_no
        name: DIM_HEALTH_ORG_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 78290bb6-3cd5-4503-8179-d1f65525ba15
                stepCounter: 0790fdf4-e815-4587-a9cd-954ea13f53c6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1429c626-9cc3-4b3b-a297-3c0618c23687
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: ""
        name: REFERRAL_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 08dfce2d-5101-4088-85ef-d16eaac18c3d
                stepCounter: 638ce3e2-aa9c-4915-ab7e-b5eb5dc8daa0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8fee71c5-b1f8-44e1-b50e-415528defef8
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_planned_review_NASC_20.provider_id=dim_provider_community.provider_id
        name: DIM_PROVIDER_COMMUNITY_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 81b90d7a-0e1c-4ff6-a2e5-e32763dfcbcd
                stepCounter: fe333361-f763-4fd4-b86e-f42e95e81344
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1b203ad0-5c9b-43a3-b87d-d72f457d9999
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: 'INTEGER '
        defaultValue: ""
        description: s_planned_review_NASC_20.programme_role_code=dim_role_community.role_code
        name: DIM_ROLE_COMMUNITY_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: acff4fff-07f1-43da-966d-53a96d429471
                stepCounter: ab48ab83-7613-4d28-acbd-ba81b413fe84
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b744d99d-b94a-4312-bad3-2eb8050a4ff2
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: TASK_REQUEST_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1f7f2641-6a38-4f40-b2d4-69cbc57c5ef7
                stepCounter: 638ce3e2-aa9c-4915-ab7e-b5eb5dc8daa0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 34430189-294c-4610-8099-25cef1802ff6
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_planned_review_NASC_20.CONVERT(date,s_planned_review_NASC_10.task_request_date)=dim_request_date.request_calendar_date
        name: DIM_REQUEST_DATE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 776fe4b8-0bb6-494d-a530-7fae3de7a539
                stepCounter: d1b797ef-4926-45af-a745-f75c3ed18b1f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: daf29a65-54b6-4e3f-847d-d29692607e39
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: EPISODE_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ac1486b4-dca4-45ec-ae73-c57bfaa8a45f
                stepCounter: 638ce3e2-aa9c-4915-ab7e-b5eb5dc8daa0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6158175a-8d0b-4ccd-8edb-8f2662cf8869
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: ""
        name: FIRST_PLANNED_REVIEW_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 583b51cd-34c0-4b2b-a65f-12781a101386
                stepCounter: 638ce3e2-aa9c-4915-ab7e-b5eb5dc8daa0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ea6732c9-5584-4d33-a8b9-739e40b81baf
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: ""
        name: CURRENT_PLANNED_REVIEW_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a0b45ec1-c9c9-410e-8adb-d39ec1a4f56a
                stepCounter: 638ce3e2-aa9c-4915-ab7e-b5eb5dc8daa0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4ec069fd-122e-4288-8ccd-fd435b26c12c
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: PATIENT_PLANNED_REVIEW_SEQ_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 62c704da-f38e-4a70-b715-6bbd9f1ffefa
                stepCounter: 638ce3e2-aa9c-4915-ab7e-b5eb5dc8daa0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2e268751-211c-4fc2-932b-39dfbf4ecdff
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: PATIENT_PLANNED_REVIEW_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 77d3a371-727c-4030-b1db-930a33432887
                stepCounter: 638ce3e2-aa9c-4915-ab7e-b5eb5dc8daa0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3e75325a-eff2-4a00-8f2e-e573109771f9
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: REFERRAL_PLANNED_REVIEW_SEQ_NUM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 68e1c442-c22c-43ba-b0c1-c1be81869ed9
                stepCounter: 638ce3e2-aa9c-4915-ab7e-b5eb5dc8daa0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0cda1a32-f670-4cf0-a575-da96f83090ae
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: ""
        name: REFERRAL_PLANNED_REVIEW_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b00810cc-6f5b-4db3-ac1d-469e66a9a9ed
                stepCounter: 638ce3e2-aa9c-4915-ab7e-b5eb5dc8daa0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a1351627-570e-47b8-bf87-72bbe02b8f27
          stepCounter: 368581c0-ec05-474d-b0df-3fb8e9642bcf
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          S_PLANNED_REVIEW_NASC_20: 638ce3e2-aa9c-4915-ab7e-b5eb5dc8daa0
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_PLANNED_REVIEW_NASC_20
        join:
          joinCondition: FROM {{ ref('TGT','S_PLANNED_REVIEW_NASC_20') }}
        name: FACT_NASC_PLANNED_REVIEW
        noLinkRefs: []
  name: FACT_NASC_PLANNED_REVIEW
  overrideSQL: false
  schema: ""
  sqlType: Fact
  type: sql
  version: 1
type: Node
