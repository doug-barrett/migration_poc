fileVersion: 1
id: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
name: S_MERCHANT_CONTACT_DETAILS_PII
operation:
  config:
    distinct: true
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: "This entity holds the contact details for a given institution. The entity is effective dated so the contact details can be different for different time periods."
  isMultisource: false
  locationName: DATAVAULT_RAW_VAULT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cd7284aa-ced3-4157-9fb3-7295acf276fe
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config:
          is_hk: true
        dataType: BINARY(16)
        defaultValue: ""
        description: ""
        name: HK_H_MERCHANT_CONTACT_DETAILS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 80dd0f80-769b-40be-9630-0838a0ba3a47
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 02528ab9-2541-4a95-889c-32051065355d
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: contact identificaton number
        isBusinessKey: true
        name: CONTACT_IDENTIFICATION_NUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1d8a21bf-6cb7-4179-aafc-fd880c5bfa47
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 12cb362e-3b76-400d-9ca4-befcea88dbf2
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: The sequence number is part of the physical key together with Institution ID, Institution Contact Number. The currently effective instance is identified by the sequence number zero.
        isBusinessKey: true
        name: SEQUENCE_NUMBER_BK
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ba0b9d73-07ec-451b-bb3e-e7b3b31b70c6
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 70c7dbab-8f8d-49a5-be08-c5c8b9551ba9
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: Identifies the forenames of the Contact for the Institution.
        name: CONTACT_NAME_TEXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0ac65477-a664-4877-b49a-4a34d7ec4379
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f8bb690e-f38c-45a7-8105-230829f0fc66
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: Identifies the surname of the Contact for the Institution.
        name: CONTACT_SURNAME_TEXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e801751d-9f72-494d-81fc-8b8b572590f9
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b9a78946-ace1-45c7-bd15-e58435ea1fb9
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: Identifies the postal address by which the institution contact can be contacted.
        name: ADDRESS_LINE_1
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 78b5742a-a3be-44a7-8b03-edef4b454ff8
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8e51f5b8-57e8-4d93-a0b5-495c011d5a1d
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(100)
        defaultValue: ""
        description: Identifies the postal address by which the institution contact can be contacted.
        name: ADDRESS_LINE_2
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e389cdf0-fa26-4a75-a1ce-baeb65f33aa3
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 95b2787c-e4d4-4d9c-909a-8f97c2e6dee1
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(60)
        defaultValue: ""
        description: Identifies the postal address by which the institution contact can be contacted.
        name: ADDRESS_LINE_3
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e470543a-f741-43b3-baaa-ee6004c8217c
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e5ab65f5-f551-4bbf-a9c7-0fe8733b7147
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: Identifies the postal code of the Institution.
        name: ADDRESS_POSTAL_TEXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0f0ed1e7-caf5-4432-96a8-2df926c8600d
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0c2f3e53-c512-44fc-8d25-c0189bfb6c16
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: Identifies the city in which the Institution is in.
        name: ADDRESS_CITY_TEXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7e98ddcd-c9c6-4c37-82a2-6f3aabffb9bc
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2e9ce993-f7fb-4911-ba35-63387df88ce0
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: Identifies the state in which the Institution is in.
        name: ADDRESS_STATE_TEXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 976ff081-3ab0-478f-955b-a859a29ac018
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e79521ab-cb2f-4ae8-a188-8089c74a611e
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: Identifies the country in which the Institution is in.
        name: ADDRESS_COUNTRY_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8c71038f-623b-4f33-9cd1-9016f2cbd829
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: eb70ebdf-daf6-4e03-812f-bcfb1e2cf421
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(60)
        defaultValue: ""
        description: Identifies the Email address by which the Institution can be contacted.
        name: CONTACT_EMAIL_TEXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ff730b75-b862-4195-83dc-da183283bebe
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b383714a-e77a-4ee4-98a7-e00430047893
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(60)
        defaultValue: ""
        description: Identifies the Internet address by which the Institution can be contacted.
        name: CONTACT_INTERNET_ADDRESS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 56f65905-23ea-41bf-979c-63ac77e612a6
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ed2fc2e3-fb79-481b-a548-938bbcfcbc2c
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Identifies the first phone number by which an Institution can be contacted.
        name: PRINCIPAL_CONTACT_PHONE_NUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 63ee76aa-5575-4c7f-9d39-4359555738e7
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 02f94a14-c334-4735-85bc-88534f7594a9
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Identifies an alternative phone number by which the Institution can be contacted.
        name: ALTERNATIVE_CONTACT_PHONE_NUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5af1b20a-7ad6-4622-8516-995a74d94eb3
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 674c045b-5e03-4957-a0bf-d9836ec4a1e7
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Identifies the fax number by which the institution can be contacted.
        name: CONTACT_FAX_NUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1095a63c-ef78-4922-9a47-25d7dced2fa0
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9da57900-5bca-4adb-ab90-3b12847bdae4
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: The Area code for this address
        name: ADDRESS_AREA_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7280bb4d-91c3-4bac-8325-d200b4baeb9a
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2d0f5ec8-e186-4331-a079-53cb89199829
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(8)
        defaultValue: ""
        description: ""
        name: LAST_UPDATE_USER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b5d55531-6dd5-480d-9ccf-443901d57121
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8a3c6e61-5b38-44ec-9f15-4e414e157253
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: ""
        name: LAST_UPDATE_NUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8839009a-0245-49d0-8544-27e6093820c5
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 87416903-9126-4245-bf97-23ac882cb68f
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: The Area code for this address
        name: ADDRESS_STATE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 71a844d0-dbac-4908-927d-24718a433029
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 080ef181-ddf3-4851-a4f7-359e46fbec59
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Holds the Tax ID or Social Security Number for the contact.
        name: CONTACT_SOCIAL_INSURANCE_NUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 90ddeed5-fe6b-4387-84b9-cc5c9d89ecc3
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b02d07d2-b158-4fe5-84c3-f0a58348ef36
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: TIMESTAMP(9)
        defaultValue: ""
        description: ""
        name: DATE_OF_BIRTH
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 18e5971e-cd61-4c3b-b996-b016b017abbf
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f02420b8-a039-4ed1-b4c8-2666d682eb47
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: The sequence number is part of the physical key together with Institution ID, Institution Contact Number. The currently effective instance is identified by the sequence number zero.
        name: SEQUENCE_NUMBER_PII
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 08f39670-f54d-47bc-a623-5ada15da6156
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8c4b0622-992f-4833-8abd-5aea84e5de4b
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config:
          is_hd: true
        dataType: BINARY(16)
        defaultValue: ""
        description: The changing hash
        name: DSS_CHANGE_HASH
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7e2634c2-60e8-43eb-bc11-26fb6e414790
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1b56afd7-fdea-4bd0-95b3-3e36ea247478
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: Record source
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3d7a5e39-bd5c-4b56-a52e-25b7214ab127
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f8190ef0-4919-4619-83df-b47dd59c607a
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was loaded in the data vault
        name: DSS_LOAD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f978657f-3d12-4966-8a60-eef9b43ea237
                stepCounter: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3d5f9ed0-0b83-46d6-8ea8-2317a37e33ca
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row started in the data vault
        isSystemStartDate: true
        name: DSS_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c152a2b8-8a22-4685-ad5e-1fd36e74074f
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: NUMBER(38)
        defaultValue: ""
        description: Version number of a business key in the data vault
        isSurrogateKey: true
        isSystemVersion: true
        name: DSS_VERSION
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dbf98f4a-b804-4f6f-82e8-882b0e574afe
          stepCounter: 5fe956d8-2852-4bdc-85a1-0af493c3c6d4
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was inserted in the data vault
        isSystemCreateDate: true
        name: DSS_CREATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          STAGE_MERCHANT_CONTACT_DETAILS: afb77aa6-6e01-4bca-ac3c-78f26c87b44b
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DATAVAULT_STAGING
            nodeName: STAGE_MERCHANT_CONTACT_DETAILS
        join:
          joinCondition: FROM {{ ref('DATAVAULT_STAGING','STAGE_MERCHANT_CONTACT_DETAILS') }} stage_merchant_contact_details
        name: S_MERCHANT_CONTACT_DETAILS_PII
        noLinkRefs: []
  name: S_MERCHANT_CONTACT_DETAILS_PII
  overrideSQL: false
  schema: ""
  sqlType: Data-Vault:::8
  type: sql
  version: 1
type: Node
