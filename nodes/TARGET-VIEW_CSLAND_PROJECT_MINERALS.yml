fileVersion: 1
id: 9f12fe19-336a-4438-911a-9073f76df5a8
name: VIEW_CSLAND_PROJECT_MINERALS
operation:
  config:
    insertStrategy: UNION
    selectDistinct: false
  customOverride: false
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TARGET
  materializationType: view
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f9bb027c-202c-4e3a-b809-296165d04c17
          stepCounter: 9f12fe19-336a-4438-911a-9073f76df5a8
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: Project Code
        name: PROJECT_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a457179c-a9d0-4743-bd34-d214b3770bfb
                stepCounter: 6dcaabb9-30a9-4c81-839a-04c12599c79b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 593d8174-de15-491c-8566-a25897ffea78
          stepCounter: 9f12fe19-336a-4438-911a-9073f76df5a8
        config: {}
        dataType: VARCHAR(40)
        defaultValue: ""
        description: Project Description
        name: PROJECT_DESCRIPTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ed78eaec-9742-45f3-b4b9-abd1a37fda63
                stepCounter: 6dcaabb9-30a9-4c81-839a-04c12599c79b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: df684b82-af2f-4c27-8922-ac30ff08323c
          stepCounter: 9f12fe19-336a-4438-911a-9073f76df5a8
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: Owner
        name: OWNER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 89de2b74-7e85-4251-b4ac-e90028db1f28
                stepCounter: 6dcaabb9-30a9-4c81-839a-04c12599c79b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c093e45d-da56-4d7f-aa87-a40174f65e8a
          stepCounter: 9f12fe19-336a-4438-911a-9073f76df5a8
        config: {}
        dataType: VARCHAR(1)
        defaultValue: ""
        description: Closed Flag
        name: CLOSED_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 96b1460d-8254-49c3-acb2-4200e518fe73
                stepCounter: 6dcaabb9-30a9-4c81-839a-04c12599c79b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b1a5a6db-dc82-4dfd-8b0c-73c97480459a
          stepCounter: 9f12fe19-336a-4438-911a-9073f76df5a8
        config: {}
        dataType: VARCHAR(1)
        defaultValue: ""
        description: Shared Flag
        name: SHARED_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 99973924-e88d-4068-8a73-9c0cf30d9262
                stepCounter: 6dcaabb9-30a9-4c81-839a-04c12599c79b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c6ee0c76-7721-408a-b73e-0802b3c68f87
          stepCounter: 9f12fe19-336a-4438-911a-9073f76df5a8
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Create Date
        name: CREATE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 731fbb5b-1607-4249-bfa5-50877d1c6933
                stepCounter: 6dcaabb9-30a9-4c81-839a-04c12599c79b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e33e15dd-cf09-4ff3-847d-20814d2d6428
          stepCounter: 9f12fe19-336a-4438-911a-9073f76df5a8
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Update Date
        name: UPDATE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5a32e428-59a5-4534-8255-5100a9beb3da
                stepCounter: 6dcaabb9-30a9-4c81-839a-04c12599c79b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fb2a7903-f1b5-4185-8c55-813c48777f5d
          stepCounter: 9f12fe19-336a-4438-911a-9073f76df5a8
        config: {}
        dataType: CHAR(10)
        defaultValue: ""
        description: MINERAL FILE SUB KEY
        name: MINERAL_FILE_SUB_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9e91f9e0-4d20-4c4a-88a6-688ed22d0cc2
                stepCounter: 8aab0a18-182b-4026-9fd5-b3113b5c8bd9
            transform: TRIM(ODS_CSLAND_QB_PROJ_DOC.FILE_NUMBER)||TRIM(ODS_CSLAND_QB_PROJ_DOC.FILE_SUB)
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          VIEW_CSLAND_PROJECT_MINERALS: 9f12fe19-336a-4438-911a-9073f76df5a8
        customSQL:
          customSQL: |-
            {{ stage('SQL Override') }}
            CREATE OR REPLACE VIEW {{ ref_no_link('TARGET','VIEW_CSLAND_PROJECT_MINERALS') }} AS SELECT QP.CODE "PROJECT_CODE",
                   QP.DESCRIPTION "PROJECT_DESC",
                   QP.OWNER,
                   QP.CREATE_DATE,
                   QP.UPDATE_DATE,
                   TRIM(QPD.FILE_NUMBER)||TRIM(QPD.FILE_SUB) "MINERAL_FILE_SUB_KEY"
              FROM DS_CSLAND.QB_PROJECT QP,
                   DS_CSLAND.QB_PROJ_DOC QPD
             WHERE QP.CODE = QPD.CODE
               AND QPD.SUBSYSTEM = 'M'
               AND QP.TYPE = 'Exchange'
        dependencies:
          - locationName: TARGET
            nodeName: ODS_CSLAND_QB_PROJECT
        join:
          joinCondition: |-
            -- Nodes used in the SQL override:
            {{ ref('TARGET','ODS_CSLAND_QB_PROJECT') }}
        name: VIEW_CSLAND_PROJECT_MINERALS
        noLinkRefs: []
  name: VIEW_CSLAND_PROJECT_MINERALS
  overrideSQL: true
  schema: ""
  sqlType: View
  type: sql
  version: 1
type: Node
