fileVersion: 1
id: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
name: S_LKP_CURRENCY_CODE_MROC_CURRENT
operation:
  config:
    insertStrategy: UNION
    selectDistinct: false
  customOverride: false
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: DATAVAULT_BUSINESS_VAULT
  materializationType: view
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0fc8de71-350d-43dc-a0b2-e29cc74bc3e7
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: BINARY(16)
        defaultValue: ""
        description: ""
        name: HK_H_LKP_CURRENCY_CODE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1bf621c7-15fe-486d-9955-ae201a5057bf
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1d6467e8-1ff8-46e6-8e2b-fbc2a8887709
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(3)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: CRY_CDE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e5192090-9b91-4da4-8034-2985ce267cb9
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e975aa92-7f72-4267-95da-a6d71271569c
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: ""
        name: CRY_DES_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 566551e1-e894-472e-9df4-f0814484b3a4
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: abd7b069-29b9-481f-aeec-f8876db4fcfc
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: ""
        name: DCL_PLS_NBR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4602e5eb-f624-49f5-8eb6-602eb7ee2956
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8a18f128-21d9-4727-9db9-9b2f8b9b9271
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: SYM_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0265f8db-7d5b-4313-b30f-08e61a7b2762
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f919a3d9-7c2b-42ca-b8fd-417e4a94dabd
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(2)
        defaultValue: ""
        description: ""
        name: NULLIF_SYM_DES_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 03ba2bcc-d199-4510-a621-27758ad5f05c
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6b30e3e8-740a-4b22-b20b-2671e9da8939
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: SYM_DES_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4615a7f2-f28d-4d08-a46f-326e3305daaf
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2607289f-91c5-456e-8463-e3a4bd728fbc
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(2)
        defaultValue: ""
        description: ""
        name: NULLIF_SYM_PSN_CDE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b1a94adf-ddb7-45e4-a5b0-5792578d9553
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3b5d34c9-2548-4e18-b804-35b17f132a14
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: SYM_PSN_CDE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7bd60a16-b6a4-4519-b331-9238d65a67f1
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5925a997-6464-4abb-899e-e6e4f2279beb
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: DCL_SPR_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a17f7bfd-facf-4407-96e9-d980464e898a
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9cfff261-c0c3-4cb9-906a-159e922230d2
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: TSS_SPR_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 697a95cf-197f-482d-b1bc-3e791a548a43
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ad9df357-6b76-457f-a662-f4654d12c765
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(1)
        defaultValue: ""
        description: ""
        name: IPT_DCL_SPR_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3eedd3b5-3fb1-4d37-b10e-de0800bb24c1
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ea63835c-70c4-4a8b-98ec-7cd6bf4d698f
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: SGN_SYM_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a66118ce-5861-43e2-9b7b-52c1d40b4526
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 021a5617-7661-4541-81d3-ce3ccf724971
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(2)
        defaultValue: ""
        description: ""
        name: NULLIF_SGN_POS_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 356685e1-80a8-4bc4-981c-733a39a87313
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 56ed0ff9-7663-4373-9534-e90d4afa0eca
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: SGN_POS_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7201c649-9a36-4043-b5f5-e825148d370e
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c0c58667-318a-44d3-8f1f-92ba13da6946
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(2)
        defaultValue: ""
        description: ""
        name: NULLIF_SGN_NEG_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2b3ca695-f18a-4e79-8215-dc505deac642
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f021756b-2bdd-408c-a023-2bce6cf4e260
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: SGN_NEG_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4b13c386-8258-4432-af86-01c7dc144b8e
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: eed75cfc-b75a-4362-9b49-b7552ea89d42
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: SGN_PSN_CDE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ee2974d9-ba19-4d0b-a79f-57126a532e82
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: eaebd69a-d5af-4922-b961-1c2af452515d
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: TIMESTAMP(9)
        defaultValue: ""
        description: ""
        name: LST_UPD_DTE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 53bdd1c6-2a80-4343-9b78-92750cf074e2
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d3058682-6d02-4837-9e4d-83a19eda11b5
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(8)
        defaultValue: ""
        description: ""
        name: LST_UPD_TME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b9b6ca1c-407d-4fa4-8d6d-93e85ebc9753
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5204bb8b-c26d-4f97-be93-32c7226101a9
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(8)
        defaultValue: ""
        description: ""
        name: LST_UPD_UID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4710d84c-f199-4e77-a049-1ead7fb9d3ef
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d797e524-14a7-479d-b7cc-68327e0f4987
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: ""
        name: LST_UPD_NBR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 007d3629-83b1-44a2-a34c-2eebfde9302c
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 37c6fdf0-cbcc-4690-aa76-9c583b2da622
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: CREATED_BY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 269cf514-b454-40b4-8b88-ce9f723bd1ba
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ccc747ab-0240-489d-a4ea-06e9f0729a7a
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: TIMESTAMP(9)
        defaultValue: ""
        description: ""
        name: CREATED_AT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ede7a218-8299-401f-b0cd-df2a51675ccc
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9d63ccaa-7df6-4335-a7b7-3a20eb0db3f9
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: UPDATED_BY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5f793a44-9b81-488d-8027-64fd77b0b507
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: df72b38d-9674-4ecf-8009-e8346b7d610e
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: TIMESTAMP(9)
        defaultValue: ""
        description: ""
        name: UPDATED_AT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cbbd110d-aae8-4696-a010-b5eb4c6a17b6
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d78df7b3-7a6c-4da4-96c4-6e199b898160
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(500)
        defaultValue: ""
        description: ""
        name: RUN_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ffa04026-a08a-4473-90df-50fe431ec1a7
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e040c7e2-6c46-47de-8e4a-db3a5c667026
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: TIMESTAMP_NTZ(3)
        defaultValue: ""
        description: ""
        name: FILE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 96b38e09-8c1a-4dc4-99cb-74e3e5df5e9d
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 62f7a592-2463-41d5-bad1-fa3b58292370
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: BINARY(16)
        defaultValue: ""
        description: The changing hash
        name: DSS_CHANGE_HASH
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a92c520f-6dd1-47b3-b8d9-84caf6cdb948
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 13f16d02-196f-4083-9be6-f7e91df1cb42
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: Record source
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b523564d-3195-4652-ba4c-4c42ee78e307
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 471d11da-fe93-4b3e-bd32-17bf74892826
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was loaded in the data vault
        name: DSS_LOAD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bd446236-ad0b-4d68-a4f5-1cd33e07aa5e
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: df308969-3f12-42b0-95a6-5cdc1dd723c0
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row started in the data vault
        isSystemStartDate: true
        name: DSS_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c6d65ddb-3a6b-44f9-a853-8fd7ab771072
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: de855e37-87e9-44df-a7d8-8901794888f1
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: NUMBER(38)
        defaultValue: ""
        description: Version number of a business key in the data vault
        isSurrogateKey: true
        isSystemVersion: true
        name: DSS_VERSION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b8fd7798-197c-428a-b5fc-a73a4667cbd5
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7af2ee18-f593-4e65-8a4c-d196ccc39edd
          stepCounter: 88451f80-5abe-49d8-8fa4-ebb356c1ca20
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was inserted in the data vault
        isSystemCreateDate: true
        name: DSS_CREATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cb968e3f-4000-494f-ac9e-fe1383abd4c0
                stepCounter: b791dd62-a342-4ba6-a201-9d503675fff8
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          S_LKP_CURRENCY_CODE_MROC: b791dd62-a342-4ba6-a201-9d503675fff8
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DATAVAULT_RAW_VAULT
            nodeName: S_LKP_CURRENCY_CODE_MROC
        join:
          joinCondition: |-
            FROM {{ ref('DATAVAULT_RAW_VAULT','S_LKP_CURRENCY_CODE_MROC') }} s_lkp_currency_code_mroc
             INNER JOIN (
                    SELECT hk_h_lkp_currency_code,
                           MAX(dss_start_date) AS dss_start_date
                      FROM {{ ref('DATAVAULT_RAW_VAULT','S_LKP_CURRENCY_CODE_MROC') }}
                     GROUP BY hk_h_lkp_currency_code
                   ) curr
                ON curr.hk_h_lkp_currency_code = s_lkp_currency_code_mroc.hk_h_lkp_currency_code
               AND curr.dss_start_date = s_lkp_currency_code_mroc.dss_start_date
        name: S_LKP_CURRENCY_CODE_MROC_CURRENT
        noLinkRefs: []
  name: S_LKP_CURRENCY_CODE_MROC_CURRENT
  overrideSQL: false
  schema: ""
  sqlType: View
  type: sql
  version: 1
type: Node
