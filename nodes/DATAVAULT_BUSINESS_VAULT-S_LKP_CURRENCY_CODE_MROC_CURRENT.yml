fileVersion: 1
id: 6788c3ac-cf6f-4c26-9759-6a880921870b
name: S_LKP_CURRENCY_CODE_MROC_CURRENT
operation:
  config:
    insertStrategy: UNION
    selectDistinct: false
  customOverride: false
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: DATAVAULT_BUSINESS_VAULT
  materializationType: view
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 947a9570-a4ad-4e1b-9fee-9043f78c8218
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: BINARY(16)
        defaultValue: ""
        description: ""
        name: HK_H_LKP_CURRENCY_CODE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 07efda92-c0d8-4830-9465-a58a5110d9a2
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3a2cd82f-c2b9-446b-b2b1-1b1ac8d6efa7
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(3)
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: CRY_CDE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e8842de3-40e3-446f-93da-cff110c9e505
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f5c4e82e-d8ae-4830-9923-30115602b395
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: ""
        name: CRY_DES_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6aa5c789-c924-4b36-a301-6a0745cc315e
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1bdb3e85-7cb1-4dfe-bce6-5ed55130341a
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: ""
        name: DCL_PLS_NBR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c738c2fa-47ab-4c1d-a29d-0a9a6e458e86
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a3909c91-31de-4da0-b384-66ecb45b8e18
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: SYM_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b75fa801-cf9b-4339-8a65-4807b3dc5e20
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e5429ad0-00d4-418f-9ab7-48e2923ce9db
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(2)
        defaultValue: ""
        description: ""
        name: NULLIF_SYM_DES_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a6685fbb-dc6c-4349-8351-bf9277101666
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2015b8bb-09ab-4c27-9812-873c688bdf06
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: SYM_DES_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 07407b8a-a785-4383-b8b0-34f130076cd5
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e53028e6-7945-4dbf-85cd-001fd53eb424
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(2)
        defaultValue: ""
        description: ""
        name: NULLIF_SYM_PSN_CDE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5e6dacfc-0db5-4212-b6ae-51cdeb9963de
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ff45e8a0-8672-42fb-aa38-1335291d1f14
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: SYM_PSN_CDE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b52972e7-f31e-473b-8e52-4e572eba2faf
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 26644d42-a220-4012-ac56-27ce0b773641
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: DCL_SPR_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a3fa6763-4664-4f15-ad6c-698e2e4c500b
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 59403758-823a-4d25-8b99-a618f33ac247
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: TSS_SPR_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7b7904f4-cad1-450f-9072-aa80ff2ebfa0
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a53a0426-3c0f-4a40-a2db-254282745734
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(1)
        defaultValue: ""
        description: ""
        name: IPT_DCL_SPR_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4d65b0b7-f355-4533-b9b4-d99fb41dbe3c
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c8c9e4d5-7a16-411e-9353-f263f5cc4c21
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: SGN_SYM_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ffbb95c8-2455-4db6-b95d-054b169305c0
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f56a97c8-9a88-40f0-af59-2bc1c9d67a51
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(2)
        defaultValue: ""
        description: ""
        name: NULLIF_SGN_POS_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7f00cfc9-8ee4-48fe-878f-574ec757abf3
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2292defe-0b43-4553-ad39-bf99a82e2b40
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: SGN_POS_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2237af3c-742a-4bb8-999b-921e2760992d
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a75bf392-f0f0-4a86-ae87-ed49832dd151
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(2)
        defaultValue: ""
        description: ""
        name: NULLIF_SGN_NEG_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1f8d35a9-0100-4bf9-90f5-8486dc25cfdf
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1c97250a-b80c-49e4-b690-adb8af65207c
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: SGN_NEG_TXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 732316bb-9c89-48a7-b591-cf7c21b7867f
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dc5c1ec3-1656-4941-9775-88a6260296b4
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: SGN_PSN_CDE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8ee6e350-13ba-402f-ac04-95a122bc708b
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2ac12a93-b6b0-4ffb-93c6-06f0419a826f
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: TIMESTAMP(9)
        defaultValue: ""
        description: ""
        name: LST_UPD_DTE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0faee27d-89d2-4a04-a63c-8ec02eb8492c
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3150a46c-795a-479c-adb3-adfb0ad006af
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(8)
        defaultValue: ""
        description: ""
        name: LST_UPD_TME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ad354769-7e5e-4683-82b4-e218513f8dbc
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 340c5a52-c419-42e1-9e04-8dda56bc087c
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(8)
        defaultValue: ""
        description: ""
        name: LST_UPD_UID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d4498dd5-fd33-4642-a2d5-da83691d5c80
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 90083de2-b96b-4987-8cfe-adadeecf0ab5
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: DECIMAL(38,0)
        defaultValue: ""
        description: ""
        name: LST_UPD_NBR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4a873fec-e2e2-4f94-842e-f95a3c971b45
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9b0aee20-2b78-4ab3-8b4a-3666d207dc46
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: CREATED_BY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f979dd08-2080-4c2b-826d-7124428e9978
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d0c73302-a7e5-4948-b228-d4f97326ab17
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: TIMESTAMP(9)
        defaultValue: ""
        description: ""
        name: CREATED_AT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6f7a7ccb-510d-4be3-ad39-2d8a65dbe71c
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 459598d5-0c89-414c-af6e-3d8b87651bfc
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: ""
        name: UPDATED_BY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 745859e0-e790-443f-bdea-b70b9d541c2c
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bd47af27-c129-466d-a954-7a2ac9cdeffb
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: TIMESTAMP(9)
        defaultValue: ""
        description: ""
        name: UPDATED_AT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0a9e746e-f017-4312-a4dd-18d5b607ad9e
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d9affde5-aa76-40d1-8410-b7163d5781e6
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(500)
        defaultValue: ""
        description: ""
        name: RUN_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 789ea24d-1c48-4ad1-9d2a-4b0789d176b0
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 59224128-610c-4f06-98e9-245dd44fa3c6
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: TIMESTAMP_NTZ(3)
        defaultValue: ""
        description: ""
        name: FILE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d7cdc051-c329-4e08-a0a6-a56fd00e6ea4
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7adeaaea-52e9-4fdc-a178-d86083f160c5
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: BINARY(16)
        defaultValue: ""
        description: The changing hash
        name: DSS_CHANGE_HASH
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bbecc86d-468c-4667-ad13-0c9e77b8955b
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 31e8ed81-0757-488d-ac00-18e4771cf072
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: VARCHAR(255)
        defaultValue: ""
        description: Record source
        name: DSS_RECORD_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dd7d2aaf-23bf-4f24-a31c-ea99b53be5a4
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5c59e71b-738e-46ca-9b67-581805fe4e7a
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was loaded in the data vault
        name: DSS_LOAD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7d3a1f99-b16a-40bc-ad11-5291f622bd71
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 95708ed8-9362-4b78-8af1-6667c348755a
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row started in the data vault
        isSystemStartDate: true
        name: DSS_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 48e45874-4a2d-4e9b-9b8d-9f6077b1dc96
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 52bc6e17-9681-4e5c-8daa-33c68bc608f6
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: NUMBER(38)
        defaultValue: ""
        description: Version number of a business key in the data vault
        isSurrogateKey: true
        isSystemVersion: true
        name: DSS_VERSION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 928433b9-6710-4415-9015-7c2294b9bddf
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8bd93d40-2988-48d9-a5c3-2e3a60ff6885
          stepCounter: 6788c3ac-cf6f-4c26-9759-6a880921870b
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was inserted in the data vault
        isSystemCreateDate: true
        name: DSS_CREATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 10af0323-1ddd-4ed6-aad4-c4b77eba7eda
                stepCounter: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          S_LKP_CURRENCY_CODE_MROC: 7b5c15aa-2af4-4a53-8ed1-e1b98e5fe5af
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DATAVAULT_RAW_VAULT
            nodeName: S_LKP_CURRENCY_CODE_MROC
        join:
          joinCondition: |-
            FROM {{ ref('DATAVAULT_RAW_VAULT','S_LKP_CURRENCY_CODE_MROC') }} s_lkp_currency_code_mroc
             INNER JOIN (
                    SELECT hk_h_lkp_currency_code,
                           MAX(dss_start_date) AS dss_start_date
                      FROM {{ ref('DATAVAULT_RAW_VAULT','S_LKP_CURRENCY_CODE_MROC') }}
                     GROUP BY hk_h_lkp_currency_code
                   ) curr
                ON curr.hk_h_lkp_currency_code = s_lkp_currency_code_mroc.hk_h_lkp_currency_code
               AND curr.dss_start_date = s_lkp_currency_code_mroc.dss_start_date
        name: S_LKP_CURRENCY_CODE_MROC_CURRENT
        noLinkRefs: []
  name: S_LKP_CURRENCY_CODE_MROC_CURRENT
  overrideSQL: false
  schema: ""
  sqlType: View
  type: sql
  version: 1
type: Node
