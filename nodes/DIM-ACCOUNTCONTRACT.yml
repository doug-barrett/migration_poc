fileVersion: 1
id: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
name: ACCOUNTCONTRACT
operation:
  config:
    distinct: true
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: DIM
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8277061d-81d2-4463-96d9-856f7a86a9d6
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: GENERATED ARTIFICIAL KEY
        isSurrogateKey: true
        name: ACCOUNTCONTRACTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f4e2f23b-1d83-47b2-8071-d830f7957f79
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: CONTRACT_SALESFORCE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1755ceb3-3354-4529-b89a-be8f7c069341
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f60a9b66-582e-4a57-be6f-1caeec6ec521
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: GENERATED ARTIFICIAL KEY
        name: ACCOUNTKEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 63eb8b54-c409-46dc-b354-b1dedfc82ecf
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 66be7b57-b95f-45aa-868c-f2f736ae9aaf
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: IS THE PREFERRED NAME (NOT NECESSARILY THE LEGAL NAME) FOR AN ACCOUNT
        name: ACCOUNT_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 80cdc253-1870-4bcb-a477-eae19ffaeef8
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e3ba5d2d-6112-44e5-a2c7-4efd24cbdd35
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CONTRACT_MANAGER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e8040351-7209-4016-a53a-ec985fbbd6ad
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fc91bccb-c278-45e6-8de3-e3b74b527bf4
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CONTRACT_NUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e9ac6329-f949-479d-8e68-10c36d0667c8
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: IFNULL(STAGECONTRACT_ADDKEYS.CONTRACTNUMBER,STAGECONTRACT_ADDKEYS.SALESFORCECONTRACTNUMBER)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f4414fe2-f378-4498-8512-fb90e6dd3b95
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CONTRACT_TITLE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cc1990af-47cf-4c1c-9a3f-777e67fd5df3
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: IFNULL(STAGECONTRACT_ADDKEYS.CONTRACTNAME,STAGECONTRACT_ADDKEYS.PPACONTRACTTITLE) \N
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 71983a56-b5b4-4045-bab6-9d8a657005b2
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CONTRACT_STATUS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8e884e1d-4f17-41bc-a2f8-5166474f2e60
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ac04a00e-0178-4b2e-8658-93938f562f9b
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CONTRACT_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d5b31de1-318e-4ac9-a080-d1dfb3c53806
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e0b106fd-8508-47bc-ac9a-cd6605417a77
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CONTRACT_RECORD_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7ce2c32a-e0bb-4c33-b850-ae096e89ce2b
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2ccaadc5-b7f4-4f68-9ee7-5d5c16efddd8
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CONTRACT_PUBLIC_OR_PRIVATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e174a80a-39ea-41ee-81f5-7f209cc91bfb
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 29bb05b5-a862-4b99-bbf2-89564b570ae2
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        name: CONTRACT_AWARD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 98abaa39-9e75-4b05-9da6-b77296f34955
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5ac92afb-4379-4b3f-b239-7fcc0d159ef6
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: VARCHAR(500)
        defaultValue: ""
        description: IS THE REBATE LANGUAGE FOR CONTRACTS IN THE PARTICIPANT REBATE AGREEMENT RECORD TYPE ONLY.
        name: CONTRACT_REBATE_LANGUAGE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 53899504-bd13-412d-a152-e532da7dad34
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bf2080de-f429-4ce6-a53e-4ffb5d002174
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        name: CONTRACT_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ffa8cd3e-ca5e-4538-9406-11ca814d9763
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 87f0a36e-bb7c-454d-9ef8-0626d7c2e279
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        name: CONTRACT_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 726576b6-8059-4719-8291-d7bf92f6b3a1
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f78fe902-51f0-40e6-8017-48aa8c24e974
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        name: CONTRACT_TERM_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9c1cd2dc-1217-4a21-b167-2e19b8d37b8d
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a59fa665-5691-4c4f-8f97-0776b88a0ab2
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CONTRACT_CREATED_BY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 57b5ccba-7220-46dd-8418-9e56839fa8b4
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c2113b68-89fb-4b2e-949b-b4e4fb51ac0a
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        name: CONTRACT_CREATED_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 890ac821-8186-462f-b99c-4eb6ee4507cd
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d0c96d02-f691-4c2a-9a61-8744846e022e
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CONTRACT_LAST_MODIFIED_BY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 116ca17e-0b68-42ed-9cb6-f0ddffb61f7f
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e542729c-dcf5-48dd-9112-e59df10c9060
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        name: CONTRACT_LAST_MODIFIED_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 126e1948-9d83-4974-890d-e0d6dd7a0409
                stepCounter: 306ba764-7701-4698-9a97-98491d8a2207
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 629c0cbb-93b9-43ff-87db-1ea2fc46ff26
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: DATE AND TIME THE ROW WAS CREATED IN THE DATA WAREHOUSE.
        name: DSSCREATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e3e56745-b0d8-4bf1-9d93-6b90ffc62748
          stepCounter: 82af3812-e9b0-4ed8-815f-e76a0e7e01a1
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: DATE AND TIME THE ROW WAS UPDATED IN THE DATA WAREHOUSE.
        name: DSSUPDATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          STAGECONTRACT_ADDKEYS: 306ba764-7701-4698-9a97-98491d8a2207
          ACCOUNT: e6f00723-a598-4272-b25a-ed544e4c0a06
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: STAGE
            nodeName: STAGECONTRACT_ADDKEYS
          - locationName: DIM
            nodeName: ACCOUNT
        join:
          joinCondition: |-
            FROM {{ ref('STAGE','STAGECONTRACT_ADDKEYS') }} STAGECONTRACT_ADDKEYS
              LEFT JOIN {{ ref('DIM','ACCOUNT') }} ACCOUNT
                ON STAGECONTRACT_ADDKEYS.CONTRACTACCOUNTID = ACCOUNT.SALESFORCEID
             WHERE STAGECONTRACT_ADDKEYS.ACCOUNTKEY>0
        name: ACCOUNTCONTRACT
        noLinkRefs: []
  name: ACCOUNTCONTRACT
  overrideSQL: false
  schema: ""
  sqlType: DIMENSION
  type: sql
  version: 1
type: Node
