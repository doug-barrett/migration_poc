fileVersion: 1
id: 3f42544b-7386-40c1-a75a-2ac53d0e2125
name: ACCOUNTCONTRACT
operation:
  config:
    distinct: true
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: DIM
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0e9c734e-dc4a-46a6-8183-c7bf5d16c197
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: GENERATED ARTIFICIAL KEY
        isSurrogateKey: true
        name: ACCOUNTCONTRACTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 58a2a2af-c9ed-4323-9088-cc3f3b3f3fe6
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: CONTRACT_SALESFORCE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ea8e81c7-f828-4127-969d-2e5c7e52283d
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8ad5ea2b-b51d-4d1e-9a40-99948c93efb1
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: GENERATED ARTIFICIAL KEY
        name: ACCOUNTKEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ce7a3a2b-7681-45b8-8f65-8964049326f6
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 223428eb-9b1f-42fb-8827-64896a5681ac
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: IS THE PREFERRED NAME (NOT NECESSARILY THE LEGAL NAME) FOR AN ACCOUNT
        name: ACCOUNT_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 15ddaaa6-1784-47df-be1f-00bdd589dbe2
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a6d31144-c095-4f9b-a301-3201a94c37c1
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CONTRACT_MANAGER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6471dbcb-3658-4861-879b-1a30e90b55f2
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fb02e56d-e4c8-4f0f-97e0-adb65fda90ea
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CONTRACT_NUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 91aea147-d430-4162-9222-2013c48fd4c6
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: IFNULL(STAGECONTRACT_ADDKEYS.CONTRACTNUMBER,STAGECONTRACT_ADDKEYS.SALESFORCECONTRACTNUMBER)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 091e4b40-a561-4511-bfb4-37a08216f486
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CONTRACT_TITLE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4a76a8be-e7ae-428e-8555-0168f8e850f6
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: IFNULL(STAGECONTRACT_ADDKEYS.CONTRACTNAME,STAGECONTRACT_ADDKEYS.PPACONTRACTTITLE) \N
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ec4dde47-ec21-48cb-9308-f2b06f7e395e
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CONTRACT_STATUS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0d2be7c6-9948-47ad-8ca4-74057c43dfba
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 04e7ceed-929c-4c19-93ef-02f7f5fb2500
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CONTRACT_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8f2f34ee-4a63-422a-90f6-c3a467e2a4aa
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5453ce50-f798-48de-86ad-80b6d22189b0
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CONTRACT_RECORD_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7ed15216-990c-4e53-ae3f-0b57f1426807
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 03ac05c1-9a05-4c1f-8be3-ba38cadeb80c
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CONTRACT_PUBLIC_OR_PRIVATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 27ad0035-c4af-437d-8ca3-0f4f982e0552
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 23b0e2cc-f612-4d9f-917e-5fe98bf7991b
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        name: CONTRACT_AWARD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f524b7e6-a5f1-4a39-aa8f-cd156296dee7
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8cfd85c1-0e02-4688-bb18-4c4504a5f703
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: VARCHAR(500)
        defaultValue: ""
        description: IS THE REBATE LANGUAGE FOR CONTRACTS IN THE PARTICIPANT REBATE AGREEMENT RECORD TYPE ONLY.
        name: CONTRACT_REBATE_LANGUAGE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fffd0e6b-186b-4ccb-9204-a6cc2430df52
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 996539e8-c6bd-49c3-9db7-fdaf48224727
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        name: CONTRACT_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9de3e4f2-1839-44a4-9a99-e8ebc71ff6f3
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 43518177-d5fc-451d-8259-496052a5916b
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        name: CONTRACT_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c451e7bc-68bc-41d4-acd6-0b797680d685
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e857843b-425d-4ba8-9055-42b5d2419291
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        name: CONTRACT_TERM_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 49ec234b-0464-4755-aa71-61af9cefcdb1
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a9917e1f-2831-45eb-b242-3fb0c6f2ef85
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CONTRACT_CREATED_BY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0030ebfa-a88a-49cb-b4b4-bf00bbe4eb9c
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b12a0316-ba10-4902-a389-e7c6f6e45704
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        name: CONTRACT_CREATED_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0f5bc023-565a-4778-a413-f2fc6ec7cdf1
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f7b42f0d-a145-43a2-808d-bc0c7fd43678
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        name: CONTRACT_LAST_MODIFIED_BY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 83faa648-9bf4-466f-8d84-e6795c610c1e
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 74b9d155-e14c-4db6-bd6f-d5f574711562
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        name: CONTRACT_LAST_MODIFIED_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2479923c-fbd0-431d-855f-dda4d3ae9cfa
                stepCounter: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7169e0d6-80b3-46b5-a914-86693c9b9fb9
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: DATE AND TIME THE ROW WAS CREATED IN THE DATA WAREHOUSE.
        name: DSSCREATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e6ee9edf-e2fe-4b14-91dc-b53f8ed645f6
          stepCounter: 3f42544b-7386-40c1-a75a-2ac53d0e2125
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: DATE AND TIME THE ROW WAS UPDATED IN THE DATA WAREHOUSE.
        name: DSSUPDATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          STAGECONTRACT_ADDKEYS: 112655cf-f4d7-4443-a6e7-dab41d9b1f40
          ACCOUNT: d5234d5a-eb19-45e2-9c42-47221579f347
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: STAGE
            nodeName: STAGECONTRACT_ADDKEYS
          - locationName: DIM
            nodeName: ACCOUNT
        join:
          joinCondition: |-
            FROM {{ ref('STAGE','STAGECONTRACT_ADDKEYS') }} STAGECONTRACT_ADDKEYS
              LEFT JOIN {{ ref('DIM','ACCOUNT') }} ACCOUNT
                ON STAGECONTRACT_ADDKEYS.CONTRACTACCOUNTID = ACCOUNT.SALESFORCEID
             WHERE STAGECONTRACT_ADDKEYS.ACCOUNTKEY>0
        name: ACCOUNTCONTRACT
        noLinkRefs: []
  name: ACCOUNTCONTRACT
  overrideSQL: false
  schema: ""
  sqlType: Dimension
  type: sql
  version: 1
type: Node
