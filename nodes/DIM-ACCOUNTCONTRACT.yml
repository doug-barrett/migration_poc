fileVersion: 1
id: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
name: ACCOUNTCONTRACT
operation:
  config:
    distinct: true
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: DIM
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b61da8a3-afab-4c9f-bd90-b1f5dbd7b84a
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        isSurrogateKey: true
        name: ACCOUNTCONTRACTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9e2826a2-7603-4613-9082-73cbafb23925
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        isBusinessKey: true
        name: CONTRACT_SALESFORCE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 553f2d32-12fa-4a11-96d4-8ebef06eaf8f
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b5bd277c-6b08-4d5b-9d35-d09a06f0a0b0
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: Generated artificial key
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: ACCOUNTKEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 98e5ec75-092e-4250-8fd2-7cebdf834583
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: baf5b67e-c611-45fc-aea8-8752ee114447
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: is the preferred name (not necessarily the legal name) for an account
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: ACCOUNT_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1c4eec37-504a-4622-a439-59026e318891
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c1bd9466-7b20-4079-a955-564f76ff27dc
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: CONTRACT_MANAGER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 170ee72e-d903-49f0-909c-8269f59e7c9b
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ba2d607a-3ff0-437a-81b0-2d2533c543ac
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: CONTRACT_NUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9fd7d902-5660-4a41-bdc8-edd465b20a07
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: IFNULL(StageContract_AddKeys.ContractNumber,StageContract_AddKeys.SalesforceContractNumber)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6b6d2ff9-f3c6-4d5f-bd1f-180a255bd7bd
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: CONTRACT_TITLE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cbd24c70-d0d3-4696-b193-4e8a705664da
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: IFNULL(StageContract_AddKeys.ContractName,StageContract_AddKeys.PPAContractTitle)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 228b1725-0837-4c62-b085-16f9d648c9b0
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: CONTRACT_STATUS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b2036d40-168e-48d0-b10c-9d8eec271b8a
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 83d8fa26-6887-4281-b072-7cfb31dd1077
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: CONTRACT_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e94948ac-9854-418b-bc7e-a92078cc0e71
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e4d5fe68-a05a-4568-9837-cd6a2d9ba0cc
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: CONTRACT_RECORD_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ce996062-5f7e-47c0-901c-29cc479d239c
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 52ba968c-0514-476b-9548-22dca6168d34
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: CONTRACT_PUBLIC_OR_PRIVATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3807b472-adab-4649-9d0f-a67cb57f42ec
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ea934b0a-d79c-493e-888b-61ff79cc2f45
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: CONTRACT_AWARD_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 30d3a5e6-6f25-4eeb-9223-c96e48e465e9
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8d9c9c50-32e6-4c3a-84b3-ebad3d451449
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: VARCHAR(500)
        defaultValue: ""
        description: is the rebate language for contracts in the Participant Rebate Agreement record type only.
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: CONTRACT_REBATE_LANGUAGE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ed424cc1-f822-4a2a-bff2-7dac95512f59
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2fc7f7f4-6e04-4ea0-9dcf-f04c92c5fc49
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: CONTRACT_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 31410d4c-c0e8-431b-a947-4f5e6eb7aed2
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3ad9c6f7-2dad-4493-acc7-bb1c18c53b6f
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: CONTRACT_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5f0fcb5d-6f6d-4662-abba-62ee51a6135d
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: be5b1d96-d29b-4650-97c0-5ac94315d5f9
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: CONTRACT_TERM_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4756d8b9-be49-4db3-ae9b-b3c61b9e3bdb
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5d3f2210-9a9e-42fd-9e01-7c7caecfe28e
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: CONTRACT_CREATED_BY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dcec9895-9c3b-40ab-aaa1-47bbf16aa441
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a0e310b0-d394-4f3c-b70f-903469c1d815
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: CONTRACT_CREATED_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b83afa5c-1d8d-45f2-8c62-52f926b7ee7f
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 33139515-b371-4b06-8154-11219de1fc43
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: CONTRACT_LAST_MODIFIED_BY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d009ba79-1ad0-4791-973b-695f2eaee4c8
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1efcd0da-fadb-4a27-8402-9f6634e498dc
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: CONTRACT_LAST_MODIFIED_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 352d0c81-f479-4617-8fd9-218e2c1cc1d7
                stepCounter: a557c868-a61f-409b-b1a1-a27acc666ca6
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9d1614de-3ec8-459b-bd4e-e9eff5f84414
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was created in the data warehouse.
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: DSSCREATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3f7bd755-292d-4160-925e-4d58fdfd0e00
          stepCounter: b3f6b350-25dc-4a9d-acff-0ad9aa12bb10
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        hashDetails:
          hashAlgorithm: MD5
        hashedColumns:
          - column: "NULL"
        name: DSSUPDATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          STAGECONTRACT_ADDKEYS: a557c868-a61f-409b-b1a1-a27acc666ca6
          ACCOUNT: c278473c-12f0-41e1-b65b-faa4b3c2a978
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: STAGE
            nodeName: STAGECONTRACT_ADDKEYS
          - locationName: DIM
            nodeName: ACCOUNT
        join:
          joinCondition: |-
            FROM {{ ref('STAGE','STAGECONTRACT_ADDKEYS') }} StageContract_AddKeys
              LEFT JOIN {{ ref('DIM','ACCOUNT') }} ACCOUNT
                ON StageContract_AddKeys.ContractAccountId = Account.SalesforceId
             WHERE StageContract_AddKeys.AccountKey>0
        name: ACCOUNTCONTRACT
        noLinkRefs: []
  name: ACCOUNTCONTRACT
  overrideSQL: false
  schema: ""
  sqlType: Dimension
  type: sql
  version: 1
type: Node
