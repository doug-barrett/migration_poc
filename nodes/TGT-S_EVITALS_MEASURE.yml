fileVersion: 1
id: c048fea6-e658-45e6-9033-b09e6fe857ba
name: S_EVITALS_MEASURE
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: "Source table for dim_eVitals_measure. A single measure (e.g. MTEMP Temperature) can belong to more than one measure set."
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 224fd80b-2774-4e20-8655-ab13f68b0bfc
          stepCounter: c048fea6-e658-45e6-9033-b09e6fe857ba
        config: {}
        dataType: INT
        defaultValue: ""
        description: Integer ID that uniquely identifies a measure in Patientrack. Sourced from obmsr_pk.
        name: MEASURE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 51a90dbe-9bcc-4175-a7c0-96ccd7787354
                stepCounter: 16479f0f-61d2-462f-b562-cf3d2250cd14
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6083e055-4bba-4d4d-93ea-2d2937c03efc
          stepCounter: c048fea6-e658-45e6-9033-b09e6fe857ba
        config: {}
        dataType: INT
        defaultValue: ""
        description: Integer ID that uniquely identifies a parent measure if one exists. Sourced from parent_obmsr_pk.
        name: PARENT_MEASURE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 88b88f9e-56e0-4c26-a29a-9cf967688360
                stepCounter: 16479f0f-61d2-462f-b562-cf3d2250cd14
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7f58d52d-d470-464a-98b1-a9d4b1b37196
          stepCounter: c048fea6-e658-45e6-9033-b09e6fe857ba
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: Alphanumeric code that uniquely identifies a measure e.g. RESPR, MTEMP, O2SAT.
        name: MEASURE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 86e05a17-d9e0-483e-b660-0ae08f1a145c
                stepCounter: 16479f0f-61d2-462f-b562-cf3d2250cd14
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9bcb0575-bdcb-4498-b46c-d52901ed5524
          stepCounter: c048fea6-e658-45e6-9033-b09e6fe857ba
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: Alphanumeric code that uniquely identifies a parent measure e.g. HEART, LYGBP.
        name: PARENT_MEASURE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 86e05a17-d9e0-483e-b660-0ae08f1a145c
                stepCounter: 16479f0f-61d2-462f-b562-cf3d2250cd14
            transform: m2.code
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3bc73ae1-a98c-442d-a9c8-381b086a23d5
          stepCounter: c048fea6-e658-45e6-9033-b09e6fe857ba
        config: {}
        dataType: VARCHAR(60)
        defaultValue: ""
        description: Free format name of a measure.
        name: MEASURE_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 769a36a9-a8b3-4335-83ae-43b3f177350b
                stepCounter: 16479f0f-61d2-462f-b562-cf3d2250cd14
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1b3f4a2b-209a-41d7-a482-ee5fe725190c
          stepCounter: c048fea6-e658-45e6-9033-b09e6fe857ba
        config: {}
        dataType: VARCHAR(60)
        defaultValue: ""
        description: Free format description of a measure.
        name: MEASURE_DESCRIPTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5e6e8e35-2488-47a2-b83f-33c53bad481d
                stepCounter: 16479f0f-61d2-462f-b562-cf3d2250cd14
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b4008514-72f5-4fab-aaeb-8bea12ca6447
          stepCounter: c048fea6-e658-45e6-9033-b09e6fe857ba
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: Additional text about a measure. Not usually populated.
        name: MEASURE_ADDITIONAL_TEXT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cbbc3384-b8a0-46fe-bf57-f35e1b5b1d8c
                stepCounter: 16479f0f-61d2-462f-b562-cf3d2250cd14
            transform: IFNULL(l_Patientrack_OBSERVATION_MEASURE.ADDITIONAL_TEXT, '')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5ac890ec-449a-4868-b7b1-7a5934707977
          stepCounter: c048fea6-e658-45e6-9033-b09e6fe857ba
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: The unit by which a measure is reported e.g. mmHg (Blood Pressure), /minute (Heart Rate).
        name: MEASURE_UNIT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7d021265-e4c1-49e4-8ef7-29088d2fab3f
                stepCounter: 16479f0f-61d2-462f-b562-cf3d2250cd14
            transform: IFNULL(l_Patientrack_OBSERVATION_MEASURE.UNIT, '')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8885b306-9e30-45a4-98af-56217de89fce
          stepCounter: c048fea6-e658-45e6-9033-b09e6fe857ba
        config: {}
        dataType: INT
        defaultValue: ""
        description: PK value for REFERENCE_VALUE row that holds the measure data type.
        name: DATYP_RFVAL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 47ded373-fdce-43e2-be19-ce9a53fcb7a7
                stepCounter: 16479f0f-61d2-462f-b562-cf3d2250cd14
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: abba53dd-55cd-4bbe-9b59-87e49b130ac5
          stepCounter: c048fea6-e658-45e6-9033-b09e6fe857ba
        config: {}
        dataType: VARCHAR(20)
        defaultValue: ""
        description: 'Data type of the measure result. Possible values: Integer, Decimal, List, Flag, Heart Rate, Blood Pressure.'
        name: MEASURE_DATA_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a1e6af49-d8c4-43cb-abf0-32e02215f095
                stepCounter: f6f252ab-0278-492b-8f5a-bc508fa6a440
            transform: r1.description
      - appliedColumnTests: {}
        columnReference:
          columnCounter: de93433e-eb57-4b61-99c3-6892c5b51ccc
          stepCounter: c048fea6-e658-45e6-9033-b09e6fe857ba
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: Further describes the format of a measure e.g. 999, 99.9, Systolic Value/Diastolic Value.
        name: MEASURE_FORMAT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 37f030da-d53d-4786-9997-48bff27eac3b
                stepCounter: 16479f0f-61d2-462f-b562-cf3d2250cd14
            transform: IFNULL(l_Patientrack_OBSERVATION_MEASURE.FORMAT, '')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7a53af7f-56ca-4b4f-ac8b-3b0b314760b6
          stepCounter: c048fea6-e658-45e6-9033-b09e6fe857ba
        config: {}
        dataType: NUMERIC(8,2)
        defaultValue: ""
        description: Minimum value allowed for a measure result.
        name: MEASURE_MIN_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8aa8e7cd-5c57-47cb-90b2-0e3880cc3208
                stepCounter: 16479f0f-61d2-462f-b562-cf3d2250cd14
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f1021e71-c0fd-4405-bf2f-b8c7c06587d3
          stepCounter: c048fea6-e658-45e6-9033-b09e6fe857ba
        config: {}
        dataType: NUMERIC(8,2)
        defaultValue: ""
        description: Maximum value allowed for a measure result.
        name: MEASURE_MAX_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a238e582-e851-4dfa-8d57-fc8147c7b114
                stepCounter: 16479f0f-61d2-462f-b562-cf3d2250cd14
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7db80e0a-bddf-407c-bfae-bcc0371d6b67
          stepCounter: c048fea6-e658-45e6-9033-b09e6fe857ba
        config: {}
        dataType: INT
        defaultValue: ""
        description: PK value for REFERENCE_VALUE row that holds the measure risk index.
        name: RSKIX_RFVAL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b495859e-460a-4108-bd58-f5522decf0ca
                stepCounter: 16479f0f-61d2-462f-b562-cf3d2250cd14
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e2d3aa19-657c-467c-86fb-7276028f81aa
          stepCounter: c048fea6-e658-45e6-9033-b09e6fe857ba
        config: {}
        dataType: VARCHAR(30)
        defaultValue: ""
        description: Free format desciption of the measure risk index.
        name: MEASURE_RISK_INDEX
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a1e6af49-d8c4-43cb-abf0-32e02215f095
                stepCounter: f6f252ab-0278-492b-8f5a-bc508fa6a440
            transform: IFNULL(r2.description, '')
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b448733e-5522-4e33-a731-6dc9c87efdd9
          stepCounter: c048fea6-e658-45e6-9033-b09e6fe857ba
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: L_PATIENTRACK_OBSERVATION_MEASURE
        join:
          joinCondition: |-
            FROM l_Patientrack_OBSERVATION_MEASURE
              LEFT OUTER JOIN l_Patientrack_OBSERVATION_MEASURE m2
                ON l_Patientrack_OBSERVATION_MEASURE.parent_obmsr_pk = m2.obmsr_pk
              LEFT OUTER JOIN l_Patientrack_REFERENCE_VALUE r1
                ON l_Patientrack_OBSERVATION_MEASURE.datyp_rfval = r1.rfval_pk
              LEFT OUTER JOIN l_Patientrack_REFERENCE_VALUE r2
                ON l_Patientrack_OBSERVATION_MEASURE.rskix_rfval = r2.rfval_pk
        name: S_EVITALS_MEASURE
        noLinkRefs: []
  name: S_EVITALS_MEASURE
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
