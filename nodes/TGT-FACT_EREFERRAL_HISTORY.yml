fileVersion: 1
id: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
name: FACT_EREFERRAL_HISTORY
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TGT
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cb7fcac0-038d-46bd-bf9e-3608c5b51ef9
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: ""
        name: EREFERRAL_EXTERNAL_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c26806ad-8f8f-4ad5-8dc2-e7c806ef13df
                stepCounter: 1b001e87-2800-48e8-81d3-7dc0959a014b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 275b7ebb-d96b-45c0-a2d8-4f0073ddf3bc
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_eReferralhistory_30.subservice_id=dim_eReferral_subservice.id
        name: DIM_EREFERRAL_SUBSERVICE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c1c60261-8ea4-4a8b-9137-9c1eee3e93e8
                stepCounter: 1a390d19-b997-47e2-8151-7fec91f6af63
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c0d02f6f-6761-4c2a-98d8-a482711b7d80
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_eReferralhistory_30.clinic_id=dim_eReferral_clinic.id
        name: DIM_EREFERRAL_CLINIC_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 14593301-644e-48b5-8efe-de9123a6b737
                stepCounter: 68e64939-79c8-4f7a-b6fe-4a323847dd50
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fb3b8885-e17b-40eb-8aad-bec113bb77cc
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_eReferralhistory_30.historytypecode=dim_eReferral_history_type.code
        name: DIM_EREFERRAL_HISTORY_TYPE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5c4a6e5b-cb75-48e0-a177-1b872588286c
                stepCounter: d834b0ee-ec4d-4f70-bec6-55f479a284bd
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f4d53420-85d6-479e-bc7b-5a8fc89a7d8e
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        isBusinessKey: true
        name: ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 903cf58c-25ef-4d92-80da-75865019bf6d
                stepCounter: 1b001e87-2800-48e8-81d3-7dc0959a014b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cb1f1373-5831-4cc7-9b33-7ff10f93d332
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_eReferralhistory_30.patient_NHI=dim_eReferral_patient.patient_NHI
        name: DIM_EREFERRAL_PATIENT_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 50a155e6-406c-43d3-906b-6742aa7a3739
                stepCounter: 08541e93-761f-44f6-8ce1-8ebe9a796aae
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0a1dba19-f825-401e-8cf6-2d64daa48df7
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: ASC_SEQ
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 836b4584-cf10-406b-b16f-fd3f8129fd42
                stepCounter: 1b001e87-2800-48e8-81d3-7dc0959a014b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a131f6b0-feba-44ff-9ebf-371ccfda813c
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_eReferralhistory_30.service_id=dim_eReferral_service.id
        name: DIM_EREFERRAL_SERVICE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ed8a5c34-b025-47c5-86f9-5224042b3e50
                stepCounter: 83388a96-09c1-455c-b81f-acf65073f3f5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1d1668d3-88f2-4ed3-9258-77deed757e7d
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_eReferralhistory_30.status_id=dim_eReferral_status.id
        name: DIM_EREFERRAL_STATUS_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 10c62431-c469-4cb6-b84c-3d445dc5d692
                stepCounter: 59332a3b-e082-4f95-a186-9328a1031877
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c4258760-b156-4d9f-8f70-49812ce46776
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_eReferralhistory_30.triage_id=dim_triage.id
        name: DIM_TRIAGE_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 98e11b34-049b-40e7-adb6-89003625aca4
                stepCounter: a0bfba3b-2b83-4898-89c0-88fc5b756d7b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8fdfaf60-b2a8-4cae-909c-946ed18f02ee
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: s_eReferralhistory_30.reason_for_action_id=dim_reason_for_action.id
        name: DIM_REASON_FOR_ACTION_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ceb260a3-2193-47a9-ba1f-aec6ff5acc43
                stepCounter: 5c253f0a-cc11-4a42-99e7-a55251a2ef63
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8bb081ab-d0b0-4e6a-8aa0-b2138d355715
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: INT
        defaultValue: ""
        description: s_eReferralhistory_30.user_name=dim_user_login_concerto.user_name
        name: DIM_USER_LOGIN_CONCERTO_KEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 16f2ac98-6185-439c-9a15-757698e43d58
                stepCounter: 4bf64241-1d0b-4a30-8919-350bb5d33ed1
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 47ab9b59-3095-46cc-9574-d6999c6d3599
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: DESC_SEQ
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 792eec9e-fdad-416d-8bce-a33e17f1bd7f
                stepCounter: 1b001e87-2800-48e8-81d3-7dc0959a014b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 00dbb447-0548-4d04-bc9e-2d0985890778
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: MODIFIED_DATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 251cfb6a-42ab-4272-af7a-032dd9ed47b3
                stepCounter: 1b001e87-2800-48e8-81d3-7dc0959a014b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b5b4d19f-3978-48d8-8f0e-26cddfc9f2dc
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: NVARCHAR(50)
        defaultValue: ""
        description: ""
        name: PATIENT_NHI
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d74c9b6f-6c33-4016-9326-414b807a4ec9
                stepCounter: 1b001e87-2800-48e8-81d3-7dc0959a014b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 90ff3ea2-20a3-4db0-8308-1655ec6e1d17
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: CHAR(1)
        defaultValue: ""
        description: ""
        name: NOTIFY_REFERRER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: da04f580-02bc-46e4-80df-aa66f5d30586
                stepCounter: 1b001e87-2800-48e8-81d3-7dc0959a014b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 28d9fa3f-c2f8-4a8b-af96-9ad18035d06d
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: BIT
        defaultValue: ""
        description: ""
        name: HAS_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8d1f98c3-f311-4f58-a7ca-37d352eff889
                stepCounter: 1b001e87-2800-48e8-81d3-7dc0959a014b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bf2d389a-744b-49f2-8104-370babe08ef3
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: INT
        defaultValue: ""
        description: ""
        name: EREFERRAL_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 07b5ecab-5ac4-4ad9-b4f2-39b6ffe52855
                stepCounter: 1b001e87-2800-48e8-81d3-7dc0959a014b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dbd0fc49-f277-4dcc-835b-87b386bb73c6
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: NOTIFICATION_SENT_DATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f29c4f67-0c2b-4466-9fdc-6042e73d7363
                stepCounter: 1b001e87-2800-48e8-81d3-7dc0959a014b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7f5a0514-21a4-4aa9-b1a9-11d905a79444
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: NVARCHAR(255)
        defaultValue: ""
        description: ""
        name: LINKED_REFERRAL_ENCOUNTER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0ae4320e-b59b-49f1-9906-cf7465f59fa9
                stepCounter: 1b001e87-2800-48e8-81d3-7dc0959a014b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fd0079f5-43dc-485d-b248-070637c81e74
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: ""
        name: FSA_DATETIME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9ea20c9f-9a7c-4e2c-920a-afec36e0df18
                stepCounter: 1b001e87-2800-48e8-81d3-7dc0959a014b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c62e3f7d-02ac-4b9b-ab91-00f9c46bc876
          stepCounter: 8d43fd9b-8857-40a2-804d-f1ddc19ebfa9
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          S_EREFERRAL_HISTORY: 1b001e87-2800-48e8-81d3-7dc0959a014b
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TGT
            nodeName: S_EREFERRAL_HISTORY
        join:
          joinCondition: FROM {{ ref('TGT','S_EREFERRAL_HISTORY') }}
        name: FACT_EREFERRAL_HISTORY
        noLinkRefs: []
  name: FACT_EREFERRAL_HISTORY
  overrideSQL: false
  schema: ""
  sqlType: Fact
  type: sql
  version: 1
type: Node
